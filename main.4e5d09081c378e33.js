"use strict";(self.webpackChunkuser_display_app=self.webpackChunkuser_display_app||[]).push([[179],{908:()=>{function Ne(n){return"function"==typeof n}function Uc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Pd=Uc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function $o(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ne(r))try{r()}catch(s){e=s instanceof Pd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{MS(s)}catch(o){e=e??[],o instanceof Pd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Pd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)MS(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&$o(t,e)}remove(e){const{_finalizers:t}=this;t&&$o(t,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const n=new kn;return n.closed=!0,n})();const SS=kn.EMPTY;function AS(n){return n instanceof kn||n&&"closed"in n&&Ne(n.remove)&&Ne(n.add)&&Ne(n.unsubscribe)}function MS(n){Ne(n)?n():n.unsubscribe()}const As={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fd={setTimeout(n,e,...t){const{delegate:r}=Fd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Fd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function xS(n){Fd.setTimeout(()=>{const{onUnhandledError:e}=As;if(!e)throw n;e(n)})}function ym(){}const UG=_m("C",void 0,void 0);function _m(n,e,t){return{kind:n,value:e,error:t}}let Ms=null;function Ld(n){if(As.useDeprecatedSynchronousErrorHandling){const e=!Ms;if(e&&(Ms={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ms;if(Ms=null,t)throw r}}else n()}class vm extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,AS(e)&&e.add(this)):this.destination=qG}static create(e,t,r){return new Bc(e,t,r)}next(e){this.isStopped?bm(function $G(n){return _m("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?bm(function BG(n){return _m("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bm(UG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const GG=Function.prototype.bind;function wm(n,e){return GG.call(n,e)}class HG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Vd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Vd(r)}else Vd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Vd(t)}}}class Bc extends vm{constructor(e,t,r){let i;if(super(),Ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&As.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wm(e.next,s),error:e.error&&wm(e.error,s),complete:e.complete&&wm(e.complete,s)}):i=e}this.destination=new HG(i)}}function Vd(n){As.useDeprecatedSynchronousErrorHandling?function jG(n){As.useDeprecatedSynchronousErrorHandling&&Ms&&(Ms.errorThrown=!0,Ms.error=n)}(n):xS(n)}function bm(n,e){const{onStoppedNotification:t}=As;t&&Fd.setTimeout(()=>t(n,e))}const qG={closed:!0,next:ym,error:function zG(n){throw n},complete:ym},Em="function"==typeof Symbol&&Symbol.observable||"@@observable";function $i(n){return n}function kS(n){return 0===n.length?$i:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function QG(n){return n&&n instanceof vm||function KG(n){return n&&Ne(n.next)&&Ne(n.error)&&Ne(n.complete)}(n)&&AS(n)}(t)?t:new Bc(t,r,i);return Ld(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=NS(r))((i,s)=>{const o=new Bc({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Em](){return this}pipe(...t){return kS(t)(this)}toPromise(t){return new(t=NS(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function NS(n){var e;return null!==(e=n??As.Promise)&&void 0!==e?e:Promise}const YG=Uc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zn=(()=>{class n extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new RS(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new YG}next(t){Ld(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ld(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ld(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?SS:(this.currentObservers=null,s.push(t),new kn(()=>{this.currentObservers=null,$o(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Be;return t.source=this,t}}return n.create=(e,t)=>new RS(e,t),n})();class RS extends Zn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:SS}}function OS(n){return Ne(n?.lift)}function et(n){return e=>{if(OS(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ke(n,e,t,r,i){return new XG(n,e,t,r,i)}class XG extends vm{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(n,e){return et((t,r)=>{let i=0;t.subscribe(Ke(r,s=>{r.next(n.call(e,s,i++))}))})}function FS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function xs(n){return this instanceof xs?(this.v=n,this):new xs(n)}function tH(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function VS(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}const US=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function BS(n){return Ne(n?.then)}function $S(n){return Ne(n[Em])}function jS(n){return Symbol.asyncIterator&&Ne(n?.[Symbol.asyncIterator])}function GS(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const HS=function rH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function zS(n){return Ne(n?.[HS])}function qS(n){return function eH(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof xs?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield xs(t.read());if(i)return yield xs(void 0);yield yield xs(r)}}finally{t.releaseLock()}})}function WS(n){return Ne(n?.getReader)}function Nn(n){if(n instanceof Be)return n;if(null!=n){if($S(n))return function iH(n){return new Be(e=>{const t=n[Em]();if(Ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(US(n))return function sH(n){return new Be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(BS(n))return function oH(n){return new Be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,xS)})}(n);if(jS(n))return KS(n);if(zS(n))return function aH(n){return new Be(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(WS(n))return function cH(n){return KS(qS(n))}(n)}throw GS(n)}function KS(n){return new Be(e=>{(function uH(n,e){var t,r,i,s;return function ZG(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=tH(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ni(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ft(n,e,t=1/0){return Ne(e)?Ft((r,i)=>ue((s,o)=>e(r,s,i,o))(Nn(n(r,i))),t):("number"==typeof e&&(t=e),et((r,i)=>function lH(n,e,t,r,i,s,o,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{s&&e.next(g),u++;let m=!1;Nn(t(g,l++)).subscribe(Ke(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){const v=c.shift();o?ni(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Ke(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function jo(n=1/0){return Ft($i,n)}const kr=new Be(n=>n.complete());function Dm(n){return n[n.length-1]}function QS(n){return Ne(Dm(n))?n.pop():void 0}function $c(n){return function hH(n){return n&&Ne(n.schedule)}(Dm(n))?n.pop():void 0}function Ud(n,e=0){return et((t,r)=>{t.subscribe(Ke(r,i=>ni(r,n,()=>r.next(i),e),()=>ni(r,n,()=>r.complete(),e),i=>ni(r,n,()=>r.error(i),e)))})}function Bd(n,e=0){return et((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function YS(n,e){if(!n)throw new Error("Iterable cannot be null");return new Be(t=>{ni(t,e,()=>{const r=n[Symbol.asyncIterator]();ni(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function dt(n,e){return e?function vH(n,e){if(null!=n){if($S(n))return function pH(n,e){return Nn(n).pipe(Bd(e),Ud(e))}(n,e);if(US(n))return function mH(n,e){return new Be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(BS(n))return function gH(n,e){return Nn(n).pipe(Bd(e),Ud(e))}(n,e);if(jS(n))return YS(n,e);if(zS(n))return function yH(n,e){return new Be(t=>{let r;return ni(t,e,()=>{r=n[HS](),ni(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ne(r?.return)&&r.return()})}(n,e);if(WS(n))return function _H(n,e){return YS(qS(n),e)}(n,e)}throw GS(n)}(n,e):Nn(n)}function Tm(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Bc({next:()=>{r.unsubscribe(),n()}});return Nn(e(...t)).subscribe(r)}function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function Cm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Re(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Re).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Sm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const EH=ke({__forward_ref__:ke});function Me(n){return n.__forward_ref__=Me,n.toString=function(){return Re(this())},n}function Q(n){return Am(n)?n():n}function Am(n){return"function"==typeof n&&n.hasOwnProperty(EH)&&n.__forward_ref__===Me}function Mm(n){return n&&!!n.\u0275providers}class E extends Error{constructor(e,t){super($d(e,t)),this.code=e}}function $d(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function jd(n,e){throw new E(-201,!1)}function Jn(n,e){null==n&&function Te(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ht(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gd(n){return ZS(n,Hd)||ZS(n,eA)}function ZS(n,e){return n.hasOwnProperty(e)?n[e]:null}function JS(n){return n&&(n.hasOwnProperty(xm)||n.hasOwnProperty(kH))?n[xm]:null}const Hd=ke({\u0275prov:ke}),xm=ke({\u0275inj:ke}),eA=ke({ngInjectableDef:ke}),kH=ke({ngInjectorDef:ke});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let km;function er(n){const e=km;return km=n,e}function tA(n,e,t){const r=Gd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Y.Optional?null:void 0!==e?e:void jd(Re(n))}const Fe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jc={},Nm="__NG_DI_FLAG__",zd="ngTempTokenPath",RH="ngTokenPath",OH=/\n/gm,PH="\u0275",nA="__source";let Gc;function Go(n){const e=Gc;return Gc=n,e}function FH(n,e=Y.Default){if(void 0===Gc)throw new E(-203,!1);return null===Gc?tA(n,void 0,e):Gc.get(n,e&Y.Optional?null:void 0,e)}function k(n,e=Y.Default){return(function NH(){return km}()||FH)(Q(n),e)}function le(n,e=Y.Default){return k(n,qd(e))}function qd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Rm(n){const e=[];for(let t=0;t<n.length;t++){const r=Q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){const a=r[o],c=LH(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(k(i,s))}else e.push(k(r))}return e}function Hc(n,e){return n[Nm]=e,n.prototype[Nm]=e,n}function LH(n){return n[Nm]}function ri(n){return{toString:n}.toString()}var Nr=(()=>((Nr=Nr||{})[Nr.OnPush=0]="OnPush",Nr[Nr.Default=1]="Default",Nr))(),pr=(()=>{return(n=pr||(pr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pr;var n})();const ii={},Ie=[],Wd=ke({\u0275cmp:ke}),Om=ke({\u0275dir:ke}),Pm=ke({\u0275pipe:ke}),iA=ke({\u0275mod:ke}),si=ke({\u0275fac:ke}),zc=ke({__NG_ELEMENT_ID__:ke});let BH=0;function Gi(n){return ri(()=>{const e=oA(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Nr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||pr.Emulated,id:"c"+BH++,styles:n.styles||Ie,_:null,schemas:n.schemas||null,tView:null};aA(t);const r=n.dependencies;return t.directiveDefs=Kd(r,!1),t.pipeDefs=Kd(r,!0),t})}function jH(n){return Ce(n)||Qt(n)}function GH(n){return null!==n}function vt(n){return ri(()=>({type:n.type,bootstrap:n.bootstrap||Ie,declarations:n.declarations||Ie,imports:n.imports||Ie,exports:n.exports||Ie,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function sA(n,e){if(null==n)return ii;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function $(n){return ri(()=>{const e=oA(n);return aA(e),e})}function wn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ce(n){return n[Wd]||null}function Qt(n){return n[Om]||null}function bn(n){return n[Pm]||null}function On(n,e){const t=n[iA]||null;if(!t&&!0===e)throw new Error(`Type ${Re(n)} does not have '\u0275mod' property.`);return t}function oA(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ie,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sA(n.inputs,e),outputs:sA(n.outputs)}}function aA(n){n.features?.forEach(e=>e(n))}function Kd(n,e){if(!n)return null;const t=e?bn:jH;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(GH)}const oi=0,F=1,ae=2,Qe=3,gr=4,ks=5,Yt=6,zo=7,tt=8,Qd=9,Yd=10,de=11,Fm=12,qc=13,cA=14,qo=15,Xt=16,Wc=17,Wo=18,Rr=19,Kc=20,uA=21,Le=22,Lm=1,lA=2,Xd=7,Zd=8,Ko=9,an=10;function Pn(n){return Array.isArray(n)&&"object"==typeof n[Lm]}function mr(n){return Array.isArray(n)&&!0===n[Lm]}function Vm(n){return 0!=(4&n.flags)}function Qc(n){return n.componentOffset>-1}function Jd(n){return 1==(1&n.flags)}function yr(n){return!!n.template}function zH(n){return 0!=(256&n[ae])}function Ns(n,e){return n.hasOwnProperty(si)?n[si]:null}class KH{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function tr(){return fA}function fA(n){return n.type.prototype.ngOnChanges&&(n.setInput=YH),QH}function QH(){const n=gA(this),e=n?.current;if(e){const t=n.previous;if(t===ii)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function YH(n,e,t,r){const i=this.declaredInputs[t],s=gA(n)||function XH(n,e){return n[pA]=e}(n,{previous:ii,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new KH(c&&c.currentValue,e,a===ii),n[r]=e}tr.ngInherit=!0;const pA="__ngSimpleChanges__";function gA(n){return n[pA]||null}const nr=function(n,e,t){},mA="svg";function Lt(n){for(;Array.isArray(n);)n=n[oi];return n}function eh(n,e){return Lt(e[n])}function Fn(n,e){return Lt(e[n.index])}function _A(n,e){return n.data[e]}function Qo(n,e){return n[e]}function Ln(n,e){const t=e[n];return Pn(t)?t:t[oi]}function th(n){return 64==(64&n[ae])}function Hi(n,e){return null==e?null:n[e]}function vA(n){n[Wo]=0}function Bm(n,e){n[ks]+=e;let t=n,r=n[Qe];for(;null!==r&&(1===e&&1===t[ks]||-1===e&&0===t[ks]);)r[ks]+=e,t=r,r=r[Qe]}const re={lFrame:MA(null),bindingsEnabled:!0};function bA(){return re.bindingsEnabled}function T(){return re.lFrame.lView}function ye(){return re.lFrame.tView}function Vt(){let n=EA();for(;null!==n&&64===n.type;)n=n.parent;return n}function EA(){return re.lFrame.currentTNode}function Or(n,e){const t=re.lFrame;t.currentTNode=n,t.isParent=e}function $m(){return re.lFrame.isParent}function jm(){re.lFrame.isParent=!1}function Yo(){return re.lFrame.bindingIndex++}function hz(n,e){const t=re.lFrame;t.bindingIndex=t.bindingRootIndex=n,Gm(e)}function Gm(n){re.lFrame.currentDirectiveIndex=n}function CA(){return re.lFrame.currentQueryIndex}function zm(n){re.lFrame.currentQueryIndex=n}function pz(n){const e=n[F];return 2===e.type?e.declTNode:1===e.type?n[Yt]:null}function SA(n,e,t){if(t&Y.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Y.Host||(i=pz(s),null===i||(s=s[qo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=re.lFrame=AA();return r.currentTNode=e,r.lView=n,!0}function qm(n){const e=AA(),t=n[F];re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AA(){const n=re.lFrame,e=null===n?null:n.child;return null===e?MA(n):e}function MA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function xA(){const n=re.lFrame;return re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const kA=xA;function Wm(){const n=xA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function un(){return re.lFrame.selectedIndex}function Rs(n){re.lFrame.selectedIndex=n}function He(){const n=re.lFrame;return _A(n.tView,n.selectedIndex)}function nh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),u&&((n.viewHooks||(n.viewHooks=[])).push(t,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,u)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function rh(n,e,t){OA(n,e,3,t)}function ih(n,e,t,r){(3&n[ae])===t&&OA(n,e,t,r)}function Km(n,e){let t=n[ae];(3&t)===e&&(t&=2047,t+=1,n[ae]=t)}function OA(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Wo]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Wo]+=65536),(a<s||-1==s)&&(bz(n,t,e,c),n[Wo]=(4294901760&n[Wo])+c+2),c++}function bz(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[ae]>>11<n[Wo]>>16&&(3&n[ae])===e){n[ae]+=2048,nr(4,a,s);try{s.call(a)}finally{nr(5,a,s)}}}else{nr(4,a,s);try{s.call(a)}finally{nr(5,a,s)}}}const Xo=-1;class Xc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ym(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];FA(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function PA(n){return 3===n||4===n||6===n}function FA(n){return 64===n.charCodeAt(0)}function Zc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||LA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function LA(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function VA(n){return n!==Xo}function sh(n){return 32767&n}function oh(n,e){let t=function Tz(n){return n>>16}(n),r=e;for(;t>0;)r=r[qo],t--;return r}let Xm=!0;function ah(n){const e=Xm;return Xm=n,e}const UA=255,BA=5;let Cz=0;const Pr={};function ch(n,e){const t=$A(n,e);if(-1!==t)return t;const r=e[F];r.firstCreatePass&&(n.injectorIndex=e.length,Zm(r.data,n),Zm(e,null),Zm(r.blueprint,null));const i=Jm(n,e),s=n.injectorIndex;if(VA(i)){const o=sh(i),a=oh(i,e),c=a[F].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Zm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function $A(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Jm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=KA(i),null===r)return Xo;if(t++,i=i[qo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Xo}function ey(n,e,t){!function Sz(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(zc)&&(r=t[zc]),null==r&&(r=t[zc]=Cz++);const i=r&UA;e.data[n+(i>>BA)]|=1<<i}(n,e,t)}function jA(n,e,t){if(t&Y.Optional||void 0!==n)return n;jd()}function GA(n,e,t,r){if(t&Y.Optional&&void 0===r&&(r=null),!(t&(Y.Self|Y.Host))){const i=n[Qd],s=er(void 0);try{return i?i.get(e,r,t&Y.Optional):tA(e,r,t&Y.Optional)}finally{er(s)}}return jA(r,0,t)}function HA(n,e,t,r=Y.Default,i){if(null!==n){if(1024&e[ae]){const o=function Nz(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ae]&&!(256&o[ae]);){const a=zA(s,o,t,r|Y.Self,Pr);if(a!==Pr)return a;let c=s.parent;if(!c){const u=o[uA];if(u){const l=u.get(t,Pr,r);if(l!==Pr)return l}c=KA(o),o=o[qo]}s=c}return i}(n,e,t,r,Pr);if(o!==Pr)return o}const s=zA(n,e,t,r,Pr);if(s!==Pr)return s}return GA(e,t,r,i)}function zA(n,e,t,r,i){const s=function xz(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(zc)?n[zc]:void 0;return"number"==typeof e?e>=0?e&UA:kz:e}(t);if("function"==typeof s){if(!SA(e,n,r))return r&Y.Host?jA(i,0,r):GA(e,t,r,i);try{const o=s(r);if(null!=o||r&Y.Optional)return o;jd()}finally{kA()}}else if("number"==typeof s){let o=null,a=$A(n,e),c=Xo,u=r&Y.Host?e[Xt][Yt]:null;for((-1===a||r&Y.SkipSelf)&&(c=-1===a?Jm(n,e):e[a+8],c!==Xo&&WA(r,!1)?(o=e[F],a=sh(c),e=oh(c,e)):a=-1);-1!==a;){const l=e[F];if(qA(s,a,l.data)){const d=Mz(a,e,t,o,r,u);if(d!==Pr)return d}c=e[a+8],c!==Xo&&WA(r,e[F].data[a+8]===u)&&qA(s,a,e)?(o=l,a=sh(c),e=oh(c,e)):a=-1}}return i}function Mz(n,e,t,r,i,s){const o=e[F],a=o.data[n+8],l=uh(a,o,t,null==r?Qc(a)&&Xm:r!=o&&0!=(3&a.type),i&Y.Host&&s===a);return null!==l?Os(e,o,l,a):Pr}function uh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){const f=o[c];if(f&&yr(f)&&f.type===t)return c}return null}function Os(n,e,t,r){let i=n[t];const s=e.data;if(function Ez(n){return n instanceof Xc}(i)){const o=i;o.resolving&&function IH(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new E(-200,`Circular dependency in DI detected for ${n}${t}`)}(function De(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}(s[t]));const a=ah(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?er(o.injectImpl):null;SA(n,r,Y.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function wz(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=fA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&er(c),ah(a),o.resolving=!1,kA()}}return i}function qA(n,e,t){return!!(t[e+(n>>BA)]&1<<n)}function WA(n,e){return!(n&Y.Self||n&Y.Host&&e)}class Zo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return HA(this._tNode,this._lView,e,qd(r),t)}}function kz(){return new Zo(Vt(),T())}function St(n){return ri(()=>{const e=n.prototype.constructor,t=e[si]||ty(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[si]||ty(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ty(n){return Am(n)?()=>{const e=ty(Q(n));return e&&e()}:Ns(n)}function KA(n){const e=n[F],t=e.type;return 2===t?e.declTNode:1===t?n[Yt]:null}const ea="__parameters__";function na(n,e,t){return ri(()=>{const r=function ny(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(ea)?c[ea]:Object.defineProperty(c,ea,{value:[]})[ea];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class O{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ps(n,e){n.forEach(t=>Array.isArray(t)?Ps(t,e):e(t))}function YA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function lh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function nu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Vn(n,e,t){let r=ra(n,e);return r>=0?n[1|r]=t:(r=~r,function Fz(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function iy(n,e){const t=ra(n,e);if(t>=0)return n[1|t]}function ra(n,e){return function XA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ln=Hc(na("Optional"),8),ru=Hc(na("SkipSelf"),4);var En=(()=>((En=En||{})[En.Important=1]="Important",En[En.DashCase=2]="DashCase",En))();const ly=new Map;let iq=0;const hy="__ngContext__";function Zt(n,e){Pn(e)?(n[hy]=e[Kc],function oq(n){ly.set(n[Kc],n)}(e)):n[hy]=e}let fy;function py(n,e){return fy(n,e)}function au(n){const e=n[Qe];return mr(e)?e[Qe]:e}function gy(n){return yM(n[qc])}function my(n){return yM(n[gr])}function yM(n){for(;null!==n&&!mr(n);)n=n[gr];return n}function sa(n,e,t,r,i){if(null!=r){let s,o=!1;mr(r)?s=r:Pn(r)&&(o=!0,r=r[oi]);const a=Lt(r);0===n&&null!==t?null==i?IM(e,t,a):Fs(e,t,a,i||null,!0):1===n&&null!==t?Fs(e,t,a,i||null,!0):2===n?function Iy(n,e,t){const r=ph(n,e);r&&function Cq(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Mq(n,e,t,r,i){const s=t[Xd];s!==Lt(t)&&sa(e,n,r,s,i);for(let a=an;a<t.length;a++){const c=t[a];cu(c[F],c,n,e,r,s)}}(e,n,s,t,i)}}function _y(n,e,t){return n.createElement(e,t)}function vM(n,e){const t=n[Ko],r=t.indexOf(e),i=e[Qe];512&e[ae]&&(e[ae]&=-513,Bm(i,-1)),t.splice(r,1)}function vy(n,e){if(n.length<=an)return;const t=an+e,r=n[t];if(r){const i=r[Wc];null!==i&&i!==n&&vM(i,r),e>0&&(n[t-1][gr]=r[gr]);const s=lh(n,an+e);!function _q(n,e){cu(n,e,e[de],2,null,null),e[oi]=null,e[Yt]=null}(r[F],r);const o=s[Rr];null!==o&&o.detachView(s[F]),r[Qe]=null,r[gr]=null,r[ae]&=-65}return r}function wM(n,e){if(!(128&e[ae])){const t=e[de];t.destroyNode&&cu(n,e,t,3,null,null),function bq(n){let e=n[qc];if(!e)return wy(n[F],n);for(;e;){let t=null;if(Pn(e))t=e[qc];else{const r=e[an];r&&(t=r)}if(!t){for(;e&&!e[gr]&&e!==n;)Pn(e)&&wy(e[F],e),e=e[Qe];null===e&&(e=n),Pn(e)&&wy(e[F],e),t=e&&e[gr]}e=t}}(e)}}function wy(n,e){if(!(128&e[ae])){e[ae]&=-65,e[ae]|=128,function Tq(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Xc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];nr(4,a,c);try{c.call(a)}finally{nr(5,a,c)}}else{nr(4,i,s);try{s.call(i)}finally{nr(5,i,s)}}}}}(n,e),function Dq(n,e){const t=n.cleanup,r=e[zo];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[zo]=null}}(n,e),1===e[F].type&&e[de].destroy();const t=e[Wc];if(null!==t&&mr(e[Qe])){t!==e[Qe]&&vM(t,e);const r=e[Rr];null!==r&&r.detachView(n)}!function aq(n){ly.delete(n[Kc])}(e)}}function bM(n,e,t){return function EM(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[oi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===pr.None||s===pr.Emulated)return null}return Fn(r,t)}}(n,e.parent,t)}function Fs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function IM(n,e,t){n.appendChild(e,t)}function DM(n,e,t,r,i){null!==r?Fs(n,e,t,r,i):IM(n,e,t)}function ph(n,e){return n.parentNode(e)}function TM(n,e,t){return SM(n,e,t)}let by,Cy,SM=function CM(n,e,t){return 40&n.type?Fn(n,t):null};function gh(n,e,t,r){const i=bM(n,r,e),s=e[de],a=TM(r.parent||e[Yt],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)DM(s,i,t[c],a,!1);else DM(s,i,t,a,!1);void 0!==by&&by(s,r,e,t,i)}function mh(n,e){if(null!==e){const t=e.type;if(3&t)return Fn(e,n);if(4&t)return Ey(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return mh(n,r);{const i=n[e.index];return mr(i)?Ey(-1,i):Lt(i)}}if(32&t)return py(e,n)()||Lt(n[e.index]);{const r=MM(n,e);return null!==r?Array.isArray(r)?r[0]:mh(au(n[Xt]),r):mh(n,e.next)}}return null}function MM(n,e){return null!==e?n[Xt][Yt].projection[e.projection]:null}function Ey(n,e){const t=an+n+1;if(t<e.length){const r=e[t],i=r[F].firstChild;if(null!==i)return mh(r,i)}return e[Xd]}function Dy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&Zt(Lt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Dy(n,e,t.child,r,i,s,!1),sa(e,n,i,a,s);else if(32&c){const u=py(t,r);let l;for(;l=u();)sa(e,n,i,l,s);sa(e,n,i,a,s)}else 16&c?xM(n,e,r,t,i,s):sa(e,n,i,a,s);t=o?t.projectionNext:t.next}}function cu(n,e,t,r,i,s){Dy(t,r,n.firstChild,e,i,s,!1)}function xM(n,e,t,r,i,s){const o=t[Xt],c=o[Yt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)sa(e,n,i,c[u],s);else Dy(n,e,c,o[Qe],i,s,!0)}function kM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function NM(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Ym(n,e,r),null!==i&&kM(n,e,i),null!==s&&function kq(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class LM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const wh=new O("ENVIRONMENT_INITIALIZER"),WM=new O("INJECTOR",-1),KM=new O("INJECTOR_DEF_TYPES");class QM{get(e,t=jc){if(t===jc){const r=new Error(`NullInjectorError: No provider for ${Re(e)}!`);throw r.name="NullInjectorError",r}return t}}function s3(...n){return{\u0275providers:YM(0,n),\u0275fromNgModule:!0}}function YM(n,...e){const t=[],r=new Set;let i;return Ps(e,s=>{const o=s;Ny(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&XM(i,t),t}function XM(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Ry(i,s=>{e.push(s)})}}function Ny(n,e,t,r){if(!(n=Q(n)))return!1;let i=null,s=JS(n);const o=!s&&Ce(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=JS(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)Ny(u,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Ps(s.imports,l=>{Ny(l,e,t,r)&&(u||(u=[]),u.push(l))})}finally{}void 0!==u&&XM(u,e)}if(!a){const u=Ns(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:Ie},{provide:KM,useValue:i,multi:!0},{provide:wh,useValue:()=>k(i),multi:!0})}const c=s.providers;null==c||a||Ry(c,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function Ry(n,e){for(let t of n)Mm(t)&&(t=t.\u0275providers),Array.isArray(t)?Ry(t,e):e(t)}const o3=ke({provide:String,useValue:ke});function Oy(n){return null!==n&&"object"==typeof n&&o3 in n}function Ls(n){return"function"==typeof n}const Py=new O("Set Injector scope."),bh={},c3={};let Fy;function Eh(){return void 0===Fy&&(Fy=new QM),Fy}class li{}class ex extends li{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vy(e,o=>this.processProvider(o)),this.records.set(WM,aa(void 0,this)),i.has("environment")&&this.records.set(li,aa(void 0,this));const s=this.records.get(Py);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(KM.multi,Ie,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Go(this),r=er(void 0);try{return e()}finally{Go(t),er(r)}}get(e,t=jc,r=Y.Default){this.assertNotDestroyed(),r=qd(r);const i=Go(this),s=er(void 0);try{if(!(r&Y.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function f3(n){return"function"==typeof n||"object"==typeof n&&n instanceof O}(e)&&Gd(e);a=c&&this.injectableDefInScope(c)?aa(Ly(e),bh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Y.Self?Eh():this.parent).get(e,t=r&Y.Optional&&t===jc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[zd]=o[zd]||[]).unshift(Re(e)),i)throw o;return function VH(n,e,t,r){const i=n[zd];throw e[nA]&&i.unshift(e[nA]),n.message=function UH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==PH?n.slice(2):n;let i=Re(e);if(Array.isArray(e))i=e.map(Re).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Re(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(OH,"\n  ")}`}("\n"+n.message,i,t,r),n[RH]=i,n[zd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{er(s),Go(i)}}resolveInjectorInitializers(){const e=Go(this),t=er(void 0);try{const r=this.get(wh.multi,Ie,Y.Self);for(const i of r)i()}finally{Go(e),er(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Re(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){let t=Ls(e=Q(e))?e:Q(e&&e.provide);const r=function l3(n){return Oy(n)?aa(void 0,n.useValue):aa(tx(n),bh)}(e);if(Ls(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=aa(void 0,bh,!0),i.factory=()=>Rm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===bh&&(t.value=c3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function h3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Ly(n){const e=Gd(n),t=null!==e?e.factory:Ns(n);if(null!==t)return t;if(n instanceof O)throw new E(204,!1);if(n instanceof Function)return function u3(n){const e=n.length;if(e>0)throw nu(e,"?"),new E(204,!1);const t=function MH(n){const e=n&&(n[Hd]||n[eA]);return e?(function xH(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),e):null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new E(204,!1)}function tx(n,e,t){let r;if(Ls(n)){const i=Q(n);return Ns(i)||Ly(i)}if(Oy(n))r=()=>Q(n.useValue);else if(function JM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Rm(n.deps||[]));else if(function ZM(n){return!(!n||!n.useExisting)}(n))r=()=>k(Q(n.useExisting));else{const i=Q(n&&(n.useClass||n.provide));if(!function d3(n){return!!n.deps}(n))return Ns(i)||Ly(i);r=()=>new i(...Rm(n.deps))}return r}function aa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Vy(n,e){for(const t of n)Array.isArray(t)?Vy(t,e):t&&Mm(t)?Vy(t.\u0275providers,e):e(t)}class p3{}class nx{}class m3{resolveComponentFactory(e){throw function g3(n){const e=Error(`No component factory found for ${Re(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let hu=(()=>{class n{}return n.NULL=new m3,n})();function y3(){return ca(Vt(),T())}function ca(n,e){return new Jt(Fn(n,e))}let Jt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=y3,n})();function _3(n){return n instanceof Jt?n.nativeElement:n}class fu{}let di=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function v3(){const n=T(),t=Ln(Vt().index,n);return(Pn(t)?t:n)[de]}(),n})(),w3=(()=>{class n{}return n.\u0275prov=j({token:n,providedIn:"root",factory:()=>null}),n})();class qi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ix=new qi("15.2.5"),Uy={},By="ngOriginalError";function $y(n){return n[By]}class ua{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&$y(e);for(;t&&$y(t);)t=$y(t);return t||null}}function hi(n){return n instanceof Function?n():n}function ox(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const ax="ng-template";function k3(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==ox(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function cx(n){return 4===n.type&&n.value!==ax}function N3(n,e,t){return e===(4!==n.type||t?n.value:ax)}function R3(n,e,t){let r=4;const i=n.attrs||[],s=function F3(n){for(let e=0;e<n.length;e++)if(PA(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!N3(n,c,t)||""===c&&1===e.length){if(_r(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!k3(n.attrs,u,t)){if(_r(r))return!1;o=!0}continue}const d=O3(8&r?"class":c,i,cx(n),t);if(-1===d){if(_r(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==ox(f,u,0)||2&r&&u!==h){if(_r(r))return!1;o=!0}}}}else{if(!o&&!_r(r)&&!_r(c))return!1;if(o&&_r(c))continue;o=!1,r=c|1&r}}return _r(r)||o}function _r(n){return 0==(1&n)}function O3(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function L3(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function ux(n,e,t=!1){for(let r=0;r<e.length;r++)if(R3(n,e[r],t))return!0;return!1}function V3(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function lx(n,e){return n?":not("+e.trim()+")":e}function U3(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!_r(o)&&(e+=lx(s,i),i=""),r=o,s=s||!_r(r);t++}return""!==i&&(e+=lx(s,i)),e}const ie={};function vr(n){dx(ye(),T(),un()+n,!1)}function dx(n,e,t,r){if(!r)if(3==(3&e[ae])){const s=n.preOrderCheckHooks;null!==s&&rh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ih(e,s,0,t)}Rs(t)}function gx(n,e=null,t=null,r){const i=mx(n,e,t,r);return i.resolveInjectorInitializers(),i}function mx(n,e=null,t=null,r,i=new Set){const s=[t||Ie,s3(n)];return r=r||("object"==typeof n?void 0:Re(n)),new ex(s,e||Eh(),r||null,i)}let ir=(()=>{class n{static create(t,r){if(Array.isArray(t))return gx({name:""},r,t,"");{const i=t.name??"";return gx({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=jc,n.NULL=new QM,n.\u0275prov=j({token:n,providedIn:"any",factory:()=>k(WM)}),n.__NG_ELEMENT_ID__=-1,n})();function D(n,e=Y.Default){const t=T();return null===t?k(n,e):HA(Vt(),t,Q(n),e)}function qy(){throw new Error("invalid")}function Ix(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];zm(t[r]),o.contentQueries(2,e[s],s)}}}function Dh(n,e,t,r,i,s,o,a,c,u,l){const d=e.blueprint.slice();return d[oi]=i,d[ae]=76|r,(null!==l||n&&1024&n[ae])&&(d[ae]|=1024),vA(d),d[Qe]=d[qo]=n,d[tt]=t,d[Yd]=o||n&&n[Yd],d[de]=a||n&&n[de],d[Fm]=c||n&&n[Fm]||null,d[Qd]=u||n&&n[Qd]||null,d[Yt]=s,d[Kc]=function sq(){return iq++}(),d[uA]=l,d[Xt]=2==e.type?n[Xt]:d,d}function ha(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Wy(n,e,t,r,i){const s=EA(),o=$m(),c=n.data[e]=function dW(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,r,i),function dz(){return re.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Yc(){const n=re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Or(s,!0),s}function pu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ky(n,e,t){qm(e);try{const r=n.viewQuery;null!==r&&i_(1,r,t);const i=n.template;null!==i&&Dx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ix(n,e),n.staticViewQueries&&i_(2,n.viewQuery,t);const s=n.components;null!==s&&function cW(n,e){for(let t=0;t<e.length;t++)xW(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ae]&=-5,Wm()}}function Th(n,e,t,r){const i=e[ae];if(128!=(128&i)){qm(e);try{vA(e),function DA(n){return re.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Dx(n,e,t,2,r);const o=3==(3&i);if(o){const u=n.preOrderCheckHooks;null!==u&&rh(e,u,null)}else{const u=n.preOrderHooks;null!==u&&ih(e,u,0,null),Km(e,0)}if(function AW(n){for(let e=gy(n);null!==e;e=my(e)){if(!e[lA])continue;const t=e[Ko];for(let r=0;r<t.length;r++){const i=t[r];512&i[ae]||Bm(i[Qe],1),i[ae]|=512}}}(e),function SW(n){for(let e=gy(n);null!==e;e=my(e))for(let t=an;t<e.length;t++){const r=e[t],i=r[F];th(r)&&Th(i,r,i.template,r[tt])}}(e),null!==n.contentQueries&&Ix(n,e),o){const u=n.contentCheckHooks;null!==u&&rh(e,u)}else{const u=n.contentHooks;null!==u&&ih(e,u,1),Km(e,1)}!function oW(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Rs(~i);else{const s=i,o=t[++r],a=t[++r];hz(o,s),a(2,e[s])}}}finally{Rs(-1)}}(n,e);const a=n.components;null!==a&&function aW(n,e){for(let t=0;t<e.length;t++)MW(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&i_(2,c,r),o){const u=n.viewCheckHooks;null!==u&&rh(e,u)}else{const u=n.viewHooks;null!==u&&ih(e,u,2),Km(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ae]&=-41,512&e[ae]&&(e[ae]&=-513,Bm(e[Qe],-1))}finally{Wm()}}}function Dx(n,e,t,r,i){const s=un(),o=2&r;try{Rs(-1),o&&e.length>Le&&dx(n,e,Le,!1),nr(o?2:0,i),t(r,i)}finally{Rs(s),nr(o?3:1,i)}}function Qy(n,e,t){if(Vm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Yy(n,e,t){bA()&&(function yW(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Qc(t)&&function DW(n,e,t){const r=Fn(e,n),i=Tx(t),s=n[Yd],o=Ch(n,Dh(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ch(t,e),Zt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],u=Os(e,n,a,t);Zt(u,e),null!==o&&TW(0,a-i,u,c,0,o),yr(c)&&(Ln(t.index,e)[tt]=Os(e,n,a,t))}}(n,e,t,Fn(t,e)),64==(64&t.flags)&&kx(n,e,t))}function Xy(n,e,t=Fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function Tx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Zy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Zy(n,e,t,r,i,s,o,a,c,u){const l=Le+r,d=l+i,h=function uW(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ie);return t}(l,d),f="function"==typeof u?u():u;return h[F]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Cx(n,e,t,r){const i=Rx(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Ox(n).push(r,i.length-1))}function Sx(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?Ax(t,e,i,s):r.hasOwnProperty(i)&&Ax(t,e,r[i],s)}return t}function Ax(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Un(n,e,t,r,i,s,o,a){const c=Fn(e,t);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(s_(n,t,l,r,i),Qc(e)&&Mx(t,e.index)):3&e.type&&(r=function fW(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Mx(n,e){const t=Ln(e,n);16&t[ae]||(t[ae]|=32)}function Jy(n,e,t,r){if(bA()){const i=null===r?null:{"":-1},s=function vW(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(ux(e,o.selectors,!1))if(r||(r=[]),yr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),e_(n,e,a.length)}else r.unshift(o),e_(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&xx(n,e,t,o,i,a),i&&function wW(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new E(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Zc(t.mergedAttrs,t.attrs)}function xx(n,e,t,r,i,s){for(let u=0;u<r.length;u++)ey(ch(t,e),n,r[u].type);!function EW(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=pu(n,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];t.mergedAttrs=Zc(t.mergedAttrs,l.hostAttrs),IW(n,t,e,c,l),bW(c,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),c++}!function hW(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;c=Sx(d.inputs,l,c,h?h.inputs:null),u=Sx(d.outputs,l,u,p);const g=null===c||null===o||cx(e)?null:CW(c,l,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,s)}function kx(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function fz(){return re.lFrame.currentDirectiveIndex}();try{Rs(s);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];Gm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&_W(c,u)}}finally{Rs(-1),Gm(o)}}function _W(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function e_(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function bW(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;yr(e)&&(t[""]=n)}}function IW(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ns(i.type)),o=new Xc(s,yr(i),D);n.blueprint[r]=o,t[r]=o,function gW(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function mW(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,pu(n,t,i.hostVars,ie),i)}function Fr(n,e,t,r,i,s){const o=Fn(n,e);!function t_(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ne(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[de],o,s,n.value,t,r,i)}function TW(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let c=0;c<o.length;){const u=o[c++],l=o[c++],d=o[c++];null!==a?r.setInput(t,d,u,l):t[l]=d}}}function CW(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Nx(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function MW(n,e){const t=Ln(e,n);if(th(t)){const r=t[F];48&t[ae]?Th(r,t,r.template,t[tt]):t[ks]>0&&n_(t)}}function n_(n){for(let r=gy(n);null!==r;r=my(r))for(let i=an;i<r.length;i++){const s=r[i];if(th(s))if(512&s[ae]){const o=s[F];Th(o,s,o.template,s[tt])}else s[ks]>0&&n_(s)}const t=n[F].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Ln(t[r],n);th(i)&&i[ks]>0&&n_(i)}}function xW(n,e){const t=Ln(e,n),r=t[F];(function kW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Ky(r,t,t[tt])}function Ch(n,e){return n[qc]?n[cA][gr]=e:n[qc]=e,n[cA]=e,e}function r_(n){for(;n;){n[ae]|=32;const e=au(n);if(zH(n)&&!e)return n;n=e}return null}function Sh(n,e,t,r=!0){const i=e[Yd];i.begin&&i.begin();try{Th(n,e,n.template,t)}catch(o){throw r&&Fx(e,o),o}finally{i.end&&i.end()}}function i_(n,e,t){zm(0),e(n,t)}function Rx(n){return n[zo]||(n[zo]=[])}function Ox(n){return n.cleanup||(n.cleanup=[])}function Fx(n,e){const t=n[Qd],r=t?t.get(ua,null):null;r&&r.handleError(e)}function s_(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],c=e[o],u=n.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Ah(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Sm(i,a):2==s&&(r=Sm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Mh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Lt(s)),mr(s))for(let a=an;a<s.length;a++){const c=s[a],u=c[F].firstChild;null!==u&&Mh(c[F],c,u,r)}const o=t.type;if(8&o)Mh(n,e,t.child,r);else if(32&o){const a=py(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=MM(e,t);if(Array.isArray(a))r.push(...a);else{const c=au(e[Xt]);Mh(c[F],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class gu{get rootNodes(){const e=this._lView,t=e[F];return Mh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tt]}set context(e){this._lView[tt]=e}get destroyed(){return 128==(128&this._lView[ae])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Qe];if(mr(e)){const t=e[Zd],r=t?t.indexOf(this):-1;r>-1&&(vy(e,r),lh(t,r))}this._attachedToViewContainer=!1}wM(this._lView[F],this._lView)}onDestroy(e){Cx(this._lView[F],this._lView,null,e)}markForCheck(){r_(this._cdRefInjectingView||this._lView)}detach(){this._lView[ae]&=-65}reattach(){this._lView[ae]|=64}detectChanges(){Sh(this._lView[F],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wq(n,e){cu(n,e,e[de],2,null,null)}(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e}}class NW extends gu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Sh(e[F],e,e[tt],!1)}checkNoChanges(){}get context(){return null}}class Lx extends hu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ce(e);return new mu(t,this.ngModule)}}function Vx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class OW{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=qd(r);const i=this.injector.get(e,Uy,r);return i!==Uy||t===Uy?i:this.parentInjector.get(e,t,r)}}class mu extends nx{get inputs(){return Vx(this.componentDef.inputs)}get outputs(){return Vx(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function B3(n){return n.map(U3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof li?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new OW(e,s):e,a=o.get(fu,null);if(null===a)throw new E(407,!1);const c=o.get(w3,null),u=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function lW(n,e,t){return n.selectRootElement(e,t===pr.ShadowDom)}(u,r,this.componentDef.encapsulation):_y(u,l,function RW(n){const e=n.toLowerCase();return"svg"===e?mA:"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Zy(0,null,null,1,0,null,null,null,null,null),p=Dh(null,f,null,h,null,null,a,u,c,o,null);let g,m;qm(p);try{const v=this.componentDef;let I,_=null;v.findHostDirectiveDefs?(I=[],_=new Map,v.findHostDirectiveDefs(v,I,_),I.push(v)):I=[v];const M=function FW(n,e){const t=n[F],r=Le;return n[r]=e,ha(t,r,2,"#host",null)}(p,d),U=function LW(n,e,t,r,i,s,o,a){const c=i[F];!function VW(n,e,t,r){for(const i of n)e.mergedAttrs=Zc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ah(e,e.mergedAttrs,!0),null!==t&&NM(r,t,e))}(r,n,e,o);const u=s.createRenderer(e,t),l=Dh(i,Tx(t),null,t.onPush?32:16,i[n.index],n,s,u,a||null,null,null);return c.firstCreatePass&&e_(c,n,r.length-1),Ch(i,l),i[n.index]=l}(M,d,v,I,p,a,u);m=_A(f,Le),d&&function BW(n,e,t,r){if(r)Ym(n,t,["ng-version",ix.full]);else{const{attrs:i,classes:s}=function $3(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!_r(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Ym(n,t,i),s&&s.length>0&&kM(n,t,s.join(" "))}}(u,v,d,r),void 0!==t&&function $W(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,t),g=function UW(n,e,t,r,i,s){const o=Vt(),a=i[F],c=Fn(o,i);xx(a,i,o,t,null,r);for(let l=0;l<t.length;l++)Zt(Os(i,a,o.directiveStart+l,o),i);kx(a,i,o),c&&Zt(c,i);const u=Os(i,a,o.directiveStart+o.componentOffset,o);if(n[tt]=i[tt]=u,null!==s)for(const l of s)l(u,e);return Qy(a,o,n),u}(U,v,I,_,p,[jW]),Ky(f,p,null)}finally{Wm()}return new PW(this.componentType,g,ca(m,p),p,m)}}class PW extends p3{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new NW(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;s_(s[F],s,i,e,t),Mx(s,this._tNode.index)}}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function jW(){const n=Vt();nh(T()[F],n)}function Ee(n){let e=function Ux(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(yr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=o_(n.inputs),o.declaredInputs=o_(n.declaredInputs),o.outputs=o_(n.outputs);const a=i.hostBindings;a&&qW(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&HW(n,c),u&&zW(n,u),Cm(n.inputs,i.inputs),Cm(n.declaredInputs,i.declaredInputs),Cm(n.outputs,i.outputs),yr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ee&&(t=!1)}}e=Object.getPrototypeOf(e)}!function GW(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zc(i.hostAttrs,t=Zc(t,i.hostAttrs))}}(r)}function o_(n){return n===ii?{}:n===Ie?[]:n}function HW(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function zW(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function qW(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function xh(n){return!!function a_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function en(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Bn(n,e,t,r){const i=T();return en(i,Yo(),e)&&(ye(),Fr(He(),i,n,e,t,r)),Bn}function pa(n,e,t,r){return en(n,Yo(),t)?e+ne(t)+r:ie}function Wi(n,e,t){const r=T();return en(r,Yo(),e)&&Un(ye(),He(),r,n,e,r[de],t,!1),Wi}function c_(n,e,t,r,i){const o=i?"class":"style";s_(n,t,e.inputs[o],o,r)}function nt(n,e,t,r){const i=T(),s=ye(),o=Le+n,a=i[de],c=s.firstCreatePass?function i4(n,e,t,r,i,s){const o=e.consts,c=ha(e,n,2,r,Hi(o,i));return Jy(e,t,c,Hi(o,s)),null!==c.attrs&&Ah(c,c.attrs,!1),null!==c.mergedAttrs&&Ah(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],u=i[o]=_y(a,e,function vz(){return re.lFrame.currentNamespace}()),l=Jd(c);return Or(c,!0),NM(a,u,c),32!=(32&c.flags)&&gh(s,i,u,c),0===function rz(){return re.lFrame.elementDepthCount}()&&Zt(u,i),function iz(){re.lFrame.elementDepthCount++}(),l&&(Yy(s,i,c),Qy(s,c,i)),null!==r&&Xy(i,c),nt}function At(){let n=Vt();$m()?jm():(n=n.parent,Or(n,!1));const e=n;!function sz(){re.lFrame.elementDepthCount--}();const t=ye();return t.firstCreatePass&&(nh(t,n),Vm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Iz(n){return 0!=(8&n.flags)}(e)&&c_(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Dz(n){return 0!=(16&n.flags)}(e)&&c_(t,e,T(),e.stylesWithoutHost,!1),At}function wr(n,e,t,r){return nt(n,e,t,r),At(),wr}function _u(n){return!!n&&"function"==typeof n.then}function tk(n){return!!n&&"function"==typeof n.subscribe}const d_=tk;function dn(n,e,t,r){const i=T(),s=ye(),o=Vt();return function rk(n,e,t,r,i,s,o){const a=Jd(r),u=n.firstCreatePass&&Ox(n),l=e[tt],d=Rx(e);let h=!0;if(3&r.type||o){const g=Fn(r,e),m=o?o(g):g,v=d.length,I=o?M=>o(Lt(M[r.index])):r.index;let _=null;if(!o&&a&&(_=function a4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[zo],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1;else{s=sk(r,e,l,s,!1);const M=t.listen(m,i,s);d.push(s,M),u&&u.push(i,I,v,v+1)}}else s=sk(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const U=e[p[m]][p[m+1]].subscribe(s),L=d.length;d.push(s,U),u&&u.push(i,r.index,L,-(L+1))}}}(s,i,i[de],o,n,e,r),dn}function ik(n,e,t,r){try{return nr(6,e,t),!1!==t(r)}catch(i){return Fx(n,i),!1}finally{nr(7,e,t)}}function sk(n,e,t,r,i){return function s(o){if(o===Function)return r;r_(n.componentOffset>-1?Ln(n.index,e):e);let c=ik(e,t,r,o),u=s.__ngNextListenerFn__;for(;u;)c=ik(e,t,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function u4(n,e){let t=null;const r=function P3(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ux(n,s,!0):V3(r,s))return i}else t=i}return t}function vu(n){const e=T()[Xt][Yt];if(!e.projection){const r=e.projection=nu(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?u4(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function pi(n,e=0,t){const r=T(),i=ye(),s=ha(i,Le+n,16,null,t||null);null===s.projection&&(s.projection=e),jm(),32!=(32&s.flags)&&function Aq(n,e,t){xM(e[de],0,e,t,bM(n,t,e),TM(t.parent||e[Yt],t,e))}(i,r,s)}function Nh(n,e,t){return h_(n,"",e,"",t),Nh}function h_(n,e,t,r,i){const s=T(),o=pa(s,e,t,r);return o!==ie&&Un(ye(),He(),s,n,o,s[de],i,!1),h_}function Rh(n,e){return n<<17|e<<2}function Ki(n){return n>>17&32767}function f_(n){return 2|n}function Us(n){return(131068&n)>>2}function p_(n,e){return-131069&n|e<<2}function g_(n){return 1|n}function pk(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Ki(s):Us(s),c=!1;for(;0!==a&&(!1===c||o);){const l=n[a+1];g4(n[a],e)&&(c=!0,n[a+1]=r?g_(l):f_(l)),a=r?Ki(l):Us(l)}c&&(n[t+1]=r?f_(s):g_(s))}function g4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ra(n,e)>=0}function Vr(n,e){return function br(n,e,t,r){const i=T(),s=ye(),o=function ci(n){const e=re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function Ik(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[un()],o=function Ek(n,e){return e>=n.expandoStartIndex}(n,t);(function Sk(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function D4(n,e,t,r){const i=function Hm(n){const e=re.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=wu(t=m_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=m_(i,n,e,t,r),null===s){let c=function T4(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Us(r))return n[Ki(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=m_(null,n,e,c[1],r),c=wu(c,e.attrs,r),function C4(n,e,t,r){n[Ki(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function S4(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=wu(r,n[s].hostAttrs,t);return wu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function f4(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ki(o),c=Us(o);n[r]=t;let l,u=!1;if(Array.isArray(t)?(l=t[1],(null===l||ra(t,l)>0)&&(u=!0)):l=t,i)if(0!==c){const h=Ki(n[a+1]);n[r+1]=Rh(h,a),0!==h&&(n[h+1]=p_(n[h+1],r)),n[a+1]=function d4(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Rh(a,0),0!==a&&(n[a+1]=p_(n[a+1],r)),a=r;else n[r+1]=Rh(c,0),0===a?a=r:n[c+1]=p_(n[c+1],r),c=r;u&&(n[r+1]=f_(n[r+1])),pk(n,l,r,!0),pk(n,l,r,!1),function p4(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ra(s,e)>=0&&(t[r+1]=g_(t[r+1]))}(e,l,n,r,s),o=Rh(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ie&&en(i,o,e)&&function Tk(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],l=function h4(n){return 1==(1&n)}(u)?Ck(c,e,t,i,Us(u),o):void 0;Oh(l)||(Oh(s)||function l4(n){return 2==(2&n)}(u)&&(s=Ck(c,null,t,i,a,o)),function xq(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:En.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=En.Important),n.setStyle(t,r,i,s))}}(r,o,eh(un(),t),i,s))}(s,s.data[un()],i,i[de],n,i[o+1]=function x4(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Re(function zi(n){return n instanceof LM?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}(n,e,null,!0),Vr}function m_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=wu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function wu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Vn(n,o,!!t||e[++s]))}return void 0===n?null:n}function Ck(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=t[i+1];h===ie&&(h=d?Ie:void 0);let f=d?iy(h,r):l===r?h:void 0;if(u&&!Oh(f)&&(f=iy(c,r)),Oh(f)&&(a=f,o))return a;const p=n[i+1];i=o?Ki(p):Us(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=iy(c,r))}return a}function Oh(n){return void 0!==n}function Ia(n,e=""){const t=T(),r=ye(),i=n+Le,s=r.firstCreatePass?ha(r,i,1,e,null):r.data[i],o=t[i]=function yy(n,e){return n.createText(e)}(t[de],e);gh(r,t,o,s),Or(s,!1)}function Ph(n){return bu("",n,""),Ph}function bu(n,e,t){const r=T(),i=pa(r,n,e,t);return i!==ie&&function fi(n,e,t){const r=eh(e,n);!function _M(n,e,t){n.setValue(e,t)}(n[de],r,t)}(r,un(),i),bu}function y_(n,e,t){const r=T();return en(r,Yo(),e)&&Un(ye(),He(),r,n,e,r[de],t,!0),y_}const Ta="en-US";let Kk=Ta;function w_(n,e,t,r,i){if(n=Q(n),Array.isArray(n))for(let s=0;s<n.length;s++)w_(n[s],e,t,r,i);else{const s=ye(),o=T();let a=Ls(n)?n:Q(n.provide),c=tx(n);const u=Vt(),l=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(Ls(n)||!n.multi){const f=new Xc(c,i,D),p=E_(a,e,i?l:l+h,d);-1===p?(ey(ch(u,o),s,a),b_(s,n,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=E_(a,e,l+h,d),p=E_(a,e,l,l+h),m=p>=0&&t[p];if(i&&!m||!i&&!(f>=0&&t[f])){ey(ch(u,o),s,a);const v=function KK(n,e,t,r,i){const s=new Xc(n,t,D);return s.multi=[],s.index=e,s.componentProviders=0,vN(s,i,r&&!t),s}(i?WK:qK,t.length,i,r,c);!i&&m&&(t[p].providerFactory=v),b_(s,n,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(v),o.push(v)}else b_(s,n,f>-1?f:p,vN(t[i?p:f],c,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function b_(n,e,t,r){const i=Ls(e),s=function a3(n){return!!n.useClass}(e);if(i||s){const c=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(t);-1===l?u.push(t,[r,c]):u[l+1].push(r,c)}else u.push(t,c)}}}function vN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function E_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function qK(n,e,t,r){return I_(this.multi,[])}function WK(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Os(t,t[F],this.providerFactory.index,r);s=a.slice(0,o),I_(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],I_(i,s);return s}function I_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Oe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function zK(n,e,t){const r=ye();if(r.firstCreatePass){const i=yr(n);w_(t,r.data,r.blueprint,i,!0),w_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ca{}class wN{}class bN extends Ca{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lx(this);const r=On(e);this._bootstrapComponents=hi(r.bootstrap),this._r3Injector=mx(e,t,[{provide:Ca,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],Re(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class D_ extends wN{constructor(e){super(),this.moduleType=e}create(e){return new bN(this.moduleType,e)}}class YK extends Ca{constructor(e,t,r){super(),this.componentFactoryResolver=new Lx(this),this.instance=null;const i=new ex([...e,{provide:Ca,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],t||Eh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Bh(n,e,t=null){return new YK(n,e,t).injector}let XK=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=YM(0,t.type),i=r.length>0?Bh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(k(li))}),n})();function EN(n){n.getStandaloneInjector=e=>e.get(XK).getOrCreateStandaloneInjector(n)}function MN(n,e,t,r,i,s){const o=e+t;return en(n,o,i)?function Lr(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function Su(n,e){const t=n[e];return t===ie?void 0:t}(n,o+1)}function PN(n,e,t){const r=n+Le,i=T(),s=Qo(i,r);return function Au(n,e){return n[F].data[e].pure}(i,r)?MN(i,function cn(){const n=re.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function C_(n){return e=>{setTimeout(n,void 0,e)}}const $e=class b8 extends Zn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=C_(s),i&&(i=C_(i)),o&&(o=C_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof kn&&e.add(a),a}};function E8(){return this._results[Symbol.iterator]()}class S_{get changes(){return this._changes||(this._changes=new $e)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=S_.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=E8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function rr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Oz(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=T8,n})();const I8=gi,D8=class extends I8{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=Dh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Wc]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Rr];return null!==o&&(i[Rr]=o.createEmbeddedView(r)),Ky(r,i,e),new gu(i)}};function T8(){return $h(Vt(),T())}function $h(n,e){return 4&n.type?new D8(e,n,ca(n,e)):null}let Ir=(()=>{class n{}return n.__NG_ELEMENT_ID__=C8,n})();function C8(){return VN(Vt(),T())}const S8=Ir,FN=class extends S8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ca(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Jm(this._hostTNode,this._hostLView);if(VA(e)){const t=oh(e,this._hostLView),r=sh(e);return new Zo(t[F].data[r+8],t)}return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=LN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-an}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function tu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const c=o?e:new mu(Ce(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const h=(o?u:this.parentInjector).get(li,null);h&&(s=h)}const l=c.create(u,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[F];if(function nz(n){return mr(n[Qe])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Qe],h=new FN(d,d[Yt],d[Qe]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function Eq(n,e,t,r){const i=an+r,s=t.length;r>0&&(t[i-1][gr]=e),r<s-an?(e[gr]=t[i],YA(t,an+r,e)):(t.push(e),e[gr]=null),e[Qe]=t;const o=e[Wc];null!==o&&t!==o&&function Iq(n,e){const t=n[Ko];e[Xt]!==e[Qe][Qe][Xt]&&(n[lA]=!0),null===t?n[Ko]=[e]:t.push(e)}(o,e);const a=e[Rr];null!==a&&a.insertView(n),e[ae]|=64}(i,r,o,s);const a=Ey(s,o),c=r[de],u=ph(c,o[Xd]);return null!==u&&function vq(n,e,t,r,i,s){r[oi]=i,r[Yt]=e,cu(n,r,t,1,i,s)}(i,o[Yt],c,r,u,a),e.attachToViewContainerRef(),YA(A_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=LN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=vy(this._lContainer,t);r&&(lh(A_(this._lContainer),t),wM(r[F],r))}detach(e){const t=this._adjustIndex(e,-1),r=vy(this._lContainer,t);return r&&null!=lh(A_(this._lContainer),t)?new gu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function LN(n){return n[Zd]}function A_(n){return n[Zd]||(n[Zd]=[])}function VN(n,e){let t;const r=e[n.index];if(mr(r))t=r;else{let i;if(8&n.type)i=Lt(r);else{const s=e[de];i=s.createComment("");const o=Fn(n,e);Fs(s,ph(s,o),i,function Sq(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=Nx(r,e,i,n),Ch(e,t)}return new FN(t,n,e)}class M_{constructor(e){this.queryList=e,this.matches=null}clone(){return new M_(this.queryList)}setDirty(){this.queryList.setDirty()}}class x_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new x_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zN(e,t).matches&&this.queries[t].setDirty()}}class UN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class k_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new k_(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class N_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new N_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,A8(t,s)),this.matchTNodeWithReadOption(e,t,uh(t,e,s,!1,!1))}else r===gi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,uh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Jt||i===Ir||i===gi&&4&t.type)this.addMatch(t.index,-2);else{const s=uh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function A8(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function x8(n,e,t,r){return-1===t?function M8(n,e){return 11&n.type?ca(n,e):4&n.type?$h(n,e):null}(e,n):-2===t?function k8(n,e,t){return t===Jt?ca(e,n):t===gi?$h(e,n):t===Ir?VN(e,n):void 0}(n,e,r):Os(n,n[F],t,e)}function BN(n,e,t,r){const i=e[Rr].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:x8(e,s[u],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function R_(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=BN(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const u=s[a+1],l=e[-c];for(let d=an;d<l.length;d++){const h=l[d];h[Wc]===h[Qe]&&R_(h[F],h,u,r)}if(null!==l[Ko]){const d=l[Ko];for(let h=0;h<d.length;h++){const f=d[h];R_(f[F],f,u,r)}}}}}return r}function O_(n){const e=T(),t=ye(),r=CA();zm(r+1);const i=zN(t,r);if(n.dirty&&function tz(n){return 4==(4&n[ae])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?R_(t,e,r,[]):BN(t,e,i,r);n.reset(s,_3),n.notifyOnChanges()}return!0}return!1}function $N(n,e,t){const r=ye();r.firstCreatePass&&(function HN(n,e,t){null===n.queries&&(n.queries=new k_),n.queries.track(new N_(e,t))}(r,new UN(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function GN(n,e,t){const r=new S_(4==(4&t));Cx(n,e,r,r.destroy),null===e[Rr]&&(e[Rr]=new x_),e[Rr].queries.push(new M_(r))}(r,T(),e)}function zN(n,e){return n.queries.getByIndex(e)}function Gh(...n){}const Hh=new O("Application Initializer");let zh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Gh,this.reject=Gh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(_u(s))t.push(s);else if(d_(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(k(Hh,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xu=new O("AppId",{providedIn:"root",factory:function uR(){return`${$_()}${$_()}${$_()}`}});function $_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lR=new O("Platform Initializer"),ku=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qh=new O("AnimationModuleType");let e6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $r=new O("LocaleId",{providedIn:"root",factory:()=>le($r,Y.Optional|Y.SkipSelf)||function t6(){return typeof $localize<"u"&&$localize.locale||Ta}()});class r6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let dR=(()=>{class n{compileModuleSync(t){return new D_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=hi(On(t).declarations).reduce((o,a)=>{const c=Ce(a);return c&&o.push(new mu(c)),o},[]);return new r6(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o6=(()=>Promise.resolve(0))();function j_(n){typeof Zone>"u"?o6.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function a6(){let n=Fe.requestAnimationFrame,e=Fe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function l6(n){const e=()=>{!function u6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Fe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,H_(n),n.isCheckStableRunning=!0,G_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),H_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return pR(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),gR(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return pR(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),gR(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,H_(n),G_(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Se.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(Se.isInAngularZone())throw new E(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,c6,Gh,Gh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const c6={};function G_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function H_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function pR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gR(n){n._nesting--,G_(n)}class d6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const mR=new O(""),Wh=new O("");let W_,z_=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,W_||(function h6(n){W_=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),j_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())j_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(k(Se),k(q_),k(Wh))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),q_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return W_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const mi=!1;let Qi=null;const yR=new O("AllowMultipleToken"),K_=new O("PlatformDestroyListeners"),_R=new O("appBootstrapListener");class vR{constructor(e,t){this.name=e,this.token=t}}function bR(n,e,t=[]){const r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let o=Q_();if(!o||o.injector.get(yR,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function g6(n){if(Qi&&!Qi.get(yR,!1))throw new E(400,!1);Qi=n;const e=n.get(IR);(function wR(n){const e=n.get(lR,null);e&&e.forEach(t=>t())})(n)}(function ER(n=[],e){return ir.create({name:e,providers:[{provide:Py,useValue:"platform"},{provide:K_,useValue:new Set([()=>Qi=null])},...n]})}(a,r))}return function y6(n){const e=Q_();if(!e)throw new E(401,!1);return e}()}}function Q_(){return Qi?.get(IR)??null}let IR=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function TR(n,e){let t;return t="noop"===n?new d6:("zone.js"===n?void 0:n)||new Se(e),t}(r?.ngZone,function DR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Se,useValue:i}];return i.run(()=>{const o=ir.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),c=a.injector.get(ua,null);if(!c)throw new E(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:l=>{c.handleError(l)}});a.onDestroy(()=>{Kh(this._modules,a),u.unsubscribe()})}),function CR(n,e,t){try{const r=t();return _u(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(c,i,()=>{const u=a.injector.get(zh);return u.runInitializers(),u.donePromise.then(()=>(function Qk(n){Jn(n,"Expected localeId to be defined"),"string"==typeof n&&(Kk=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get($r,Ta)||Ta),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=SR({},r);return function f6(n,e,t){const r=new D_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Nu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new E(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(K_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(k(ir))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function SR(n,e){return Array.isArray(e)?e.reduce(SR,n):{...n,...e}}let Nu=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Be(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Be(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),j_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function wH(...n){const e=$c(n),t=function fH(n,e){return"number"==typeof Dm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Nn(r[0]):jo(t)(dt(r,e)):kr}(s,o.pipe(function bH(n={}){const{connector:e=(()=>new Zn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return et((g,m)=>{u++,!d&&!l&&h();const v=c=c??e();m.add(()=>{u--,0===u&&!d&&!l&&(a=Tm(p,i))}),v.subscribe(m),!o&&u>0&&(o=new Bc({next:I=>v.next(I),error:I=>{d=!0,h(),a=Tm(f,t,I),v.error(I)},complete:()=>{l=!0,h(),a=Tm(f,r),v.complete()}}),Nn(g).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof nx;if(!this._injector.get(zh).done){!i&&function Ho(n){const e=Ce(n)||Qt(n)||bn(n);return null!==e&&e.standalone}(t);throw new E(405,mi)}let o;o=i?t:this._injector.get(hu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function p6(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ca),u=o.create(ir.NULL,[],r||o.selector,a),l=u.location.nativeElement,d=u.injector.get(mR,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Kh(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Kh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(_R,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Kh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(k(Se),k(li),k(ua))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ru=(()=>{class n{}return n.__NG_ELEMENT_ID__=v6,n})();function v6(n){return function w6(n,e,t){if(Qc(n)&&!t){const r=Ln(n.index,e);return new gu(r,r)}return 47&n.type?new gu(e[Xt],e):null}(Vt(),T(),16==(16&n))}class NR{constructor(){}supports(e){return xh(e)}create(e){return new C6(e)}}const T6=(n,e)=>e;class C6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||T6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<OR(r,i,s)?t:r,a=OR(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!xh(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function JW(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new S6(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new RR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class S6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class A6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class RR{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new A6,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OR(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function FR(){return new Xh([new NR])}let Xh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||FR()),deps:[[n,new ru,new ln]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new E(901,!1)}}return n.\u0275prov=j({token:n,providedIn:"root",factory:FR}),n})();const R6=bR(null,"core",[]);let O6=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(k(Nu))},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({}),n})();let ev=null;function yi(){return ev}class L6{}const rt=new O("DocumentToken");let tv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return function V6(){return k(VR)}()},providedIn:"platform"}),n})();const U6=new O("Location Initialized");let VR=(()=>{class n extends tv{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yi().getBaseHref(this._doc)}onPopState(t){const r=yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){UR()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){UR()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(k(rt))},n.\u0275prov=j({token:n,factory:function(){return function B6(){return new VR(k(rt))}()},providedIn:"platform"}),n})();function UR(){return!!window.history.pushState}function nv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function BR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _i(n){return n&&"?"!==n[0]?"?"+n:n}let js=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return le(jR)},providedIn:"root"}),n})();const $R=new O("appBaseHref");let jR=(()=>{class n extends js{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??le(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return nv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_i(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(k(tv),k($R,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$6=(()=>{class n extends js{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=nv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(k(tv),k($R,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),rv=(()=>{class n{constructor(t){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function H6(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(BR(GR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_i(r))}normalize(t){return n.stripTrailingSlash(function G6(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,GR(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=_i,n.joinWithSlash=nv,n.stripTrailingSlash=BR,n.\u0275fac=function(t){return new(t||n)(k(js))},n.\u0275prov=j({token:n,factory:function(){return function j6(){return new rv(k(js))}()},providedIn:"root"}),n})();function GR(n){return n.replace(/\/index.html$/,"")}class x5{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let t1=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new x5(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),n1(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{n1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(D(Ir),D(gi),D(Xh))},n.\u0275dir=$({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function n1(n,e){n.context.$implicit=e.item}class F5{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class L5{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const V5=new L5,U5=new F5;let o1=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(_u(t))return V5;if(tk(t))return U5;throw function Cr(n,e){return new E(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(D(Ru,16))},n.\u0275pipe=wn({name:"async",type:n,pure:!1,standalone:!0}),n})(),_v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({}),n})();const c1="browser";let a7=(()=>{class n{}return n.\u0275prov=j({token:n,providedIn:"root",factory:()=>new c7(k(rt),window)}),n})();class c7{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function u7(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=u1(this.window.history)||u1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function u1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class L7 extends L6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class bv extends L7{static makeCurrent(){!function F6(n){ev||(ev=n)}(new bv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function V7(){return Vu=Vu||document.querySelector("base"),Vu?Vu.getAttribute("href"):null}();return null==t?null:function U7(n){df=df||document.createElement("a"),df.setAttribute("href",n);const e=df.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Vu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function S5(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let df,Vu=null;const p1=new O("TRANSITION_ID"),$7=[{provide:Hh,useFactory:function B7(n,e,t){return()=>{t.get(zh).donePromise.then(()=>{const r=yi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[p1,rt,ir],multi:!0}];let G7=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const hf=new O("EventManagerPlugins");let ff=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(k(hf),k(Se))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class g1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=yi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let m1=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),Uu=(()=>{class n extends m1{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(k(rt))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const Ev={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Iv=/%COMP%/g,v1=new O("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function w1(n,e){return e.flat(100).map(t=>t.replace(Iv,n))}function b1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let pf=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Dv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof D1?i.applyToHost(t):i instanceof Tv&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(r.encapsulation){case pr.Emulated:s=new D1(o,a,r,this.appId,c);break;case pr.ShadowDom:return new Y7(o,a,t,r);default:s=new Tv(o,a,r,c)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(k(ff),k(Uu),k(xu),k(v1))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class Dv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ev[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(I1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(I1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Ev[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ev[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(t,r,i&En.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&En.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,b1(r)):this.eventManager.addEventListener(e,t,b1(r))}}function I1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Y7 extends Dv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=w1(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tv extends Dv{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=w1(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class D1 extends Tv{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function W7(n){return"_ngcontent-%COMP%".replace(Iv,n)}(o),this.hostAttr=function K7(n){return"_nghost-%COMP%".replace(Iv,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let X7=(()=>{class n extends g1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(k(rt))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const T1=["alt","control","meta","shift"],Z7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let e9=(()=>{class n extends g1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),T1.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=Z7[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),T1.forEach(o=>{o!==i&&(0,J7[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(k(rt))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const S1=[{provide:ku,useValue:c1},{provide:lR,useValue:function t9(){bv.makeCurrent()},multi:!0},{provide:rt,useFactory:function r9(){return function Pq(n){Cy=n}(document),document},deps:[]}],i9=bR(R6,"browser",S1),A1=new O(""),M1=[{provide:Wh,useClass:class j7{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?yi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:mR,useClass:z_,deps:[Se,q_,Wh]},{provide:z_,useClass:z_,deps:[Se,q_,Wh]}],x1=[{provide:Py,useValue:"root"},{provide:ua,useFactory:function n9(){return new ua},deps:[]},{provide:hf,useClass:X7,multi:!0,deps:[rt,Se,ku]},{provide:hf,useClass:e9,multi:!0,deps:[rt]},{provide:pf,useClass:pf,deps:[ff,Uu,xu,v1]},{provide:fu,useExisting:pf},{provide:m1,useExisting:Uu},{provide:Uu,useClass:Uu,deps:[rt]},{provide:ff,useClass:ff,deps:[hf,Se]},{provide:class l7{},useClass:G7,deps:[]},[]];let k1=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:xu,useValue:t.appId},{provide:p1,useExisting:xu},$7]}}}return n.\u0275fac=function(t){return new(t||n)(k(A1,12))},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({providers:[...x1,...M1],imports:[_v,O6]}),n})(),N1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(k(rt))},n.\u0275prov=j({token:n,factory:function(t){let r=null;return r=t?new t:function o9(){return new N1(k(rt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:h9}=Array,{getPrototypeOf:f9,prototype:p9,keys:g9}=Object;function P1(n){if(1===n.length){const e=n[0];if(h9(e))return{args:e,keys:null};if(function m9(n){return n&&"object"==typeof n&&f9(n)===p9}(e)){const t=g9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:y9}=Array;function F1(n){return ue(e=>function _9(n,e){return y9(e)?n(...e):n(e)}(n,e))}function L1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let V1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(D(di),D(Jt))},n.\u0275dir=$({type:n}),n})(),Gs=(()=>{class n extends V1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=St(n)))(r||n)}}(),n.\u0275dir=$({type:n,features:[Ee]}),n})();const Sr=new O("NgValueAccessor"),b9={provide:Sr,useExisting:Me(()=>Av),multi:!0},I9=new O("CompositionEventMode");let Av=(()=>{class n extends V1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function E9(){const n=yi()?yi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(D(di),D(Jt),D(I9,8))},n.\u0275dir=$({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&dn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Oe([b9]),Ee]}),n})();const D9=!1,Ut=new O("NgValidators"),Zi=new O("NgAsyncValidators");function Q1(n){return null!=n}function Y1(n){const e=_u(n)?dt(n):n;if(D9&&!d_(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new E(-1101,t)}return e}function X1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Z1(n,e){return e.map(t=>t(n))}function J1(n){return n.map(e=>function C9(n){return!n.validate}(e)?e:t=>e.validate(t))}function Mv(n){return null!=n?function eO(n){if(!n)return null;const e=n.filter(Q1);return 0==e.length?null:function(t){return X1(Z1(t,e))}}(J1(n)):null}function xv(n){return null!=n?function tO(n){if(!n)return null;const e=n.filter(Q1);return 0==e.length?null:function(t){return function v9(...n){const e=QS(n),{args:t,keys:r}=P1(n),i=new Be(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;Nn(t[l]).subscribe(Ke(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?L1(r,a):a),s.complete())}))}});return e?i.pipe(F1(e)):i}(Z1(t,e).map(Y1)).pipe(ue(X1))}}(J1(n)):null}function nO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kv(n){return n?Array.isArray(n)?n:[n]:[]}function mf(n,e){return Array.isArray(n)?n.includes(e):n===e}function sO(n,e){const t=kv(e);return kv(n).forEach(i=>{mf(t,i)||t.push(i)}),t}function oO(n,e){return kv(e).filter(t=>!mf(n,t))}class aO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class pn extends aO{get formDirective(){return null}get path(){return null}}class Ji extends aO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let uO=(()=>{class n extends cO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(D(Ji,2))},n.\u0275dir=$({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Vr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ee]}),n})();const Bu="VALID",_f="INVALID",xa="PENDING",$u="DISABLED";function vf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class fO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bu}get invalid(){return this.status===_f}get pending(){return this.status==xa}get disabled(){return this.status===$u}get enabled(){return this.status!==$u}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oO(e,this._rawAsyncValidators))}hasValidator(e){return mf(this._rawValidators,e)}hasAsyncValidator(e){return mf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$u,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bu||this.status===xa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$u:Bu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xa,this._hasOwnPendingAsyncValidator=!0;const t=Y1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?$u:this.errors?_f:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xa)?xa:this._anyControlsHaveStatus(_f)?_f:Bu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function O9(n){return Array.isArray(n)?Mv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function P9(n){return Array.isArray(n)?xv(n):n||null}(this._rawAsyncValidators)}}const ka=new O("CallSetDisabledState",{providedIn:"root",factory:()=>wf}),wf="always";function ju(n,e,t=wf){(function Vv(n,e){const t=function rO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(nO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function iO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(nO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();If(e._rawValidators,i),If(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function V9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pO(n,e)})}(n,e),function B9(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function U9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function L9(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function If(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function _O(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vO=class extends fO{constructor(e=null,t,r){super(function Pv(n){return(vf(n)?n.validators:n)||null}(t),function Fv(n,e){return(vf(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=_O(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_O(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},K9={provide:Ji,useExisting:Me(()=>Gv)},EO=(()=>Promise.resolve())();let Gv=(()=>{class n extends Ji{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new vO,this._registered=!1,this.update=new $e,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function $v(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Av?t=s:function G9(n){return Object.getPrototypeOf(n.constructor)===Gs}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Bv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ju(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){EO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function Ma(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);EO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function bf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(D(pn,9),D(Ut,10),D(Zi,10),D(Sr,10),D(Ru,8),D(ka,8))},n.\u0275dir=$({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oe([K9]),Ee,tr]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({}),n})(),vQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({imports:[DO]}),n})(),bQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ka,useValue:t.callSetDisabledState??wf}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({imports:[vQ]}),n})();function W(...n){return dt(n,$c(n))}class cr extends Zn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Tf=Uc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Xv(...n){const e=$c(n),t=QS(n),{args:r,keys:i}=P1(n);if(0===r.length)return dt([],e);const s=new Be(function EQ(n,e,t=$i){return r=>{$O(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)$O(e,()=>{const u=dt(n[c],e);let l=!1;u.subscribe(Ke(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>L1(i,o):$i));return t?s.pipe(F1(t)):s}function $O(n,e,t){n?ni(t,n,e):e()}function Cf(...n){return function IQ(){return jo(1)}()(dt(n,$c(n)))}function jO(n){return new Be(e=>{Nn(n()).subscribe(e)})}function Hu(n,e){const t=Ne(n)?n:()=>n,r=i=>i.error(t());return new Be(e?i=>e.schedule(r,0,i):r)}function Zv(){return et((n,e)=>{let t=null;n._refCount++;const r=Ke(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class GO extends Be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,OS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;const t=this.getSubject();e.add(this.source.subscribe(Ke(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return Zv()(this)}}function jr(n,e){return et((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Ke(r,c=>{i?.unsubscribe();let u=0;const l=s++;Nn(n(c,l)).subscribe(i=Ke(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Na(n){return n<=0?()=>kr:et((e,t)=>{let r=0;e.subscribe(Ke(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function HO(...n){const e=$c(n);return et((t,r)=>{(e?Cf(n,t,e):Cf(n,t)).subscribe(r)})}function wi(n,e){return et((t,r)=>{let i=0;t.subscribe(Ke(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Sf(n){return et((e,t)=>{let r=!1;e.subscribe(Ke(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zO(n=DQ){return et((e,t)=>{let r=!1;e.subscribe(Ke(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function DQ(){return new Tf}function es(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wi((i,s)=>n(i,s,r)):$i,Na(1),t?Sf(e):zO(()=>new Tf))}function zs(n,e){return Ne(e)?Ft(n,e,1):Ft(n,1)}function Bt(n,e,t){const r=Ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?et((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ke(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):$i}function ts(n){return et((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Ke(t,void 0,void 0,o=>{s=Nn(n(o,ts(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function qO(n,e){return et(function TQ(n,e,t,r,i){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(Ke(o,l=>{const d=u++;c=a?n(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Jv(n){return n<=0?()=>kr:et((e,t)=>{let r=[];e.subscribe(Ke(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function WO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wi((i,s)=>n(i,s,r)):$i,Jv(1),t?Sf(e):zO(()=>new Tf))}function ew(n){return et((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const se="primary",zu=Symbol("RouteTitle");class AQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ra(n){return new AQ(n)}function MQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Gr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!KO(n[i],e[i]))return!1;return!0}function KO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function QO(n){return Array.prototype.concat.apply([],n)}function YO(n){return n.length>0?n[n.length-1]:null}function $t(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ns(n){return d_(n)?n:_u(n)?dt(Promise.resolve(n)):W(n)}const Af=!1,kQ={exact:function JO(n,e,t){if(!qs(n.segments,e.segments)||!Mf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!JO(n.children[r],e.children[r],t))return!1;return!0},subset:eP},XO={exact:function NQ(n,e){return Gr(n,e)},subset:function RQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>KO(n[t],e[t]))},ignored:()=>!0};function ZO(n,e,t){return kQ[t.paths](n.root,e.root,t.matrixParams)&&XO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function eP(n,e,t){return tP(n,e,e.segments,t)}function tP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!qs(i,t)||e.hasChildren()||!Mf(i,t,r))}if(n.segments.length===t.length){if(!qs(n.segments,t)||!Mf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!eP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(qs(n.segments,i)&&Mf(n.segments,i,r)&&n.children[se])&&tP(n.children[se],e,s,r)}}function Mf(n,e,t){return e.every((r,i)=>XO[t](n[i].parameters,r.parameters))}class rs{constructor(e=new he([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ra(this.queryParams)),this._queryParamMap}toString(){return FQ.serialize(this)}}class he{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$t(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xf(this)}}class qu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ra(this.parameters)),this._parameterMap}toString(){return iP(this)}}function qs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return new tw},providedIn:"root"}),n})();class tw{parse(e){const t=new zQ(e);return new rs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ku(e.root,!0)}`,r=function UQ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${kf(t)}=${kf(i)}`).join("&"):`${kf(t)}=${kf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function LQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const FQ=new tw;function xf(n){return n.segments.map(e=>iP(e)).join("/")}function Ku(n,e){if(!n.hasChildren())return xf(n);if(e){const t=n.children[se]?Ku(n.children[se],!1):"",r=[];return $t(n.children,(i,s)=>{s!==se&&r.push(`${s}:${Ku(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function PQ(n,e){let t=[];return $t(n.children,(r,i)=>{i===se&&(t=t.concat(e(r,i)))}),$t(n.children,(r,i)=>{i!==se&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===se?[Ku(n.children[se],!1)]:[`${i}:${Ku(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[se]?`${xf(n)}/${t[0]}`:`${xf(n)}/(${t.join("//")})`}}function nP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kf(n){return nP(n).replace(/%3B/gi,";")}function nw(n){return nP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nf(n){return decodeURIComponent(n)}function rP(n){return Nf(n.replace(/\+/g,"%20"))}function iP(n){return`${nw(n.path)}${function VQ(n){return Object.keys(n).map(e=>`;${nw(e)}=${nw(n[e])}`).join("")}(n.parameters)}`}const BQ=/^[^\/()?;=#]+/;function Rf(n){const e=n.match(BQ);return e?e[0]:""}const $Q=/^[^=?&#]+/,GQ=/^[^&#]+/;class zQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new he(e,t)),r}parseSegment(){const e=Rf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new E(4009,Af);return this.capture(e),new qu(Nf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Rf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Rf(this.remaining);i&&(r=i,this.capture(r))}e[Nf(t)]=Nf(r)}parseQueryParam(e){const t=function jQ(n){const e=n.match($Q);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function HQ(n){const e=n.match(GQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=rP(t),s=rP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Rf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,Af);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[se]:new he([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new E(4011,Af)}}function rw(n){return n.segments.length>0?new he([],{[se]:n}):n}function Of(n){const e={};for(const r of Object.keys(n.children)){const s=Of(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function qQ(n){if(1===n.numberOfChildren&&n.children[se]){const e=n.children[se];return new he(n.segments.concat(e.segments),e.children)}return n}(new he(n.segments,e))}function Ws(n){return n instanceof rs}const iw=!1;function WQ(n,e,t,r,i){if(0===t.length)return Oa(e.root,e.root,e.root,r,i);const s=function uP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new cP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return $t(s.outlets,(c,u)=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new cP(t,e,r)}(t);return s.toRoot()?Oa(e.root,e.root,new he([],{}),r,i):function o(c){const u=function QQ(n,e,t,r){if(n.isAbsolute)return new Pa(e.root,!0,0);if(-1===r)return new Pa(t,t===e.root,0);return function lP(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new E(4005,iw&&"Invalid number of '../'");i=r.segments.length}return new Pa(r,!1,i-s)}(t,r+(Qu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,c),l=u.processChildren?Fa(u.segmentGroup,u.index,s.commands):sw(u.segmentGroup,u.index,s.commands);return Oa(e.root,u.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Qu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yu(n){return"object"==typeof n&&null!=n&&n.outlets}function Oa(n,e,t,r,i){let o,s={};r&&$t(r,(c,u)=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=n===e?t:aP(n,e,t);const a=rw(Of(o));return new rs(a,s,i)}function aP(n,e,t){const r={};return $t(n.children,(i,s)=>{r[s]=i===e?t:aP(i,e,t)}),new he(n.segments,r)}class cP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Qu(r[0]))throw new E(4003,iw&&"Root segment cannot have matrix parameters");const i=r.find(Yu);if(i&&i!==YO(r))throw new E(4004,iw&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function sw(n,e,t){if(n||(n=new he([],{})),0===n.segments.length&&n.hasChildren())return Fa(n,e,t);const r=function XQ(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Yu(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!hP(c,u,o))return s;r+=2}else{if(!hP(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new he(n.segments.slice(0,r.pathIndex),{});return s.children[se]=new he(n.segments.slice(r.pathIndex),n.children),Fa(s,0,i)}return r.match&&0===i.length?new he(n.segments,{}):r.match&&!n.hasChildren()?ow(n,e,t):r.match?Fa(n,0,i):ow(n,e,t)}function Fa(n,e,t){if(0===t.length)return new he(n.segments,{});{const r=function YQ(n){return Yu(n[0])?n[0].outlets:{[se]:n}}(t),i={};return!r[se]&&n.children[se]&&1===n.numberOfChildren&&0===n.children[se].segments.length?Fa(n.children[se],e,t):($t(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=sw(n.children[o],e,s))}),$t(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new he(n.segments,i))}}function ow(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Yu(s)){const c=ZQ(s.outlets);return new he(r,c)}if(0===i&&Qu(t[0])){r.push(new qu(n.segments[e].path,dP(t[0]))),i++;continue}const o=Yu(s)?s.outlets[se]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Qu(a)?(r.push(new qu(o,dP(a))),i+=2):(r.push(new qu(o,{})),i++)}return new he(r,{})}function ZQ(n){const e={};return $t(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ow(new he([],{}),0,t))}),e}function dP(n){const e={};return $t(n,(t,r)=>e[r]=`${t}`),e}function hP(n,e,t){return n==t.path&&Gr(e,t.parameters)}const Xu="imperative";class Hr{constructor(e,t){this.id=e,this.url=t}}class aw extends Hr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ks extends Hr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pf extends Hr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ff extends Hr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class cw extends Hr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JQ extends Hr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eY extends Hr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tY extends Hr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nY extends Hr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rY extends Hr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let hY=(()=>{class n{createUrlTree(t,r,i,s,o,a){return WQ(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),pY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(e){return hY.\u0275fac(e)},providedIn:"root"}),n})();class pP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lw(e,this._root).map(t=>t.value)}}function uw(n,e){if(n===e.value)return e;for(const t of e.children){const r=uw(n,t);if(r)return r}return null}function lw(n,e){if(n===e.value)return[e];for(const t of e.children){const r=lw(n,t);if(r.length)return r.unshift(e),r}return[]}class bi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function La(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class gP extends pP{constructor(e,t){super(e),this.snapshot=t,dw(this,e)}toString(){return this.snapshot.toString()}}function mP(n,e){const t=function gY(n,e){const o=new Lf([],{},{},"",{},se,e,null,n.root,-1,{});return new _P("",new bi(o,[]))}(n,e),r=new cr([new qu("",{})]),i=new cr({}),s=new cr({}),o=new cr({}),a=new cr(""),c=new Va(r,i,o,a,s,se,e,t.root);return c.snapshot=t.root,new gP(new bi(c,[]),t)}class Va{constructor(e,t,r,i,s,o,a,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ue(u=>u[zu]))??W(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>Ra(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>Ra(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function mY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Lf{get title(){return this.data?.[zu]}constructor(e,t,r,i,s,o,a,c,u,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ra(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ra(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _P extends pP{constructor(e,t){super(t),this.url=e,dw(this,t)}toString(){return vP(this._root)}}function dw(n,e){e.value._routerState=n,e.children.forEach(t=>dw(n,t))}function vP(n){const e=n.children.length>0?` { ${n.children.map(vP).join(", ")} } `:"";return`${n.value}${e}`}function hw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gr(e.params,t.params)||n.params.next(t.params),function xQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fw(n,e){const t=Gr(n.params,e.params)&&function OQ(n,e){return qs(n,e)&&n.every((t,r)=>Gr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fw(n.parent,e.parent))}function Zu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function _Y(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zu(n,r,i);return Zu(n,r)})}(n,e,t);return new bi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Zu(n,a)),o}}const r=function vY(n){return new Va(new cr(n.url),new cr(n.params),new cr(n.queryParams),new cr(n.fragment),new cr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Zu(n,s));return new bi(r,i)}}const pw="ngNavigationCancelingError";function wP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ws(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function bP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function EP(n){return IP(n)&&Ws(n.url)}function IP(n){return n&&n[pw]}class wY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ju,this.attachRef=null}}let Ju=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new wY,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vf=!1;let gw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=le(Ju),this.location=le(Ir),this.changeDetector=le(Ru),this.environmentInjector=le(li)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,Vf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,Vf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,Vf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,Vf);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new bY(t,a,i.injector);if(r&&function EY(n){return!!n.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,c)}else this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tr]}),n})();class bY{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Va?this.route:e===Ju?this.childContexts:this.parent.get(e,t)}}let mw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Gi({type:n,selectors:[["ng-component"]],standalone:!0,features:[EN],decls:1,vars:0,template:function(t,r){1&t&&wr(0,"router-outlet")},dependencies:[gw],encapsulation:2}),n})();function DP(n,e){return n.providers&&!n._injector&&(n._injector=Bh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _w(n){const e=n.children&&n.children.map(_w),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=mw),t}function ur(n){return n.outlet||se}function TP(n,e){const t=n.filter(r=>ur(r)===e);return t.push(...n.filter(r=>ur(r)!==e)),t}function el(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class SY{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=La(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),$t(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=La(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=La(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=La(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new uY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new aY(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(hw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=el(i.snapshot),c=a?.get(hu)??null;o.attachRef=null,o.route=i,o.resolver=c,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class CP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Uf{constructor(e,t){this.component=e,this.route=t}}function AY(n,e,t){const r=n._root;return tl(r,e?e._root:null,t,[r.value])}function Ua(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function AH(n){return null!==Gd(n)}(n)?e.get(n):n:r}function tl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=La(e);return n.children.forEach(o=>{(function xY(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function kY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qs(n.url,e.url)||!Gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fw(n,e)||!Gr(n.queryParams,e.queryParams);default:return!fw(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new CP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),tl(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Uf(a.outlet.component,o))}else o&&nl(e,a,i),i.canActivateChecks.push(new CP(r)),tl(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),$t(s,(o,a)=>nl(o,t.getContext(a),i)),i}function nl(n,e,t){const r=La(n),i=n.value;$t(r,(s,o)=>{nl(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Uf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function rl(n){return"function"==typeof n}function vw(n){return n instanceof Tf||"EmptyError"===n?.name}const Bf=Symbol("INITIAL_VALUE");function Ba(){return jr(n=>Xv(n.map(e=>e.pipe(Na(1),HO(Bf)))).pipe(ue(e=>{for(const t of e)if(!0!==t){if(t===Bf)return Bf;if(!1===t||t instanceof rs)return t}return!0}),wi(e=>e!==Bf),Na(1)))}function SP(n){return function WG(...n){return kS(n)}(Bt(e=>{if(Ws(e))throw wP(0,e)}),ue(e=>!0===e))}const ww={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AP(n,e,t,r,i){const s=bw(n,e,t);return s.matched?function KY(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=Ua(o,n);return ns(function LY(n){return n&&rl(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ba(),SP()):W(!0)}(r=DP(e,r),e,t).pipe(ue(o=>!0===o?s:{...ww})):W(s)}function bw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ww}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||MQ)(t,n,e);if(!i)return{...ww};const s={};$t(i.posParams,(a,c)=>{s[c]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $f(n,e,t,r){if(t.length>0&&function XY(n,e,t){return t.some(r=>jf(n,e,r)&&ur(r)!==se)}(n,t,r)){const s=new he(e,function YY(n,e,t,r){const i={};i[se]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ur(s)!==se){const o=new he([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ur(s)]=o}return i}(n,e,r,new he(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function ZY(n,e,t){return t.some(r=>jf(n,e,r))}(n,t,r)){const s=new he(n.segments,function QY(n,e,t,r,i){const s={};for(const o of r)if(jf(n,t,o)&&!i[ur(o)]){const a=new he([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[ur(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new he(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function jf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function MP(n,e,t,r){return!!(ur(n)===r||r!==se&&jf(e,t,n))&&("**"===n.path||bw(e,n,t).matched)}function xP(n,e,t){return 0===e.length&&!n.children[t]}const Gf=!1;class Hf{constructor(e){this.segmentGroup=e||null}}class kP{constructor(e){this.urlTree=e}}function il(n){return Hu(new Hf(n))}function NP(n){return Hu(new kP(n))}class nX{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=$f(this.urlTree.root,[],[],this.config).segmentGroup,t=new he(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,se).pipe(ue(s=>this.createUrlTree(Of(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ts(s=>{if(s instanceof kP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Hf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,se).pipe(ue(i=>this.createUrlTree(Of(i),e.queryParams,e.fragment))).pipe(ts(i=>{throw i instanceof Hf?this.noMatchError(i):i}))}noMatchError(e){return new E(4002,Gf)}createUrlTree(e,t,r){const i=rw(e);return new rs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ue(s=>new he([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return dt(i).pipe(zs(s=>{const o=r.children[s],a=TP(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ue(c=>({segment:c,outlet:s})))}),qO((s,o)=>(s[o.outlet]=o.segment,s),{}),WO())}expandSegment(e,t,r,i,s,o){return dt(r).pipe(zs(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ts(u=>{if(u instanceof Hf)return W(null);throw u}))),es(a=>!!a),ts((a,c)=>{if(vw(a))return xP(t,i,s)?W(new he([],{})):il(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return MP(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):il(t):il(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?NP(s):this.lineralizeSegments(r,s).pipe(Ft(o=>{const a=new he(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=bw(t,i,s);if(!a)return il(t);const d=this.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?NP(d):this.lineralizeSegments(i,d).pipe(Ft(h=>this.expandSegment(e,t,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=DP(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ue(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new he(i,{})))):W(new he(i,{}))):AP(t,r,i,e).pipe(jr(({matched:o,consumedSegments:a,remainingSegments:c})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Ft(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=$f(t,a,c,h),g=new he(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ue(_=>new he(a,_)));if(0===h.length&&0===p.length)return W(new he(a,{}));const m=ur(r)===s;return this.expandSegment(d,g,h,p,m?se:s,!0).pipe(ue(I=>new he(a.concat(I.segments),I.children)))})):il(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function WY(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=Ua(o,n);return ns(function RY(n){return n&&rl(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ba(),SP())}(e,t,r).pipe(Ft(i=>i?this.configLoader.loadChildren(e,t).pipe(Bt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function eX(n){return Hu(bP(Gf,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[se])return e.redirectTo,Hu(new E(4e3,Gf));i=i.children[se]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new rs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return $t(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return $t(t.children,(a,c)=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new he(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new E(4001,Gf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class iX{}class aX{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=$f(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(ue(t=>{if(null===t)return null;const r=new Lf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new bi(r,t),s=new _P(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=yP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return dt(Object.keys(r.children)).pipe(zs(i=>{const s=r.children[i],o=TP(t,i);return this.processSegmentGroup(e,o,s,i)}),qO((i,s)=>i&&s?(i.push(...s),i):null),function CQ(n,e=!1){return et((t,r)=>{let i=0;t.subscribe(Ke(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Sf(null),WO(),ue(i=>{if(null===i)return null;const s=OP(i);return function cX(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return dt(t).pipe(zs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),es(o=>!!o),ts(o=>{if(vw(o))return xP(r,i,s)?W([]):W(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!MP(t,r,i,s))return W(null);let o;if("**"===t.path){const a=i.length>0?YO(i).parameters:{},c=FP(r)+i.length;o=W({snapshot:new Lf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LP(t),ur(t),t.component??t._loadedComponent??null,t,PP(r),c,VP(t)),consumedSegments:[],remainingSegments:[]})}else o=AP(r,t,i,e).pipe(ue(({matched:a,consumedSegments:c,remainingSegments:u,parameters:l})=>{if(!a)return null;const d=FP(r)+c.length;return{snapshot:new Lf(c,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LP(t),ur(t),t.component??t._loadedComponent??null,t,PP(r),d,VP(t)),consumedSegments:c,remainingSegments:u}}));return o.pipe(jr(a=>{if(null===a)return W(null);const{snapshot:c,consumedSegments:u,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function uX(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=$f(r,u,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ue(m=>null===m?null:[new bi(c,m)]));if(0===h.length&&0===p.length)return W([new bi(c,[])]);const g=ur(t)===s;return this.processSegment(d,h,f,p,g?se:s).pipe(ue(m=>null===m?null:[new bi(c,m)]))}))}}function lX(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function OP(n){const e=[],t=new Set;for(const r of n){if(!lX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OP(r.children);e.push(new bi(r.value,i))}return e.filter(r=>!t.has(r))}function PP(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function FP(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function LP(n){return n.data||{}}function VP(n){return n.resolve||{}}function UP(n){return"string"==typeof n.title||null===n.title}function Ew(n){return jr(e=>{const t=n(e);return t?dt(t).pipe(ue(()=>e)):W(e)})}const $a=new O("ROUTES");let Iw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=le(dR)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ns(t.loadComponent()).pipe(ue($P),Bt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ew(()=>{this.componentLoaders.delete(t)})),i=new GO(r,()=>new Zn).pipe(Zv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,u,l=!1;Array.isArray(a)?u=a:(c=a.create(t).injector,u=QO(c.get($a,[],Y.Self|Y.Optional)));return{routes:u.map(_w),injector:c}}),ew(()=>{this.childrenLoaders.delete(r)})),o=new GO(s,()=>new Zn).pipe(Zv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ns(t()).pipe(ue($P),Ft(r=>r instanceof wN||Array.isArray(r)?W(r):dt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $P(n){return function _X(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Zn,this.configLoader=le(Iw),this.environmentInjector=le(li),this.urlSerializer=le(Wu),this.rootContexts=le(Ju),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new sY(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new iY(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wi(r=>0!==r.id),ue(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),jr(r=>{let i=!1,s=!1;return W(r).pipe(Bt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jr(o=>{const a=t.browserUrlTree.toString(),c=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!c&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new Ff(o.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),kr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return jP(o.source)&&(t.browserUrlTree=o.extractedUrl),W(o).pipe(jr(l=>{const d=this.transitions?.getValue();return this.events.next(new aw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?kr:Promise.resolve(l)}),function rX(n,e,t,r){return jr(i=>function tX(n,e,t,r,i){return new nX(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ue(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Bt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function hX(n,e,t,r,i){return Ft(s=>function oX(n,e,t,r,i,s,o="emptyOnly"){return new aX(n,e,t,r,i,o,s).recognize().pipe(jr(a=>null===a?function sX(n){return new Be(e=>e.error(n))}(new iX):W(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ue(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Bt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new JQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new aw(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=mP(d,this.rootComponentType).snapshot;return W(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Ff(o.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),kr}}),Bt(o=>{const a=new eY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ue(o=>r={...o,guards:AY(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function UY(n,e){return Ft(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W({...t,guardsResult:!0}):function BY(n,e,t,r){return dt(n).pipe(Ft(i=>function qY(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const c=el(e)??i,u=Ua(a,c);return ns(function FY(n){return n&&rl(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(es())})).pipe(Ba()):W(!0)}(i.component,i.route,t,e,r)),es(i=>!0!==i,!0))}(o,r,i,n).pipe(Ft(a=>a&&function NY(n){return"boolean"==typeof n}(a)?function $Y(n,e,t,r){return dt(e).pipe(zs(i=>Cf(function GY(n,e){return null!==n&&e&&e(new oY(n)),W(!0)}(i.route.parent,r),function jY(n,e){return null!==n&&e&&e(new cY(n)),W(!0)}(i.route,r),function zY(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function MY(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>jO(()=>W(o.guards.map(c=>{const u=el(o.node)??t,l=Ua(c,u);return ns(function PY(n){return n&&rl(n.canActivateChild)}(l)?l.canActivateChild(r,n):u.runInContext(()=>l(r,n))).pipe(es())})).pipe(Ba())));return W(s).pipe(Ba())}(n,i.path,t),function HY(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>jO(()=>{const o=el(e)??t,a=Ua(s,o);return ns(function OY(n){return n&&rl(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(es())}));return W(i).pipe(Ba())}(n,i.route,t))),es(i=>!0!==i,!0))}(r,s,n,e):W(a)),ue(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Bt(o=>{if(r.guardsResult=o.guardsResult,Ws(o.guardsResult))throw wP(0,o.guardsResult);const a=new tY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),wi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Ew(o=>{if(o.guards.canActivateChecks.length)return W(o).pipe(Bt(a=>{const c=new nY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),jr(a=>{let c=!1;return W(a).pipe(function fX(n,e){return Ft(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=0;return dt(i).pipe(zs(o=>function pX(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!UP(i)&&(s[zu]=i.title),function gX(n,e,t,r){const i=function mX(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const s={};return dt(i).pipe(Ft(o=>function yX(n,e,t,r){const i=el(e)??r,s=Ua(n,i);return ns(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(es(),Bt(a=>{s[o]=a}))),Jv(1),function SQ(n){return ue(()=>n)}(s),ts(o=>vw(o)?kr:Hu(o)))}(s,n,e,r).pipe(ue(o=>(n._resolvedData=o,n.data=yP(n,t).resolve,i&&UP(i)&&(n.data[zu]=i.title),null)))}(o.route,r,n,e)),Bt(()=>s++),Jv(1),Ft(o=>s===i.length?W(t):kr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Bt({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Bt(a=>{const c=new rY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Ew(o=>{const a=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Bt(l=>{c.component=l}),ue(()=>{})));for(const l of c.children)u.push(...a(l));return u};return Xv(a(o.targetSnapshot.root)).pipe(Sf(),Na(1))}),Ew(()=>this.afterPreactivation()),ue(o=>{const a=function yY(n,e,t){const r=Zu(n,e._root,t?t._root:void 0);return new gP(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Bt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>ue(r=>(new SY(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Bt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ks(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ew(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ts(o=>{if(s=!0,IP(o)){EP(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Pf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),EP(o)){const c=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||jP(r.source)};t.scheduleNavigation(c,Xu,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new cw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(c){r.reject(c)}}return kr}))}))}cancelNavigationTransition(t,r,i){const s=new Pf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jP(n){return n!==Xu}let GP=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[zu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return le(vX)},providedIn:"root"}),n})(),vX=(()=>{class n extends GP{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(k(N1))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return le(EX)},providedIn:"root"}),n})();class bX{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let EX=(()=>{class n extends bX{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=St(n)))(r||n)}}(),n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wf=new O("",{providedIn:"root",factory:()=>({})});let DX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return le(TX)},providedIn:"root"}),n})(),TX=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CX(n){throw n}function SX(n,e,t){return e.parse("/")}const AX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=le(e6),this.isNgZoneEnabled=!1,this.options=le(Wf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||CX,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||SX,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=le(DX),this.routeReuseStrategy=le(wX),this.urlCreationStrategy=le(pY),this.titleStrategy=le(GP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=QO(le($a,{optional:!0})??[]),this.navigationTransitions=le(qf),this.urlSerializer=le(Wu),this.location=le(rv),this.isNgZoneEnabled=le(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new rs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(_w),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ws(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Xu,null,r)}navigate(t,r={skipLocationChange:!1}){return function xX(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new E(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...AX}:!1===r?{...MX}:r,Ws(t))return ZO(this.currentUrlTree,t,i);const s=this.parseUrl(t);return ZO(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u,l;return o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,c=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HP{}let RX=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(wi(t=>t instanceof Ks),zs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Bh(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return dt(i).pipe(jo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const s=i.pipe(Ft(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?dt([s,this.loader.loadComponent(r)]).pipe(jo()):s})}}return n.\u0275fac=function(t){return new(t||n)(k($n),k(dR),k(li),k(HP),k(Iw))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cw=new O("");let zP=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof aw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ks&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){qy()},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();var jn=(()=>((jn=jn||{})[jn.COMPLETE=0]="COMPLETE",jn[jn.FAILED=1]="FAILED",jn[jn.REDIRECTING=2]="REDIRECTING",jn))();const ja=!1;function is(n,e){return{\u0275kind:n,\u0275providers:e}}const Sw=new O("",{providedIn:"root",factory:()=>!1});function WP(){const n=le(ir);return e=>{const t=n.get(Nu);if(e!==t.components[0])return;const r=n.get($n),i=n.get(KP);1===n.get(Aw)&&r.initialNavigation(),n.get(QP,null,Y.Optional)?.setUpPreloading(),n.get(Cw,null,Y.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const KP=new O(ja?"bootstrap done indicator":"",{factory:()=>new Zn}),Aw=new O(ja?"initial navigation":"",{providedIn:"root",factory:()=>1});function VX(){let n=[];return n=ja?[{provide:wh,multi:!0,useFactory:()=>{const e=le($n);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function lY(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],is(1,n)}const QP=new O(ja?"router preloader":"");function UX(n){return is(0,[{provide:QP,useExisting:RX},{provide:HP,useExisting:n}])}const sl=!1,YP=new O(sl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),BX=[rv,{provide:Wu,useClass:tw},$n,Ju,{provide:Va,useFactory:function qP(n){return n.routerState.root},deps:[$n]},Iw,sl?{provide:Sw,useValue:!0}:[]];function $X(){return new vR("Router",$n)}let XP=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[BX,sl&&r?.enableTracing?VX().\u0275providers:[],{provide:$a,multi:!0,useValue:t},{provide:YP,useFactory:zX,deps:[[$n,new ln,new ru]]},{provide:Wf,useValue:r||{}},r?.useHash?{provide:js,useClass:$6}:{provide:js,useClass:jR},{provide:Cw,useFactory:()=>{const n=le(a7),e=le(Se),t=le(Wf),r=le(qf),i=le(Wu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new zP(i,r,n,e,t)}},r?.preloadingStrategy?UX(r.preloadingStrategy).\u0275providers:[],{provide:vR,multi:!0,useFactory:$X},r?.initialNavigation?qX(r):[],[{provide:ZP,useFactory:WP},{provide:_R,multi:!0,useExisting:ZP}]]}}static forChild(t){return{ngModule:n,providers:[{provide:$a,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(k(YP,8))},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({imports:[mw]}),n})();function zX(n){if(sl&&n)throw new E(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function qX(n){return["disabled"===n.initialNavigation?is(3,[{provide:Hh,multi:!0,useFactory:()=>{const e=le($n);return()=>{e.setUpLocationChangeListener()}}},{provide:Aw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?is(2,[{provide:Aw,useValue:0},{provide:Hh,multi:!0,deps:[ir],useFactory:e=>{const t=e.get(U6,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get($n),s=e.get(KP);(function OX(n,e){n.events.pipe(wi(t=>t instanceof Ks||t instanceof Pf||t instanceof cw||t instanceof Ff),ue(t=>t instanceof Ks||t instanceof Ff?jn.COMPLETE:t instanceof Pf&&(0===t.code||1===t.code)?jn.REDIRECTING:jn.FAILED),wi(t=>t!==jn.REDIRECTING),Na(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(qf).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const ZP=new O(sl?"Router Initializer":""),KX=[];let QX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({imports:[XP.forRoot(KX),XP]}),n})();function JP(n,e,t,r,i,s,o){try{var a=n[s](o),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){JP(s,r,i,o,a,"next",c)}function a(c){JP(s,r,i,o,a,"throw",c)}o(void 0)})}}const eF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(eF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new JX;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class JX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kf=function(n){return function(n){const e=eF(n);return xw.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Qf=function(n){try{return xw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Yf=()=>{try{return function nZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Qf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},aZ=n=>{const e=(n=>{var e,t;return null===(t=null===(e=Yf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cZ=()=>{var n;return null===(n=Yf())||void 0===n?void 0:n.config};class Xf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Gn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Qs(){try{return"object"==typeof indexedDB}catch{return!1}}function ol(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Nw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ar extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}}class zr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function gZ(n,e){return n.replace(mZ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ar(i,`${this.serviceName}: ${o} (${i}).`,r)}}const mZ=/\{\$([^}]+)}/g;function Rw(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(rF(s)&&rF(o)){if(!Rw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function rF(n){return null!==n&&"object"==typeof n}function iF(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class _Z{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function vZ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Ow),void 0===i.error&&(i.error=Ow),void 0===i.complete&&(i.complete=Ow);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ow(){}const wZ=1e3,bZ=2,EZ=144e5,IZ=.5;function Fw(n,e=wZ,t=bZ){const r=e*Math.pow(t,n),i=Math.round(IZ*r*(Math.random()-.5)*2);return Math.min(EZ,r+i)}function ss(n){return n&&n._delegate?n._delegate:n}class tn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ys="[DEFAULT]";class TZ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Xf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function SZ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ys?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class AZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TZ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Lw=[];var _e=(()=>{return(n=_e||(_e={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",_e;var n})();const sF={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},MZ=_e.INFO,xZ={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},kZ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=xZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Ga{constructor(e){this.name=e,this._logLevel=MZ,this._logHandler=kZ,this._userLogHandler=null,Lw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const NZ=(n,e)=>e.some(t=>n instanceof t);let oF,aF;const cF=new WeakMap,Vw=new WeakMap,uF=new WeakMap,Uw=new WeakMap,Bw=new WeakMap;let $w={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Vw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||uF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ei(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function UZ(n){return"function"==typeof n?function VZ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function OZ(){return aF||(aF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(jw(this),e),Ei(cF.get(this))}:function(...e){return Ei(n.apply(jw(this),e))}:function(e,...t){const r=n.call(jw(this),e,...t);return uF.set(r,e.sort?e.sort():[e]),Ei(r)}}(n):(n instanceof IDBTransaction&&function FZ(n){if(Vw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Vw.set(n,e)}(n),NZ(n,function RZ(){return oF||(oF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,$w):n)}function Ei(n){if(n instanceof IDBRequest)return function PZ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ei(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&cF.set(t,n)}).catch(()=>{}),Bw.set(e,n),e}(n);if(Uw.has(n))return Uw.get(n);const e=UZ(n);return e!==n&&(Uw.set(n,e),Bw.set(e,n)),e}const jw=n=>Bw.get(n);function Jf(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ei(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ei(o.result),c.oldVersion,c.newVersion,Ei(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Gw(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Ei(t).then(()=>{})}const BZ=["get","getKey","getAll","getAllKeys","count"],$Z=["put","add","delete","clear"],Hw=new Map;function lF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Hw.get(e))return Hw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=$Z.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!BZ.includes(t))return;const s=function(){var o=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Hw.set(e,s),s}!function LZ(n){$w=n($w)}(n=>({...n,get:(e,t,r)=>lF(e,t)||n.get(e,t,r),has:(e,t)=>!!lF(e,t)||n.has(e,t)}));class jZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function GZ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const zw="@firebase/app",Xs=new Ga("@firebase/app"),ep="[DEFAULT]",gJ={[zw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zs=new Map,tp=new Map;function mJ(n,e){try{n.container.addComponent(e)}catch(t){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gn(n){const e=n.name;if(tp.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,n);for(const t of Zs.values())mJ(t,n);return!0}function np(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ii=new zr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _J{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}const rp="9.18.0";function hF(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(t||(t=cZ()),!t)throw Ii.create("no-options");const s=Zs.get(i);if(s){if(Rw(t,s.options)&&Rw(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const o=new AZ(i);for(const c of tp.values())o.addComponent(c);const a=new _J(t,r,o);return Zs.set(i,a),a}function fF(n=ep){const e=Zs.get(n);if(!e&&n===ep)return hF();if(!e)throw Ii.create("no-app",{appName:n});return e}function pF(){return Array.from(Zs.values())}function ot(n,e,t){var r;let i=null!==(r=gJ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Xs.warn(a.join(" "))}gn(new tn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const vJ="firebase-heartbeat-database",wJ=1,al="firebase-heartbeat-store";let Ww=null;function gF(){return Ww||(Ww=Jf(vJ,wJ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(al)}}).catch(n=>{throw Ii.create("idb-open",{originalErrorMessage:n.message})})),Ww}function Kw(){return(Kw=y(function*(n){try{return(yield gF()).transaction(al).objectStore(al).get(yF(n))}catch(e){if(e instanceof Ar)Xs.warn(e.message);else{const t=Ii.create("idb-get",{originalErrorMessage:e?.message});Xs.warn(t.message)}}})).apply(this,arguments)}function mF(n,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=y(function*(n,e){try{const r=(yield gF()).transaction(al,"readwrite");return yield r.objectStore(al).put(e,yF(n)),r.done}catch(t){if(t instanceof Ar)Xs.warn(t.message);else{const r=Ii.create("idb-set",{originalErrorMessage:t?.message});Xs.warn(r.message)}}})).apply(this,arguments)}function yF(n){return`${n.name}!${n.options.appId}`}class DJ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CJ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_F();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=_F(),{heartbeatsToSend:r,unsentEntries:i}=function TJ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vF(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vF(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Kf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function _F(){return(new Date).toISOString().substring(0,10)}class CJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!Qs()&&ol().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function bJ(n){return Kw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return mF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return mF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function vF(n){return Kf(JSON.stringify({version:2,heartbeats:n})).length}!function SJ(n){gn(new tn("platform-logger",e=>new jZ(e),"PRIVATE")),gn(new tn("heartbeat",e=>new DJ(e),"PRIVATE")),ot(zw,"0.9.5",n),ot(zw,"0.9.5","esm2017"),ot("fire-js","")}(""),ot("firebase","9.18.0","app");const wF="@firebase/installations",Yw="0.6.4",bF=1e4,EF=`w:${Yw}`,IF="FIS_v2",xJ="https://firebaseinstallations.googleapis.com/v1",kJ=36e5,Di=new zr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function DF(n){return n instanceof Ar&&n.code.includes("request-failed")}function Xw({projectId:n}){return`${xJ}/projects/${n}/installations`}function TF(n){return{token:n.token,requestStatus:2,expiresIn:PJ(n.expiresIn),creationTime:Date.now()}}function Zw(n,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=y(function*(n,e){const r=(yield e.json()).error;return Di.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function CF({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function eb(n){return tb.apply(this,arguments)}function tb(){return(tb=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function PJ(n){return Number(n.replace("s","000"))}function nb(){return(nb=y(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Xw(n),i=CF(n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:IF,appId:n.appId,sdkVersion:EF})},c=yield eb(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:TF(u.authToken)}}throw yield Zw("Create Installation",c)})).apply(this,arguments)}function AF(n){return new Promise(e=>{setTimeout(e,n)})}const UJ=/^[cdef][\w-]{21}$/,rb="";function BJ(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function $J(n){return function VJ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return UJ.test(t)?t:rb}catch{return rb}}function Ha(n){return`${n.appName}!${n.appId}`}const za=new Map;function MF(n,e){const t=Ha(n);xF(t,e),function HJ(n,e){const t=function kF(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=n=>{xF(n.data.key,n.data.fid)}),Js}();t&&t.postMessage({key:n,fid:e}),function NF(){0===za.size&&Js&&(Js.close(),Js=null)}()}(t,e)}function xF(n,e){const t=za.get(n);if(t)for(const r of t)r(e)}let Js=null;const zJ="firebase-installations-database",qJ=1,eo="firebase-installations-store";let ib=null;function sb(){return ib||(ib=Jf(zJ,qJ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(eo)}})),ib}function ip(n,e){return ob.apply(this,arguments)}function ob(){return(ob=y(function*(n,e){const t=Ha(n),i=(yield sb()).transaction(eo,"readwrite"),s=i.objectStore(eo),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&MF(n,e.fid),e})).apply(this,arguments)}function ab(n){return cb.apply(this,arguments)}function cb(){return(cb=y(function*(n){const e=Ha(n),r=(yield sb()).transaction(eo,"readwrite");yield r.objectStore(eo).delete(e),yield r.done})).apply(this,arguments)}function cl(n,e){return ub.apply(this,arguments)}function ub(){return(ub=y(function*(n,e){const t=Ha(n),i=(yield sb()).transaction(eo,"readwrite"),s=i.objectStore(eo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&MF(n,a.fid),a})).apply(this,arguments)}function lb(n){return db.apply(this,arguments)}function db(){return db=y(function*(n){let e;const t=yield cl(n.appConfig,r=>{const i=function WJ(n){return OF(n||{fid:BJ(),registrationStatus:0})}(r),s=function KJ(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Di.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function QJ(n,e){return hb.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:YJ(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===rb?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),db.apply(this,arguments)}function hb(){return hb=y(function*(n,e){try{const t=yield function LJ(n,e){return nb.apply(this,arguments)}(n,e);return ip(n.appConfig,t)}catch(t){throw DF(t)&&409===t.customData.serverCode?yield ab(n.appConfig):yield ip(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),hb.apply(this,arguments)}function YJ(n){return fb.apply(this,arguments)}function fb(){return(fb=y(function*(n){let e=yield RF(n.appConfig);for(;1===e.registrationStatus;)yield AF(100),e=yield RF(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield lb(n);return r||t}return e})).apply(this,arguments)}function RF(n){return cl(n,e=>{if(!e)throw Di.create("installation-not-found");return OF(e)})}function OF(n){return function XJ(n){return 1===n.registrationStatus&&n.registrationTime+bF<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function pb(){return(pb=y(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function JJ(n,{fid:e}){return`${Xw(n)}/${e}/authTokens:generate`}(n,t),i=function SF(n,{refreshToken:e}){const t=CF(n);return t.append("Authorization",function FJ(n){return`${IF} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:EF,appId:n.appId}})},c=yield eb(()=>fetch(r,a));if(c.ok)return TF(yield c.json());throw yield Zw("Generate Auth Token",c)})).apply(this,arguments)}function gb(n){return mb.apply(this,arguments)}function mb(){return mb=y(function*(n,e=!1){let t;const r=yield cl(n.appConfig,s=>{if(!FF(s))throw Di.create("not-registered");const o=s.authToken;if(!e&&function nee(n){return 2===n.requestStatus&&!function ree(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+kJ}(n)}(o))return s;if(1===o.requestStatus)return t=function eee(n,e){return yb.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw Di.create("app-offline");const a=function iee(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function tee(n,e){return _b.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),mb.apply(this,arguments)}function yb(){return(yb=y(function*(n,e){let t=yield PF(n.appConfig);for(;1===t.authToken.requestStatus;)yield AF(100),t=yield PF(n.appConfig);const r=t.authToken;return 0===r.requestStatus?gb(n,e):r})).apply(this,arguments)}function PF(n){return cl(n,e=>{if(!FF(e))throw Di.create("not-registered");return function see(n){return 1===n.requestStatus&&n.requestTime+bF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function _b(){return _b=y(function*(n,e){try{const t=yield function ZJ(n,e){return pb.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield ip(n.appConfig,r),t}catch(t){if(!DF(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ip(n.appConfig,r)}else yield ab(n.appConfig);throw t}}),_b.apply(this,arguments)}function FF(n){return void 0!==n&&2===n.registrationStatus}function vb(){return(vb=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield lb(e);return r?r.catch(console.error):gb(e).catch(console.error),t.fid})).apply(this,arguments)}function wb(){return wb=y(function*(n,e=!1){const t=n;return yield function cee(n){return bb.apply(this,arguments)}(t),(yield gb(t,e)).token}),wb.apply(this,arguments)}function bb(){return(bb=y(function*(n){const{registrationPromise:e}=yield lb(n);e&&(yield e)})).apply(this,arguments)}function Db(n){return Di.create("missing-app-config-values",{valueName:n})}const LF="installations",fee=n=>{const e=n.getProvider("app").getImmediate(),t=function dee(n){if(!n||!n.options)throw Db("App Configuration");if(!n.name)throw Db("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Db(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:np(e,"heartbeat"),_delete:()=>Promise.resolve()}},pee=n=>{const t=np(n.getProvider("app").getImmediate(),LF).getImmediate();return{getId:()=>function oee(n){return vb.apply(this,arguments)}(t),getToken:i=>function aee(n){return wb.apply(this,arguments)}(t,i)}};(function gee(){gn(new tn(LF,fee,"PUBLIC")),gn(new tn("installations-internal",pee,"PRIVATE"))})(),ot(wF,Yw),ot(wF,Yw,"esm2017");const Tb="@firebase/remote-config",Tn=new zr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Cee{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function See(n=navigator){return n.languages&&n.languages[0]||n.language}class Aee{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:See()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(o,u),d=new Promise((v,I)=>{e.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",I(_)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let I="fetch-client-network";throw"AbortError"===v?.name&&(I="fetch-timeout"),Tn.create(I,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let v;try{v=yield h.json()}catch(I){throw Tn.create("fetch-client-parse",{originalErrorMessage:I?.message})}g=v.entries,m=v.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Tn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class kee{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function Mee(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function xee(n){if(!(n instanceof Ar&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Fw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Oee{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function op(n,e){const t=n.target.error||void 0;return Tn.create(e,{originalErrorMessage:t&&t?.message})}const to="app_namespace_store";class Vee{constructor(e,t,r,i=function Lee(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(op(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(to,{keyPath:"compositeKey"})}}catch(t){e(Tn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([to],"readonly").objectStore(to),c=t.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{s(op(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){s(Tn.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([to],"readwrite").objectStore(to),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:t});l.onerror=d=>{o(op(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Tn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([to],"readwrite").objectStore(to),c=t.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{s(op(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(Tn.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Uee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function $ee(){return xb.apply(this,arguments)}function xb(){return(xb=y(function*(){if(!Qs())return!1;try{return yield ol()}catch{return!1}})).apply(this,arguments)}!function Bee(){gn(new tn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Tn.create("registration-window");if(!Qs())throw Tn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Tn.create("registration-project-id");if(!o)throw Tn.create("registration-api-key");if(!a)throw Tn.create("registration-app-id");const c=new Vee(a,r.name,t=t||"firebase"),u=new Uee(c),l=new Ga(Tb);l.logLevel=_e.ERROR;const d=new Aee(i,rp,t,s,o,a),h=new kee(d,c),f=new Cee(h,c,u,l),p=new Oee(r,f,u,c,l);return function Iee(n){const e=ss(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ot(Tb,"0.4.4"),ot(Tb,"0.4.4","esm2017")}();const jee="/firebase-messaging-sw.js",Gee="/firebase-cloud-messaging-push-scope",$F="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hee="https://fcmregistrations.googleapis.com/v1",jF="google.c.a.c_id",zee="google.c.a.c_l",qee="google.c.a.ts",Wee="google.c.a.e";var qa=(()=>{return(n=qa||(qa={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",qa;var n})();function Ti(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kee(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const kb="fcm_token_details_db",Qee=5,GF="fcm_token_object_Store";function Nb(){return Nb=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(kb))return null;let e=null;return(yield Jf(kb,Qee,{upgrade:(r=y(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(GF))return;const u=a.objectStore(GF),l=yield u.index("fcmSenderId").get(n);if(yield u.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ti(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ti(d.auth),p256dh:Ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ti(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ti(d.auth),p256dh:Ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ti(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield Gw(kb),yield Gw("fcm_vapid_details_db"),yield Gw("undefined"),function Xee(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Nb.apply(this,arguments)}const Zee="firebase-messaging-database",Jee=1,no="firebase-messaging-store";let Rb=null;function Ob(){return Rb||(Rb=Jf(Zee,Jee,{upgrade:(n,e)=>{0===e&&n.createObjectStore(no)}})),Rb}function HF(n){return Pb.apply(this,arguments)}function Pb(){return Pb=y(function*(n){const e=Ub(n),r=yield(yield Ob()).transaction(no).objectStore(no).get(e);if(r)return r;{const i=yield function Yee(n){return Nb.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Fb(n,i),i}}),Pb.apply(this,arguments)}function Fb(n,e){return Lb.apply(this,arguments)}function Lb(){return(Lb=y(function*(n,e){const t=Ub(n),i=(yield Ob()).transaction(no,"readwrite");return yield i.objectStore(no).put(e,t),yield i.done,e})).apply(this,arguments)}function Vb(){return(Vb=y(function*(n){const e=Ub(n),r=(yield Ob()).transaction(no,"readwrite");yield r.objectStore(no).delete(e),yield r.done})).apply(this,arguments)}function Ub({appConfig:n}){return n.appId}const jt=new zr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nte(n,e){return Bb.apply(this,arguments)}function Bb(){return(Bb=y(function*(n,e){const t=yield Hb(n),r=qF(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Gb(n.appConfig),i)).json()}catch(o){throw jt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw jt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw jt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function $b(){return($b=y(function*(n,e){const t=yield Hb(n),r=qF(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Gb(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw jt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw jt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw jt.create("token-update-no-token");return s.token})).apply(this,arguments)}function zF(n,e){return jb.apply(this,arguments)}function jb(){return(jb=y(function*(n,e){const r={method:"DELETE",headers:yield Hb(n)};try{const s=yield(yield fetch(`${Gb(n.appConfig)}/${e}`,r)).json();if(s.error)throw jt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw jt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Gb({projectId:n}){return`${Hee}/projects/${n}/registrations`}function Hb(n){return zb.apply(this,arguments)}function zb(){return(zb=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function qF({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==$F&&(i.web.applicationPubKey=r),i}const ite=6048e5;function qb(){return qb=y(function*(n){const e=yield function ate(n,e){return Yb.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ti(e.getKey("auth")),p256dh:Ti(e.getKey("p256dh"))},r=yield HF(n.firebaseDependencies);if(r){if(function cte(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+ite?function ote(n,e){return Kb.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield zF(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return KF(n.firebaseDependencies,t)}return KF(n.firebaseDependencies,t)}),qb.apply(this,arguments)}function Wb(){return Wb=y(function*(n){const e=yield HF(n.firebaseDependencies);e&&(yield zF(n.firebaseDependencies,e.token),yield function ete(n){return Vb.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Wb.apply(this,arguments)}function Kb(){return Kb=y(function*(n,e){try{const t=yield function rte(n,e){return $b.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Fb(n.firebaseDependencies,r),t}catch(t){throw yield function WF(n){return Wb.apply(this,arguments)}(n),t}}),Kb.apply(this,arguments)}function KF(n,e){return Qb.apply(this,arguments)}function Qb(){return(Qb=y(function*(n,e){const r={token:yield nte(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Fb(n,r),r.token})).apply(this,arguments)}function Yb(){return(Yb=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kee(e)})})).apply(this,arguments)}function QF(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function ute(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function lte(n,e){e.data&&(n.data=e.data)}(e,n),function dte(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function YF(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Xb(n){return jt.create("missing-app-config-values",{valueName:n})}YF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),YF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pte{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function fte(n){if(!n||!n.options)throw Xb("App Configuration Object");if(!n.name)throw Xb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Xb(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function XF(n){return Zb.apply(this,arguments)}function Zb(){return(Zb=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(jee,{scope:Gee}),n.swRegistration.update().catch(()=>{})}catch(e){throw jt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Jb(){return(Jb=y(function*(n,e){if(!e&&!n.swRegistration&&(yield XF(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function eE(){return(eE=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=$F)})).apply(this,arguments)}function tE(){return tE=y(function*(n,e){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield function mte(n,e){return eE.apply(this,arguments)}(n,e?.vapidKey),yield function gte(n,e){return Jb.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function ste(n){return qb.apply(this,arguments)}(n)}),tE.apply(this,arguments)}function nE(){return(nE=y(function*(n,e,t){const r=function _te(n){switch(n){case qa.NOTIFICATION_CLICKED:return"notification_open";case qa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[jF],message_name:t[zee],message_time:t[qee],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function rE(){return rE=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===qa.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(QF(t)):n.onMessageHandler.next(QF(t)));const r=t.data;(function hte(n){return"object"==typeof n&&!!n&&jF in n})(r)&&"1"===r[Wee]&&(yield function yte(n,e,t){return nE.apply(this,arguments)}(n,t.messageType,r))}),rE.apply(this,arguments)}const JF="@firebase/messaging",wte=n=>{const e=new pte(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function vte(n,e){return rE.apply(this,arguments)}(e,t)),e},bte=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function ZF(n,e){return tE.apply(this,arguments)}(e,r)}};function tL(){return iE.apply(this,arguments)}function iE(){return(iE=y(function*(){try{yield ol()}catch{return!1}return typeof window<"u"&&Qs()&&Nw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ete(){gn(new tn("messaging",wte,"PUBLIC")),gn(new tn("messaging-internal",bte,"PRIVATE")),ot(JF,"0.12.4"),ot(JF,"0.12.4","esm2017")}();const ap="analytics",Tte="firebase_id",Cte="origin",Ste=6e4,Ate="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nL="https://www.googletagmanager.com/gtag/js",Gt=new Ga("@firebase/analytics");function rL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function aE(){return(aE=y(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield rL(t)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Gt.error(a)}n("config",i,s)})).apply(this,arguments)}function cE(){return(cE=y(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield rL(t);for(const c of o){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Gt.error(s)}})).apply(this,arguments)}const Hn=new zr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Lte=30,iL=new class Ute{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bte(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function uE(){return(uE=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Bte(r)},s=Ate.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Hn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function lE(){return(lE=y(function*(n,e=iL,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Hn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Hn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zte;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:Ste),sL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function sL(n,e,t){return dE.apply(this,arguments)}function dE(){return dE=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=iL){var s;const{appId:o,measurementId:a}=n;try{yield function Gte(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function $te(n){return uE.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!function Hte(n){if(!(n instanceof Ar&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw c}const l=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?Fw(t,i.intervalMillis,Lte):Fw(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),Gt.debug(`Calling attemptFetch again in ${l} millis`),sL(n,d,r,i)}}),dE.apply(this,arguments)}class zte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let hE,_E;function fE(){return(fE=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function vE(){return(vE=y(function*(){if(!Qs())return Gt.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ol()}catch(n){return Gt.warn(Hn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function wE(){return wE=y(function*(n,e,t,r,i,s,o){var a;const c=function jte(n){return lE.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Gt.error(f)),e.push(c);const u=function Xte(){return vE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Pte(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(nL)&&t.src.includes(n))return t;return null})(s)||function Mte(n,e){const t=document.createElement("script");t.src=`${nL}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}(s,l.measurementId),_E&&(i("consent","default",_E),function oL(n){_E=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Cte]="firebase",h.update=!0,null!=d&&(h[Tte]=d),i("config",l.measurementId,h),hE&&(i("set",hE),function aL(n){hE=n}(void 0)),l.measurementId}),wE.apply(this,arguments)}class Jte{constructor(e){this.app=e}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},cL=[];const uL={};let dL,Si,cp="dataLayer",lL="gtag",bE=!1;function tne(n,e,t){!function ene(){const n=[];if(kw()&&n.push("This is a browser extension environment."),Nw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Hn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Hn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Hn.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[r])throw Hn.create("already-exists",{id:r});if(!bE){!function xte(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(cp);const{wrappedGtag:s,gtagCore:o}=function Ote(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Rte(n,e,t,r){function s(){return s=y(function*(o,a,c){try{"event"===o?yield function Nte(n,e,t,r,i){return cE.apply(this,arguments)}(n,e,t,a,c):"config"===o?yield function kte(n,e,t,r,i,s){return aE.apply(this,arguments)}(n,e,t,r,a,c):"consent"===o?n("consent","update",c):n("set",a)}catch(u){Gt.error(u)}}),s.apply(this,arguments)}return function i(o,a,c){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Ci,cL,uL,cp,lL);Si=s,dL=o,bE=!0}return Ci[r]=function Zte(n,e,t,r,i,s,o){return wE.apply(this,arguments)}(n,cL,uL,e,dL,cp,t),new Jte(n)}function rne(){return EE.apply(this,arguments)}function EE(){return(EE=y(function*(){if(kw()||!Nw()||!Qs())return!1;try{return yield ol()}catch{return!1}})).apply(this,arguments)}const hL="@firebase/analytics";!function sne(){gn(new tn(ap,(e,{options:t})=>tne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),gn(new tn("analytics-internal",function n(e){try{const t=e.getProvider(ap).getImmediate();return{logEvent:(r,i,s)=>function ine(n,e,t,r){n=ss(n),function qte(n,e,t,r,i){return fE.apply(this,arguments)}(Si,Ci[n.app.options.appId],e,t,r).catch(i=>Gt.error(i))}(t,r,i,s)}}catch(t){throw Hn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),ot(hL,"0.9.4"),ot(hL,"0.9.4","esm2017")}();class one extends kn{constructor(e,t){super()}schedule(e,t=0){return this}}const up={setInterval(n,e,...t){const{delegate:r}=up;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=up;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class pL extends one{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return up.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&up.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,$o(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const gL={now:()=>(gL.delegate||Date).now(),delegate:void 0};class ul{constructor(e,t=ul.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ul.now=gL.now;class mL extends ul{constructor(e,t=ul.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const une=new class cne extends mL{}(class ane extends pL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),yL=new mL(pL),IE=new qi("7.5.0"),DE="__angularfire_symbol__analyticsIsSupportedValue",TE="__angularfire_symbol__analyticsIsSupported",CE="__angularfire_symbol__remoteConfigIsSupportedValue",SE="__angularfire_symbol__remoteConfigIsSupported",AE="__angularfire_symbol__messagingIsSupportedValue",ME="__angularfire_symbol__messagingIsSupported";globalThis[TE]||(globalThis[TE]=rne().then(n=>globalThis[DE]=n).catch(()=>globalThis[DE]=!1)),globalThis[ME]||(globalThis[ME]=tL().then(n=>globalThis[AE]=n).catch(()=>globalThis[AE]=!1)),globalThis[SE]||(globalThis[SE]=$ee().then(n=>globalThis[CE]=n).catch(()=>globalThis[CE]=!1));const NE=(n,e)=>{const t=e?[e]:pF(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Wa(){}class _L{constructor(e,t=une){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class lne{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wa,{},Wa,Wa)),t.pipe(Bt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vL=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _L(Zone.current)),this.insideAngular=t.run(()=>new _L(Zone.current,yL)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(k(Se))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ro(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function io(n){return ro().ngZone.run(()=>n())}function hne(n){return ro(),function fne(n){return function(t){return(t=t.lift(new lne(n.ngZone))).pipe(Bd(n.outsideAngular),Ud(n.insideAngular))}}(ro())(n)}const pne=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),io(()=>n.apply(void 0,r))},lp=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=io(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wa,{},Wa,Wa)))),r[s]=pne(r[s],t));const i=function dne(n){return ro().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Be){const s=ro();return i.pipe(Bd(s.outsideAngular),Ud(s.insideAngular))}return io(()=>i)}return i instanceof Be?i.pipe(hne):i instanceof Promise?io(()=>new Promise((s,o)=>i.then(a=>io(()=>s(a)),a=>io(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:io(()=>i)};class Ka{constructor(e){return e}}class wL{constructor(){return pF()}}const RE=new O("angularfire2._apps"),mne={provide:Ka,useFactory:function gne(n){return n&&1===n.length?n[0]:new Ka(fF())},deps:[[new ln,RE]]},yne={provide:wL,deps:[[new ln,RE]]};function _ne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ka(r)}}let vne=(()=>{class n{constructor(t){ot("angularfire",IE.full,"core"),ot("angularfire",IE.full,"app"),ot("angular",ix.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(k(ku))},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({providers:[mne,yne]}),n})();function wne(n,...e){return{ngModule:vne,providers:[{provide:RE,useFactory:_ne(n),multi:!0,deps:[Se,ir,vL,...e]}]}}const bne=lp(hF,!0);const Ene=function bL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},EL=new zr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),IL=new Ga("@firebase/auth");function dp(n,...e){IL.logLevel<=_e.ERROR&&IL.error(`Auth (${rp}): ${n}`,...e)}function Cn(n,...e){throw OE(n,...e)}function qr(n,...e){return OE(n,...e)}function OE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return EL.create(n,...e)}function x(n,e,...t){if(!n)throw OE(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dp(e),new Error(e)}function os(n,e){n||Wr(e)}const TL=new Map;function Ai(n){os(n instanceof Function,"Expected a class definition");let e=TL.get(n);return e?(os(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TL.set(n,e),e)}function CL(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class dl{constructor(e,t){this.shortDelay=e,this.longDelay=t,os(t>e,"Short delay should be less than long delay!"),this.isMobile=function dZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}()||function fZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Tne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function PE(){return"http:"===CL()||"https:"===CL()}()||kw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class SL{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ane=new dl(3e4,6e4);function Mt(n,e,t,r){return LE.apply(this,arguments)}function LE(){return(LE=y(function*(n,e,t,r,i={}){return AL(n,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=iF(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),SL.fetch()(ML(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function AL(n,e,t){return VE.apply(this,arguments)}function VE(){return(VE=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sne),e);try{const i=new Mne(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw hl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw hl(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw hl(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw hl(n,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function DL(n,e,t){const r=Object.assign(Object.assign({},Ene()),{[e]:t});return new zr("auth","Firebase",r).create(e,{appName:n.name})}(n,l,u);Cn(n,l)}}catch(i){if(i instanceof Ar)throw i;Cn(n,"internal-error",{message:String(i)})}})).apply(this,arguments)}function ML(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function FE(n,e){os(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class Mne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),Ane.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=qr(n,e,r);return i.customData._tokenResponse=t,i}function BE(){return(BE=y(function*(n,e){return Mt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function jE(){return(jE=y(function*(n,e){return Mt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function GE(){return(GE=y(function*(n,e=!1){const t=ss(n),r=yield t.getIdToken(e),i=hp(r);x(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:fl(HE(i.auth_time)),issuedAtTime:fl(HE(i.iat)),expirationTime:fl(HE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function HE(n){return 1e3*Number(n)}function hp(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return dp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qf(t);return i?JSON.parse(i):(dp("Failed to decode base64 JWT payload"),null)}catch(i){return dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xi(n,e){return zE.apply(this,arguments)}function zE(){return(zE=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ar&&function Pne({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Fne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class xL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pl(n){return qE.apply(this,arguments)}function qE(){return qE=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield xi(n,function Nne(n,e){return jE.apply(this,arguments)}(t,{idToken:r}));x(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Une(n){return n.map(e=>{var{providerId:t}=e,r=FS(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Vne(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xL(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),qE.apply(this,arguments)}function WE(){return(WE=y(function*(n){const e=ss(n);yield pl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function KE(){return(KE=y(function*(n,e){const t=yield AL(n,{},y(function*(){const r=iF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=ML(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function One(n){const e=hp(n);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Bne(n,e){return KE.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new gl;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return Wr("not implemented")}}function as(n,e){x("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class so{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=FS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield xi(t,t.stsTokenManager.getToken(t.auth,e));return x(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Rne(n){return GE.apply(this,arguments)}(this,e)}reload(){return function Lne(n){return WE.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new so(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield pl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield xi(e,function xne(n,e){return BE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,v=null!==(u=t.createdAt)&&void 0!==u?u:void 0,I=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:M,isAnonymous:U,providerData:L,stsTokenManager:ge}=t;x(_&&ge,e,"internal-error");const _t=gl.fromJSON(this.name,ge);x("string"==typeof _,e,"internal-error"),as(d,e.name),as(h,e.name),x("boolean"==typeof M,e,"internal-error"),x("boolean"==typeof U,e,"internal-error"),as(f,e.name),as(p,e.name),as(g,e.name),as(m,e.name),as(v,e.name),as(I,e.name);const Yn=new so({uid:_,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:U,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:_t,createdAt:v,lastLoginAt:I});return L&&Array.isArray(L)&&(Yn.providerData=L.map(xr=>Object.assign({},xr))),m&&(Yn._redirectEventId=m),Yn}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new gl;i.updateFromServerResponse(t);const s=new so({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pl(s),s})()}}const kL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function fp(n,e,t){return`firebase:${n}:${e}:${t}`}class Ya{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fp(this.userKey,i.apiKey,s),this.fullPersistenceKey=fp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?so._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new Ya(Ai(kL),e,r);const i=(yield Promise.all(t.map(function(){var u=y(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Ai(kL);const o=fp(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const l=yield u._get(o);if(l){const d=so._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var u=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Ya(s,e,r)):new Ya(s,e,r)})()}}function NL(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function PL(n=Gn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function RL(n=Gn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function LL(n=Gn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function VL(n=Gn()){return/webos/i.test(n)}(e))return"Webos";if(function QE(n=Gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function OL(n=Gn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function FL(n=Gn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function UL(n,e=[]){let t;switch(n){case"Browser":t=NL(Gn());break;case"Worker":t=`${NL(Gn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rp}/${r}`}class Gne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return y(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Hne{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BL(this),this.idTokenSubscription=new BL(this),this.beforeStateQueue=new Gne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EL,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ya.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return x(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){try{yield pl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Cne(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?ss(e):null;return r&&x(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return y(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(Ai(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&Ai(e)||t._popupRedirectResolver;x(r,t,"argument-error"),t.redirectPersistenceManager=yield Ya.create(t,[Ai(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class BL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function yZ(n,e){const t=new _Z(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function sV(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new dl(3e4,6e4),new dl(2e3,1e4),new dl(3e4,6e4),new dl(5e3,15e3);var yV="@firebase/auth";class Fie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Yf(),function Vie(n){gn(new tn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,c)=>{x(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),x(!o?.includes(":"),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UL(n)},l=new Hne(a,c,u);return function Dne(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),gn(new tn("auth-internal",e=>{const t=function Sn(n){return ss(n)}(e.getProvider("auth").getImmediate());return new Fie(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(yV,"0.21.5",function Lie(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ot(yV,"0.21.5","esm2017")}("Browser");class bV{constructor(){return NE("auth")}}const kD=new Map,EV={activated:!1,tokenObservers:[]},zie={initialized:!1,enabled:!1};function Ht(n){return kD.get(n)||Object.assign({},EV)}function Tp(){return zie}const ND="https://content-firebaseappcheck.googleapis.com/v1",Qie="exchangeDebugToken",IV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Xie{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new Xf,yield function Zie(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xf,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const mn=new zr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PD(){return PD=y(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw mn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw mn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw mn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw mn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),PD.apply(this,arguments)}const rse="firebase-app-check-database",ise=1,wl="firebase-app-check-store";let Ap=null;function FD(){return FD=y(function*(n,e){const r=(yield function CV(){return Ap||(Ap=new Promise((n,e)=>{try{const t=indexedDB.open(rse,ise);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(mn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(wl,{keyPath:"compositeKey"})}}catch(t){e(mn.create("storage-open",{originalErrorMessage:t?.message}))}}),Ap)}()).transaction(wl,"readwrite"),s=r.objectStore(wl).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(mn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),FD.apply(this,arguments)}const bl=new Ga("@firebase/app-check");function UD(n,e){return Qs()?function ose(n,e){return function SV(n,e){return FD.apply(this,arguments)}(function MV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{bl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $D(){return $D=y(function*(){const n=Tp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),$D.apply(this,arguments)}const hse={error:"UNKNOWN_ERROR"};function fse(n){return xw.encodeString(JSON.stringify(n),!1)}function Mp(n){return jD.apply(this,arguments)}function jD(){return jD=y(function*(n,e=!1){const t=n.app;!function DV(n){if(!Ht(n).activated)throw mn.create("use-before-activation",{appName:n.name})}(t);const r=Ht(t);let s,i=r.token;if(i&&!Xa(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Xa(c)?i=c:yield UD(t,void 0))}if(!e&&i&&Xa(i))return{token:i.token};let a,o=!1;if(function xV(){return Tp().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function OD(n,e){return PD.apply(this,arguments)}(function nse(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${ND}/projects/${t}/apps/${r}:${Qie}?key=${i}`,body:{debug_token:e}}}(t,yield function kV(){return $D.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield UD(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ht(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?bl.warn(c.message):bl.error(c),s=c}return i?s?a=Xa(i)?{token:i.token,internalError:s}:OV(s):(a={token:i.token},r.token=i,yield UD(t,i)):a=OV(s),o&&function RV(n,e){const t=Ht(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a}),jD.apply(this,arguments)}function HD(n,e){const t=Ht(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function NV(n){const{app:e}=n,t=Ht(e);let r=t.tokenRefresher;r||(r=function pse(n){const{app:e}=n;return new Xie(y(function*(){let r;if(r=Ht(e).token?yield Mp(n,!0):yield Mp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ht(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},IV.RETRIAL_MIN_WAIT,IV.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Xa(n){return n.expireTimeMillis-Date.now()>0}function OV(n){return{token:fse(hse),error:n}}class gse{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ht(this.app);for(const t of e)HD(this.app,t.next);return Promise.resolve()}}const jV="app-check-internal";!function Mse(){gn(new tn("app-check",n=>function mse(n,e){return new gse(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(jV).initialize()})),gn(new tn(jV,n=>function yse(n){return{getToken:e=>Mp(n,e),addTokenListener:e=>function GD(n,e,t,r){const{app:i}=n,s=Ht(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Xa(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),NV(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>NV(n))}(n,"INTERNAL",e),removeTokenListener:e=>HD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ot("@firebase/app-check","0.6.4")}();class HV{constructor(){return NE("app-check")}}typeof window<"u"&&window;var G,Ose=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ni={},QD=QD||{},ee=Ose||self;function kp(){}function Np(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function El(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var YD="closure_uid_"+(1e9*Math.random()>>>0),Fse=0;function Lse(n,e,t){return n.call.apply(n.bind,arguments)}function Vse(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function nn(n,e,t){return(nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lse:Vse).apply(null,arguments)}function Rp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function zt(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function cs(){this.s=this.s,this.o=this.o}cs.prototype.s=!1,cs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Pse(n){Object.prototype.hasOwnProperty.call(n,YD)&&n[YD]||(n[YD]=++Fse)}(this)},cs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function XD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qV(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Np(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function rn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var Bse=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ee.addEventListener("test",kp,e),ee.removeEventListener("test",kp,e)}catch{}return n}();function Op(n){return/^[\s\xa0]*$/.test(n)}var WV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ZD(n,e){return n<e?-1:n>e?1:0}function Pp(){var n=ee.navigator;return n&&(n=n.userAgent)?n:""}function Kr(n){return-1!=Pp().indexOf(n)}function JD(n){return JD[" "](n),n}JD[" "]=kp;var Fp,jse=Kr("Opera"),Za=Kr("Trident")||Kr("MSIE"),KV=Kr("Edge"),eT=KV||Za,QV=Kr("Gecko")&&!(-1!=Pp().toLowerCase().indexOf("webkit")&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),Gse=-1!=Pp().toLowerCase().indexOf("webkit")&&!Kr("Edge");function YV(){var n=ee.document;return n?n.documentMode:void 0}e:{var tT="",nT=function(){var n=Pp();return QV?/rv:([^\);]+)(\)|;)/.exec(n):KV?/Edge\/([\d\.]+)/.exec(n):Za?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Gse?/WebKit\/(\S+)/.exec(n):jse?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(nT&&(tT=nT?nT[1]:""),Za){var rT=YV();if(null!=rT&&rT>parseFloat(tT)){Fp=String(rT);break e}}Fp=tT}var Hse={};var qse=ee.document&&Za&&(YV()||parseInt(Fp,10))||void 0;function Il(n,e){if(rn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(QV){e:{try{JD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Wse[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Il.X.h.call(this)}}zt(Il,rn);var Wse={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dl="closure_listenable_"+(1e6*Math.random()|0),Kse=0;function Qse(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Kse,this.ba=this.ea=!1}function Lp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function sT(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ZV(n){const e={};for(const t in n)e[t]=n[t];return e}const JV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<JV.length;s++)t=JV[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vp(n){this.src=n,this.g={},this.h=0}function oT(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=zV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Lp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function aT(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}Vp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=aT(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new Qse(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var cT="closure_lm_"+(1e6*Math.random()|0),uT={};function tU(n,e,t,r,i){if(r&&r.once)return rU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)tU(n,e[s],t,r,i);return null}return t=fT(t),n&&n[Dl]?n.N(e,t,El(r)?!!r.capture:!!r,i):nU(n,e,t,!1,r,i)}function nU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=El(i)?!!i.capture:!!i,a=dT(n);if(a||(n[cT]=a=new Vp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Yse(){const e=Xse;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Bse||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(sU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function rU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)rU(n,e[s],t,r,i);return null}return t=fT(t),n&&n[Dl]?n.O(e,t,El(r)?!!r.capture:!!r,i):nU(n,e,t,!0,r,i)}function iU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)iU(n,e[s],t,r,i);else r=El(r)?!!r.capture:!!r,t=fT(t),n&&n[Dl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=aT(s=n.g[e],t,r,i))&&(Lp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=dT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=aT(e,t,r,i)),(t=-1<n?e[n]:null)&&lT(t))}function lT(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Dl])oT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(sU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=dT(e))?(oT(t,n),0==t.h&&(t.src=null,e[cT]=null)):Lp(n)}}}function sU(n){return n in uT?uT[n]:uT[n]="on"+n}function Xse(n,e){if(n.ba)n=!0;else{e=new Il(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&lT(n),n=t.call(r,e)}return n}function dT(n){return(n=n[cT])instanceof Vp?n:null}var hT="__closure_events_fn_"+(1e9*Math.random()>>>0);function fT(n){return"function"==typeof n?n:(n[hT]||(n[hT]=function(e){return n.handleEvent(e)}),n[hT])}function xt(){cs.call(this),this.i=new Vp(this),this.P=this,this.I=null}function qt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new rn(e,n);else if(e instanceof rn)e.target=e.target||n;else{var i=e;eU(e=new rn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Up(o,r,!0,e)&&i}if(i=Up(o=e.g=n,r,!0,e)&&i,i=Up(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Up(o=e.g=t[s],r,!1,e)&&i}function Up(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,c=o.ha||o.src;o.ea&&oT(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}zt(xt,cs),xt.prototype[Dl]=!0,xt.prototype.removeEventListener=function(n,e,t,r){iU(this,n,e,t,r)},xt.prototype.M=function(){if(xt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Lp(t[r]);delete n.g[e],n.h--}}this.I=null},xt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},xt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var pT=ee.JSON.stringify;function Zse(){var n=cU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var gT,oU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new eoe,n=>n.reset());class eoe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function toe(n){ee.setTimeout(()=>{throw n},0)}function aU(n,e){gT||function noe(){var n=ee.Promise.resolve(void 0);gT=function(){n.then(roe)}}(),mT||(gT(),mT=!0),cU.add(n,e)}var mT=!1,cU=new class Jse{constructor(){this.h=this.g=null}add(e,t){const r=oU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function roe(){for(var n;n=Zse();){try{n.h.call(n.g)}catch(t){toe(t)}var e=oU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}mT=!1}function Bp(n,e){xt.call(this),this.h=n||1,this.g=e||ee,this.j=nn(this.lb,this),this.l=Date.now()}function yT(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function _T(n,e,t){if("function"==typeof n)t&&(n=nn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=nn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ee.setTimeout(n,e||0)}function uU(n){n.g=_T(()=>{n.g=null,n.i&&(n.i=!1,uU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zt(Bp,xt),(G=Bp.prototype).ca=!1,G.R=null,G.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),qt(this,"tick"),this.ca&&(yT(this),this.start()))}},G.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},G.M=function(){Bp.X.M.call(this),yT(this),delete this.g};class ioe extends cs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uU(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tl(n){cs.call(this),this.h=n,this.g={}}zt(Tl,cs);var lU=[];function dU(n,e,t,r){Array.isArray(t)||(t&&(lU[0]=t.toString()),t=lU);for(var i=0;i<t.length;i++){var s=tU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function hU(n){sT(n.g,function(e,t){this.g.hasOwnProperty(t)&&lT(e)},n),n.g={}}function $p(){this.g=!0}function Ja(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function coe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return pT(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Tl.prototype.M=function(){Tl.X.M.call(this),hU(this)},Tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$p.prototype.Aa=function(){this.g=!1},$p.prototype.info=function(){};var uo={},fU=null;function jp(){return fU=fU||new xt}function pU(n){rn.call(this,uo.Pa,n)}function Cl(n){const e=jp();qt(e,new pU(e))}function gU(n,e){rn.call(this,uo.STAT_EVENT,n),this.stat=e}function yn(n){const e=jp();qt(e,new gU(e,n))}function mU(n,e){rn.call(this,uo.Qa,n),this.size=e}function Sl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){n()},e)}uo.Pa="serverreachability",zt(pU,rn),uo.STAT_EVENT="statevent",zt(gU,rn),uo.Qa="timingevent",zt(mU,rn);var Gp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},yU={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function vT(){}function vU(){}vT.prototype.h=null;var ET,Al={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function wT(){rn.call(this,"d")}function bT(){rn.call(this,"c")}function Hp(){}function Ml(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Tl(this),this.O=uoe,this.T=new Bp(n=eT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new wU}function wU(){this.i=null,this.g="",this.h=!1}zt(wT,rn),zt(bT,rn),zt(Hp,vT),Hp.prototype.g=function(){return new XMLHttpRequest},Hp.prototype.i=function(){return{}},ET=new Hp;var uoe=45e3,IT={},zp={};function DT(n,e,t){n.K=1,n.v=Qp(Ri(e)),n.s=t,n.P=!0,bU(n,null)}function bU(n,e){n.F=Date.now(),xl(n),n.A=Ri(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),kU(t.i,"t",r),n.C=0,t=n.l.H,n.h=new wU,n.g=tB(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ioe(nn(n.La,n,n.g),n.N)),dU(n.S,n.g,"readystatechange",n.ib),e=n.H?ZV(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Cl(),function soe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function EU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function IU(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=loe(n,t),i==zp){4==e&&(n.o=4,yn(14),r=!1),Ja(n.j,n.m,null,"[Incomplete Response]");break}if(i==IT){n.o=4,yn(15),Ja(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ja(n.j,n.m,i,null),TT(n,i)}EU(n)&&i!=zp&&i!=IT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),RT(e),e.K=!0,yn(11))):(Ja(n.j,n.m,t,"[Invalid Chunked Response]"),lo(n),kl(n))}function loe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zp:(t=Number(e.substring(t,r)),isNaN(t)?IT:(r+=1)+t>e.length?zp:(e=e.substr(r,t),n.C=r+t,e))}function xl(n){n.V=Date.now()+n.O,DU(n,n.O)}function DU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sl(nn(n.gb,n),e)}function qp(n){n.B&&(ee.clearTimeout(n.B),n.B=null)}function kl(n){0==n.l.G||n.I||XU(n.l,n)}function lo(n){qp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,yT(n.T),hU(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function TT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||CT(t.h,n)))if(!n.J&&CT(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;tg(t),Jp(t)}NT(t),yn(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Sl(nn(t.cb,t),6e3));if(1>=OU(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else fo(t,11)}else if((n.J||t.g==n)&&tg(t),!Op(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.T=u[0],u=u[1],2==t.G)if("c"==u[0]){t.I=u[1],t.ka=u[2];const l=u[3];null!=l&&(t.ma=l,t.j.info("VER="+t.ma));const d=u[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ST(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,je(r.F,r.D,g))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=eB(r,r.H?r.ka:null,r.V),o.J){PU(r.h,o);var a=o,c=r.J;c&&a.setTimeout(c),a.B&&(qp(a),xl(a)),r.g=o}else QU(r);0<t.i.length&&eg(t)}else"stop"!=u[0]&&"close"!=u[0]||fo(t,7);else 3==t.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?fo(t,7):kT(t):"noop"!=u[0]&&t.l&&t.l.wa(u),t.A=0)}Cl()}catch{}}function TU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Np(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function hoe(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Np(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function doe(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Np(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(G=Ml.prototype).setTimeout=function(n){this.O=n},G.ib=function(n){n=n.target;const e=this.L;e&&3==Oi(n)?e.l():this.La(n)},G.La=function(n){try{if(n==this.g)e:{const l=Oi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||eT||this.g&&(this.h.h||this.g.fa()||GU(this.g)))){this.I||4!=l||7==e||Cl(),qp(this);var t=this.g.aa();this.Y=t;t:if(EU(this)){var r=GU(this.g);n="";var i=r.length,s=4==Oi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lo(this),kl(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function ooe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Op(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,yn(12),lo(this),kl(this);break e}Ja(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,TT(this,t)}this.P?(IU(this,l,o),eT&&this.i&&3==l&&(dU(this.S,this.T,"tick",this.hb),this.T.start())):(Ja(this.j,this.m,o,null),TT(this,o)),4==l&&lo(this),this.i&&!this.I&&(4==l?XU(this.l,this):(this.i=!1,xl(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,yn(12)):(this.o=0,yn(13)),lo(this),kl(this)}}}catch{}},G.hb=function(){if(this.g){var n=Oi(this.g),e=this.g.fa();this.C<e.length&&(qp(this),IU(this,n,e),this.i&&4!=n&&xl(this))}},G.cancel=function(){this.I=!0,lo(this)},G.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function aoe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Cl(),yn(17)),lo(this),this.o=2,kl(this)):DU(this,this.V-n)};var CU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ho(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ho){this.h=void 0!==e?e:n.h,Wp(this,n.j),this.s=n.s,this.g=n.g,Kp(this,n.m),this.l=n.l,e=n.i;var t=new Ol;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),SU(this,t),this.o=n.o}else n&&(t=String(n).match(CU))?(this.h=!!e,Wp(this,t[1]||"",!0),this.s=Nl(t[2]||""),this.g=Nl(t[3]||"",!0),Kp(this,t[4]),this.l=Nl(t[5]||"",!0),SU(this,t[6]||"",!0),this.o=Nl(t[7]||"")):(this.h=!!e,this.i=new Ol(null,this.h))}function Ri(n){return new ho(n)}function Wp(n,e,t){n.j=t?Nl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Kp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function SU(n,e,t){e instanceof Ol?(n.i=e,function voe(n,e){e&&!n.j&&(us(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(MU(this,r),kU(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Rl(e,yoe)),n.i=new Ol(e,n.h))}function je(n,e,t){n.i.set(e,t)}function Qp(n){return je(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Nl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,poe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function poe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ho.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rl(e,AU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rl(e,AU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rl(t,"/"==t.charAt(0)?moe:goe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rl(t,_oe)),n.join("")};var AU=/[#\/\?@]/g,goe=/[#\?:]/g,moe=/[#\?]/g,yoe=/[#\?@]/g,_oe=/#/g;function Ol(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function us(n){n.g||(n.g=new Map,n.h=0,n.i&&function foe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function MU(n,e){us(n),e=ec(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function xU(n,e){return us(n),e=ec(n,e),n.g.has(e)}function kU(n,e,t){MU(n,e),0<t.length&&(n.i=null,n.g.set(ec(n,e),XD(t)),n.h+=t.length)}function ec(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function NU(n){this.l=n||boe,n=ee.PerformanceNavigationTiming?0<(n=ee.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ee.g&&ee.g.Ga&&ee.g.Ga()&&ee.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(G=Ol.prototype).add=function(n,e){us(this),this.i=null,n=ec(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},G.forEach=function(n,e){us(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},G.oa=function(){us(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},G.W=function(n){us(this);let e=[];if("string"==typeof n)xU(this,n)&&(e=e.concat(this.g.get(ec(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},G.set=function(n,e){return us(this),this.i=null,xU(this,n=ec(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},G.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var boe=10;function RU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OU(n){return n.h?1:n.g?n.g.size:0}function CT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ST(n,e){n.g?n.g.add(e):n.h=e}function PU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return XD(n.i)}function AT(){}function Eoe(){this.g=new AT}function Ioe(n,e,t){const r=t||"";try{TU(n,function(i,s){let o=i;El(i)&&(o=pT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pl(n){this.l=n.ac||null,this.j=n.jb||!1}function Xp(n,e){xt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=MT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}NU.prototype.cancel=function(){if(this.i=FU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},AT.prototype.stringify=function(n){return ee.JSON.stringify(n,void 0)},AT.prototype.parse=function(n){return ee.JSON.parse(n,void 0)},zt(Pl,vT),Pl.prototype.g=function(){return new Xp(this.l,this.j)},Pl.prototype.i=function(n){return function(){return n}}({}),zt(Xp,xt);var MT=0;function LU(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Fl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ll(n)}function Ll(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(G=Xp.prototype).open=function(n,e){if(this.readyState!=MT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ll(this)},G.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ee).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fl(this)),this.readyState=MT},G.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LU(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},G.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fl(this):Ll(this),3==this.readyState&&LU(this)}},G.Va=function(n){this.g&&(this.response=this.responseText=n,Fl(this))},G.Ua=function(n){this.g&&(this.response=n,Fl(this))},G.ga=function(){this.g&&Fl(this)},G.setRequestHeader=function(n,e){this.v.append(n,e)},G.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},G.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Toe=ee.JSON.parse;function Xe(n){xt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=VU,this.K=this.L=!1}zt(Xe,xt);var VU="",Coe=/^https?$/i,Soe=["POST","PUT"];function UU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,BU(n),Zp(n)}function BU(n){n.D||(n.D=!0,qt(n,"complete"),qt(n,"error"))}function $U(n){if(n.h&&typeof QD<"u"&&(!n.C[1]||4!=Oi(n)||2!=n.aa()))if(n.v&&4==Oi(n))_T(n.Ha,0,n);else if(qt(n,"readystatechange"),4==Oi(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(CU)[1]||null;if(!i&&ee.self&&ee.self.location){var s=ee.self.location.protocol;i=s.substr(0,s.length-1)}r=!Coe.test(i?i.toLowerCase():"")}t=r}if(t)qt(n,"complete"),qt(n,"success");else{n.m=6;try{var o=2<Oi(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",BU(n)}}finally{Zp(n)}}}function Zp(n,e){if(n.g){jU(n);const t=n.g,r=n.C[0]?kp:null;n.g=null,n.C=null,e||qt(n,"ready");try{t.onreadystatechange=r}catch{}}}function jU(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ee.clearTimeout(n.A),n.A=null)}function Oi(n){return n.g?n.g.readyState:0}function GU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case VU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function HU(n){let e="";return sT(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function xT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=HU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):je(n,e,t))}function Vl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zU(n){this.Ca=0,this.i=[],this.j=new $p,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Vl("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Vl("baseRetryDelayMs",5e3,n),this.bb=Vl("retryDelaySeedMs",1e4,n),this.$a=Vl("forwardChannelMaxRetries",2,n),this.ta=Vl("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new NU(n&&n.concurrentRequestLimit),this.Fa=new Eoe,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function kT(n){if(qU(n),3==n.G){var e=n.U++,t=Ri(n.F);je(t,"SID",n.I),je(t,"RID",e),je(t,"TYPE","terminate"),Ul(n,t),(e=new Ml(n,n.j,e,void 0)).K=2,e.v=Qp(Ri(t)),t=!1,ee.navigator&&ee.navigator.sendBeacon&&(t=ee.navigator.sendBeacon(e.v.toString(),"")),!t&&ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=tB(e.l,null),e.g.da(e.v)),e.F=Date.now(),xl(e)}JU(n)}function Jp(n){n.g&&(RT(n),n.g.cancel(),n.g=null)}function qU(n){Jp(n),n.u&&(ee.clearTimeout(n.u),n.u=null),tg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&ee.clearTimeout(n.m),n.m=null)}function eg(n){RU(n.h)||n.m||(n.m=!0,aU(n.Ja,n),n.C=0)}function WU(n,e){var t;t=e?e.m:n.U++;const r=Ri(n.F);je(r,"SID",n.I),je(r,"RID",t),je(r,"AID",n.T),Ul(n,r),n.o&&n.s&&xT(r,n.o,n.s),t=new Ml(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=KU(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ST(n.h,t),DT(t,r,e)}function Ul(n,e){n.ia&&sT(n.ia,function(t,r){je(e,r,t)}),n.l&&TU({},function(t,r){je(e,r,t)})}function KU(n,e,t){t=Math.min(n.i.length,t);var r=n.l?nn(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let u=i[c].h;const l=i[c].g;if(u-=s,0>u)s=Math.max(0,i[c].h-100),a=!1;else try{Ioe(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function QU(n){n.g||n.u||(n.Z=1,aU(n.Ia,n),n.A=0)}function NT(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Sl(nn(n.Ia,n),ZU(n,n.A)),n.A++,0))}function RT(n){null!=n.B&&(ee.clearTimeout(n.B),n.B=null)}function YU(n){n.g=new Ml(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ri(n.sa);je(e,"RID","rpc"),je(e,"SID",n.I),je(e,"CI",n.L?"0":"1"),je(e,"AID",n.T),je(e,"TYPE","xmlhttp"),Ul(n,e),n.o&&n.s&&xT(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Qp(Ri(e)),t.s=null,t.P=!0,bU(t,n)}function tg(n){null!=n.v&&(ee.clearTimeout(n.v),n.v=null)}function XU(n,e){var t=null;if(n.g==e){tg(n),RT(n),n.g=null;var r=2}else{if(!CT(n.h,e))return;t=e.D,PU(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;qt(r=jp(),new mU(r,t)),eg(n)}else QU(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Moe(n,e){return!(OU(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Sl(nn(n.Ja,n,e),ZU(n,n.C)),n.C++,0)))}(n,e)||2==r&&NT(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:fo(n,5);break;case 4:fo(n,10);break;case 3:fo(n,6);break;default:fo(n,2)}}function ZU(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function fo(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=nn(n.kb,n);t||(t=new ho("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Wp(t,"https"),Qp(t)),function Doe(n,e){const t=new $p;if(ee.Image){const r=new Image;r.onload=Rp(Yp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Rp(Yp,t,r,"TestLoadImage: error",!1,e),r.onabort=Rp(Yp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rp(Yp,t,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yn(2);n.G=0,n.l&&n.l.va(e),JU(n),qU(n)}function JU(n){if(n.G=0,n.la=[],n.l){const e=FU(n.h);(0!=e.length||0!=n.i.length)&&(qV(n.la,e),qV(n.la,n.i),n.h.i.length=0,XD(n.i),n.i.length=0),n.l.ua()}}function eB(n,e,t){var r=t instanceof ho?Ri(t):new ho(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Kp(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ho(null,void 0);r&&Wp(s,r),e&&(s.g=e),i&&Kp(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&je(r,t,e),je(r,"VER",n.ma),Ul(n,r),r}function tB(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xe(t&&n.Da&&!n.ra?new Pl({jb:!0}):n.ra)).Ka(n.H),e}function nB(){}function ng(){if(Za&&!(10<=Number(qse)))throw Error("Environmental error: no available transport.")}function zn(n,e){xt.call(this),this.g=new zU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Op(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Op(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new tc(this)}function rB(n){wT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iB(){bT.call(this),this.status=1}function tc(n){this.g=n}(G=Xe.prototype).Ka=function(n){this.L=n},G.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ET.g(),this.C=function _U(n){return n.h||(n.h=n.i())}(this.u?this.u:ET),this.g.onreadystatechange=nn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void UU(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ee.FormData&&n instanceof ee.FormData,!(0<=zV(Soe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jU(this),0<this.B&&((this.K=function Aoe(n){return Za&&function zse(){return function $se(n){var e=Hse;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=WV(String(Fp)).split("."),t=WV("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=ZD(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ZD(0==i[2].length,0==s[2].length)||ZD(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.qa,this)):this.A=_T(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){UU(this,s)}},G.qa=function(){typeof QD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qt(this,"timeout"),this.abort(8))},G.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qt(this,"complete"),qt(this,"abort"),Zp(this))},G.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zp(this,!0)),Xe.X.M.call(this)},G.Ha=function(){this.s||(this.F||this.v||this.l?$U(this):this.fb())},G.fb=function(){$U(this)},G.aa=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},G.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},G.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Toe(e)}},G.Ea=function(){return this.m},G.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(G=zU.prototype).ma=8,G.G=1,G.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Ml(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=ZV(s),eU(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=KU(this,i,e),je(t=Ri(this.F),"RID",n),je(t,"CVER",22),this.D&&je(t,"X-HTTP-Session-Id",this.D),Ul(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(HU(s)))+"&"+e:this.o&&xT(t,this.o,s)),ST(this.h,i),this.Ya&&je(t,"TYPE","init"),this.O?(je(t,"$req",e),je(t,"SID","null"),i.Z=!0,DT(i,t,null)):DT(i,t,e),this.G=2}}else 3==this.G&&(n?WU(this,n):0==this.i.length||RU(this.h)||WU(this))},G.Ia=function(){if(this.u=null,YU(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Sl(nn(this.eb,this),n)}},G.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yn(10),Jp(this),YU(this))},G.cb=function(){null!=this.v&&(this.v=null,Jp(this),NT(this),yn(19))},G.kb=function(n){n?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))},(G=nB.prototype).xa=function(){},G.wa=function(){},G.va=function(){},G.ua=function(){},G.Ra=function(){},ng.prototype.g=function(n,e){return new zn(n,e)},zt(zn,xt),zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;yn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=eB(n,null,n.V),eg(n)},zn.prototype.close=function(){kT(this.g)},zn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=pT(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&eg(e)},zn.prototype.M=function(){this.g.l=null,delete this.j,kT(this.g),delete this.g,zn.X.M.call(this)},zt(rB,wT),zt(iB,bT),zt(tc,nB),tc.prototype.xa=function(){qt(this.g,"a")},tc.prototype.wa=function(n){qt(this.g,new rB(n))},tc.prototype.va=function(n){qt(this.g,new iB)},tc.prototype.ua=function(){qt(this.g,"b")},ng.prototype.createWebChannel=ng.prototype.g,zn.prototype.send=zn.prototype.u,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,Gp.NO_ERROR=0,Gp.TIMEOUT=8,Gp.HTTP_ERROR=6,yU.COMPLETE="complete",vU.EventType=Al,Al.OPEN="a",Al.CLOSE="b",Al.ERROR="c",Al.MESSAGE="d",xt.prototype.listen=xt.prototype.N,Xe.prototype.listenOnce=Xe.prototype.O,Xe.prototype.getLastError=Xe.prototype.Oa,Xe.prototype.getLastErrorCode=Xe.prototype.Ea,Xe.prototype.getStatus=Xe.prototype.aa,Xe.prototype.getResponseJson=Xe.prototype.Sa,Xe.prototype.getResponseText=Xe.prototype.fa,Xe.prototype.send=Xe.prototype.da,Xe.prototype.setWithCredentials=Xe.prototype.Ka;var xoe=Ni.createWebChannelTransport=function(){return new ng},koe=Ni.getStatEventTarget=function(){return jp()},OT=Ni.ErrorCode=Gp,Noe=Ni.EventType=yU,Roe=Ni.Event=uo,sB=Ni.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ooe=Ni.FetchXmlHttpFactory=Pl,rg=Ni.WebChannel=vU,Poe=Ni.XhrIo=Xe;const oB="@firebase/firestore";class kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");let nc="9.18.0";const ls=new Ga("@firebase/firestore");function PT(){return ls.logLevel}function S(n,...e){if(ls.logLevel<=_e.DEBUG){const t=e.map(FT);ls.debug(`Firestore (${nc}): ${n}`,...t)}}function at(n,...e){if(ls.logLevel<=_e.ERROR){const t=e.map(FT);ls.error(`Firestore (${nc}): ${n}`,...t)}}function rc(n,...e){if(ls.logLevel<=_e.WARN){const t=e.map(FT);ls.warn(`Firestore (${nc}): ${n}`,...t)}}function FT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function V(n="Unexpected state"){const e=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: `+n;throw at(e),new Error(e)}function H(n,e){n||V()}function R(n,e){return n}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Foe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kt.UNAUTHENTICATED))}shutdown(){}}class Loe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Voe{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(y(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new aB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new kt(e)}}class Uoe{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(H(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Boe{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Uoe(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $oe{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(H("string"==typeof t.token),this.A=t.token,new cB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function joe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class uB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=joe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function te(n,e){return n<e?-1:n>e?1:0}function ic(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class qe{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qe(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new qe(0,0))}static max(){return new z(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bl{constructor(e,t,r){void 0===t?t=0:t>e.length&&V(),void 0===r?r=e.length-t:r>e.length-t&&V(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ve extends Bl{construct(e,t,r){return new ve(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ve(t)}static emptyPath(){return new ve([])}}const Goe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends Bl{construct(e,t,r){return new ct(e,t,r)}static isValidIdentifier(e){return Goe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new C(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(t)}static emptyPath(){return new ct([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(ve.fromString(e))}static fromName(e){return new N(ve.fromString(e).popFirst(5))}static empty(){return new N(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new ve(e.slice()))}}function hB(n){return new qn(n.readTime,n.key,-1)}class qn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qn(z.min(),N.empty(),-1)}static max(){return new qn(z.max(),N.empty(),-1)}}function VT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:te(n.largestBatchId,e.largestBatchId))}const fB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qoe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ds(n){return UT.apply(this,arguments)}function UT(){return UT=y(function*(n){if(n.code!==b.FAILED_PRECONDITION||n.message!==fB)throw n;S("LocalStore","Unexpectedly lost primary lease")}),UT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function hs(n){return"IndexedDbTransactionError"===n.name}let Wn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class Joe{constructor(e,t,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class mo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}function gB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Gl(n){return null==n}function Hl(n){return 0===n&&1/n==-1/0}class eae extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new eae("Invalid base64 string: "+i):i}}(e);return new Ct(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ct(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const tae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(n){if(H(!!n),"string"==typeof n){let e=0;const t=tae.exec(n);if(H(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _o(n){return"string"==typeof n?Ct.fromBase64String(n):Ct.fromUint8Array(n)}function jT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _B(n){const e=n.mapValue.fields.__previous_value__;return jT(e)?_B(e):e}function zl(n){const e=fs(n.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}const ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jT(n)?4:EB(n)?9007199254740991:10:V()}function Qr(n,e){if(n===e)return!0;const t=vo(n);if(t!==vo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zl(n).isEqual(zl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=fs(r.timestampValue),o=fs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_o(n.bytesValue).isEqual(_o(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?Hl(s)===Hl(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return ic(n.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(gB(s)!==gB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Qr(s[a],o[a])))return!1;return!0}(n,e);default:return V()}var i}function ql(n,e){return void 0!==(n.values||[]).find(t=>Qr(t,e))}function gs(n,e){if(n===e)return 0;const t=vo(n),r=vo(e);if(t!==r)return te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return vB(n.timestampValue,e.timestampValue);case 4:return vB(zl(n),zl(e));case 5:return te(n.stringValue,e.stringValue);case 6:return function(i,s){const o=_o(i),a=_o(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=te(o[c],a[c]);if(0!==u)return u}return te(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=te(Ze(i.latitude),Ze(s.latitude));return 0!==o?o:te(Ze(i.longitude),Ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=gs(o[c],a[c]);if(u)return u}return te(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ps.mapValue&&s===ps.mapValue)return 0;if(i===ps.mapValue)return 1;if(s===ps.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=te(a[l],u[l]);if(0!==d)return d;const h=gs(o[a[l]],c[u[l]]);if(0!==h)return h}return te(a.length,u.length)}(n.mapValue,e.mapValue);default:throw V()}}function vB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return te(n,e);const t=fs(n),r=fs(e),i=te(t.seconds,r.seconds);return 0!==i?i:te(t.nanos,r.nanos)}function sc(n){return GT(n)}function GT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=fs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_o(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=GT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${GT(r.fields[a])}`;return s+"}"}(n.mapValue):V();var e}function HT(n){return!!n&&"integerValue"in n}function Wl(n){return!!n&&"arrayValue"in n}function wB(n){return!!n&&"nullValue"in n}function bB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cg(n){return!!n&&"mapValue"in n}function Kl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ms{constructor(e,t){this.position=e,this.inclusive=t}}function TB(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),t.key):gs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function CB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qr(n.position[t],e.position[t]))return!1;return!0}class SB{}class pe extends SB{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new iae(e,t,r):"array-contains"===t?new aae(e,r):"in"===t?new RB(e,r):"not-in"===t?new cae(e,r):"array-contains-any"===t?new uae(e,r):new pe(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new sae(e,r):new oae(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(gs(t,this.value)):null!==t&&vo(this.value)===vo(t)&&this.matchesComparison(gs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ae extends SB{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new Ae(e,t)}matches(e){return oc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function oc(n){return"and"===n.op}function qT(n){return function AB(n){for(const e of n.filters)if(e instanceof Ae)return!1;return!0}(n)&&oc(n)}function WT(n){if(n instanceof pe)return n.field.canonicalString()+n.op.toString()+sc(n.value);if(qT(n))return n.filters.map(e=>WT(e)).join(",");{const e=n.filters.map(t=>WT(t)).join(",");return`${n.op}(${e})`}}function MB(n,e){return n instanceof pe?(t=n,(r=e)instanceof pe&&t.op===r.op&&t.field.isEqual(r.field)&&Qr(t.value,r.value)):n instanceof Ae?function(t,r){return r instanceof Ae&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&MB(s,r.filters[o]),!0)}(n,e):void V();var t,r}function kB(n){return n instanceof pe?function(e){return`${e.field.canonicalString()} ${e.op} ${sc(e.value)}`}(n):n instanceof Ae?function(e){return e.op.toString()+" {"+e.getFilters().map(kB).join(" ,")+"}"}(n):"Filter"}class iae extends pe{constructor(e,t,r){super(e,t,r),this.key=N.fromName(r.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.matchesComparison(t)}}class sae extends pe{constructor(e,t){super(e,"in",t),this.keys=NB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oae extends pe{constructor(e,t){super(e,"not-in",t),this.keys=NB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function NB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>N.fromName(r.referenceValue))}class aae extends pe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wl(t)&&ql(t.arrayValue,this.value)}}class RB extends pe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ql(this.value.arrayValue,t)}}class cae extends pe{constructor(e,t){super(e,"not-in",t)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ql(this.value.arrayValue,t)}}class uae extends pe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}class ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function lae(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Je{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new Je(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ug(this.root,e,this.comparator,!0)}}class ug{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=s??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Wt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1,Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Wt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OB(this.data.getIterator())}getIteratorFrom(e){return new OB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xe(this.comparator);return t.data=e,t}}class OB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new An([])}unionWith(e){let t=new xe(ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ic(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(t)}setAll(e){let t=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Kl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());cg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){yo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nt(Kl(this.value))}}class Ve{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,z.min(),z.min(),z.min(),Nt.empty(),0)}static newFoundDocument(e,t,r,i){return new Ve(e,1,t,z.min(),r,i,0)}static newNoDocument(e,t){return new Ve(e,2,t,z.min(),z.min(),Nt.empty(),0)}static newUnknownDocument(e,t){return new Ve(e,3,t,z.min(),z.min(),Nt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dae{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}}function KT(n,e=null,t=[],r=[],i=null,s=null,o=null){return new dae(n,e,t,r,i,s,o)}function bo(n){const e=R(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>WT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sc(r)).join(",")),e._t=t}return e._t}function Ql(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lae(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!MB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CB(n.startAt,e.startAt)&&CB(n.endAt,e.endAt)}function lg(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Pi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this.gt=null}}function uc(n){return new Pi(n)}function UB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Eo(n){const e=R(n);if(null===e.wt){e.wt=[];const t=function hg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function QT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ac(t)),e.wt.push(new ac(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ac(ct.keyField(),s))}}}return e.wt}function _n(n){const e=R(n);if(!e.gt)if("F"===e.limitType)e.gt=KT(e.path,e.collectionGroup,Eo(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Eo(e))t.push(new ac(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ms(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ms(e.startAt.position,e.startAt.inclusive):null;e.gt=KT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.gt}function fg(n,e,t){return new Pi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yl(n,e){return Ql(_n(n),_n(e))&&n.limitType===e.limitType}function BB(n){return`${bo(_n(n))}|lt:${n.limitType}`}function ZT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>kB(r)).join(", ")}]`),Gl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sc(r)).join(",")),`Target(${t})`}(_n(n))}; limitType=${n.limitType})`}function Xl(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):N.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Eo(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=TB(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Eo(t),r)||t.endAt&&!function(i,s,o){const a=TB(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Eo(t),r)));var t,r}function jB(n){return(e,t)=>{let r=!1;for(const i of Eo(n)){const s=hae(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function hae(n,e,t){const r=n.field.isKeyField()?N.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?gs(a,c):V()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}class pg{constructor(){this._=void 0}}function fae(n,e,t){return n instanceof lc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Io?WB(n,e):n instanceof Do?KB(n,e):function(r,i){const s=function qB(n,e){return n instanceof dc?HT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}(r,i),o=QB(s)+QB(r.It);return HT(s)&&HT(r.It)?function HB(n){return{integerValue:""+n}}(o):function GB(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hl(e)?"-0":e}}(r.Tt,o)}(n,e)}function pae(n,e,t){return n instanceof Io?WB(n,e):n instanceof Do?KB(n,e):t}class lc extends pg{}class Io extends pg{constructor(e){super(),this.elements=e}}function WB(n,e){const t=YB(e);for(const r of n.elements)t.some(i=>Qr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Do extends pg{constructor(e){super(),this.elements=e}}function KB(n,e){let t=YB(e);for(const r of n.elements)t=t.filter(i=>!Qr(i,r));return{arrayValue:{values:t}}}class dc extends pg{constructor(e,t){super(),this.Tt=e,this.It=t}}function QB(n){return Ze(n.integerValue||n.doubleValue)}function YB(n){return Wl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ge{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class JT{}function XB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fc(n.key,Ge.none()):new hc(n.key,n.data,Ge.none());{const t=n.data,r=Nt.empty();let i=new xe(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Fi(n.key,r,new An(i.toArray()),Ge.none())}}function yae(n,e,t){n instanceof hc?function(r,i,s){const o=r.value.clone(),a=e2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Fi?function(r,i,s){if(!gg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=e2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(JB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jl(n,e,t,r){return n instanceof hc?function(i,s,o,a){if(!gg(i.precondition,s))return o;const c=i.value.clone(),u=t2(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fi?function(i,s,o,a){if(!gg(i.precondition,s))return o;const c=t2(i.fieldTransforms,a,s),u=s.data;return u.setAll(JB(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,gg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function ZB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ic(t,r,(i,s)=>function gae(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Io&&r instanceof Io||t instanceof Do&&r instanceof Do?ic(t.elements,r.elements,Qr):t instanceof dc&&r instanceof dc?Qr(t.It,r.It):t instanceof lc&&r instanceof lc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class hc extends JT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fi extends JT{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function e2(n,e,t){const r=new Map;H(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pae(o,a,t[i]))}return r}function t2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,fae(s,o,e))}return r}class fc extends JT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vae{constructor(e){this.count=e}}var mt,we;function r2(n){if(void 0===n)return at("GRPC error has no .code"),b.UNKNOWN;switch(n){case mt.OK:return b.OK;case mt.CANCELLED:return b.CANCELLED;case mt.UNKNOWN:return b.UNKNOWN;case mt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case mt.INTERNAL:return b.INTERNAL;case mt.UNAVAILABLE:return b.UNAVAILABLE;case mt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case mt.NOT_FOUND:return b.NOT_FOUND;case mt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case mt.ABORTED:return b.ABORTED;case mt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case mt.DATA_LOSS:return b.DATA_LOSS;default:return V()}}(we=mt||(mt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";class ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function mB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const wae=new Je(N.comparator);function Mn(){return wae}const i2=new Je(N.comparator);function ed(...n){let e=i2;for(const t of n)e=e.insert(t.key,t);return e}function s2(n){let e=i2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yr(){return td()}function o2(){return td()}function td(){return new ys(n=>n.toString(),(n,e)=>n.isEqual(e))}new Je(N.comparator);const Eae=new xe(N.comparator);function oe(...n){let e=Eae;for(const t of n)e=e.add(t);return e}const Iae=new xe(te);function mg(){return Iae}class nd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nd(z.min(),i,mg(),Mn(),oe())}}class rd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new rd(r,t,oe(),oe(),oe())}}class yg{constructor(e,t,r,i){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=i}}class a2{constructor(e,t){this.targetId=e,this.Rt=t}}class c2{constructor(e,t,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class u2{constructor(){this.Pt=0,this.vt=d2(),this.bt=Ct.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=oe(),t=oe(),r=oe();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:V()}}),new rd(this.bt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=d2()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class Dae{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Mn(),this.Kt=l2(),this.Gt=new xe(te)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:V()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,i)=>{this.Jt(i)&&t(i)})}Zt(e){const t=e.targetId,r=e.Rt.count,i=this.Xt(t);if(i){const s=i.target;if(lg(s))if(0===r){const o=new N(s.path);this.zt(t,o,Ve.newNoDocument(o,z.min()))}else H(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&lg(a.target)){const c=new N(a.target.path);null!==this.Ut.get(c)||this.ne(o,c)||this.zt(o,c,Ve.newNoDocument(c,e))}s.Ct&&(t.set(o,s.Nt()),s.kt())}});let r=oe();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Xt(c);return!u||2===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new nd(e,t,this.Gt,this.Ut,r);return this.Ut=Mn(),this.Kt=l2(),this.Gt=new xe(te),i}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,t)?i.$t(t,1):i.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new u2,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new xe(te),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new u2),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function l2(){return new Je(N.comparator)}function d2(){return new Je(N.comparator)}const Tae={asc:"ASCENDING",desc:"DESCENDING"},Cae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sae={and:"AND",or:"OR"};class Aae{constructor(e,t){this.databaseId=e,this.yt=t}}function ut(n){return H(!!n),z.fromTimestamp(function(e){const t=fs(e);return new qe(t.seconds,t.nanos)}(n))}function f2(n){const e=ve.fromString(n);return H(E2(e)),e}function Xr(n,e){const t=f2(e);if(t.get(1)!==n.databaseId.projectId)throw new C(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new C(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(g2(t))}function n0(n,e){return function t0(n,e){return(t=n,new ve(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function sd(n){return new ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g2(n){return H(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function _2(n,e){return{documents:[n0(n,e.path)]}}function s0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=n0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=n0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return b2(Ae.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:_s((l=u).field),direction:Oae(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(u=e.limit,n.yt||Gl(u)?u:{value:u});var u,a,c;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function v2(n){let e=function p2(n){const e=f2(n);return 4===e.length?ve.emptyPath():g2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){H(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){const d=w2(l);return d instanceof Ae&&qT(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new ac(gc((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Gl(d)?null:d}(t.limit));let c=null;var l;t.startAt&&(c=new ms((l=t.startAt).values||[],!!l.before));let u=null;return t.endAt&&(u=function(l){return new ms(l.values||[],!l.before)}(t.endAt)),function VB(n,e,t,r,i,s,o,a){return new Pi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function w2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=gc(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=gc(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gc(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gc(e.unaryFilter.field);return pe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(n):void 0!==n.fieldFilter?function(e){return pe.create(gc(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return Ae.create(e.compositeFilter.filters.map(t=>w2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(n):V()}function Oae(n){return Tae[n]}function Pae(n){return Cae[n]}function Fae(n){return Sae[n]}function _s(n){return{fieldPath:n.canonicalString()}}function gc(n){return ct.fromServerFormat(n.fieldPath)}function b2(n){return n instanceof pe?function(e){if("=="===e.op){if(bB(e.value))return{unaryFilter:{field:_s(e.field),op:"IS_NAN"}};if(wB(e.value))return{unaryFilter:{field:_s(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bB(e.value))return{unaryFilter:{field:_s(e.field),op:"IS_NOT_NAN"}};if(wB(e.value))return{unaryFilter:{field:_s(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(e.field),op:Pae(e.op),value:e.value}}}(n):n instanceof Ae?function(e){const t=e.getFilters().map(r=>b2(r));return 1===t.length?t[0]:{compositeFilter:{op:Fae(e.op),filters:t}}}(n):V()}function E2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class a0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yae(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Jl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=o2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=XB(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),oe())}isEqual(e){return this.batchId===e.batchId&&ic(this.mutations,e.mutations,(t,r)=>ZB(t,r))&&ic(this.baseMutations,e.baseMutations,(t,r)=>ZB(t,r))}}class u0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vs{constructor(e,t,r,i,s=z.min(),o=z.min(),a=Ct.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class M2{constructor(e){this.oe=e}}function l0(n){const e=v2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fg(e,e.limit,"L"):e}class Ao{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),Hl(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(_o(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?EB(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):V()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const i of Object.keys(r))this.we(i,t),this.he(r[i],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const i of r)this.he(i,t)}ye(e,t){this.fe(t,37),N.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}Ao.Ee=new Ao;class lce{constructor(){this.Ze=new m0}addToCollectionParentIndex(e,t){return this.Ze.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(qn.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class m0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xe(ve.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(ve.comparator)).toArray()}}new Uint8Array(0);class xn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class xo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new xo(0)}static Sn(){return new xo(-1)}}class yce{constructor(){this.changes=new ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wce{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class J2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Jl(r.mutation,i,An.empty(),qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=oe()){const i=Yr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ed();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Yr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,oe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Mn();const o=td(),a=td();return t.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof Fi)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),Jl(l.mutation,u,l.mutation.getFieldMask(),qe.now())):o.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),t.forEach((u,l)=>{var d;return a.set(u,new wce(l,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=td();let i=new Je((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=t.get(c);if(null===u)return;let l=r.get(c)||An.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||oe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=o2();l.forEach(h=>{if(!s.has(h)){const f=XB(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return N.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function YT(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(Yr());let a=-1,c=s;return o.next(u=>w.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,oe())).next(l=>({batchId:a,changes:s2(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(r=>{let i=ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=ed();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const c=(u=t,l=a.child(i),new Pi(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,Ve.newInvalidDocument(u)))});let o=ed();return s.forEach((a,c)=>{const u=i.get(a);void 0!==u&&Jl(u.mutation,c,An.empty(),qe.now()),Xl(t,c)&&(o=o.insert(a,c))}),o})}}class bce{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return w.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:ut(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:l0(r.bundledQuery),readTime:ut(r.readTime)}),w.resolve();var r}}class Ece{constructor(){this.overlays=new Je(N.comparator),this.ss=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yr();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ce(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ss.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=Yr(),s=t.length+1,o=new N(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Je((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=Yr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Yr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return w.resolve(a)}ce(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u0(t,r));let s=this.ss.get(t);void 0===s&&(s=oe(),this.ss.set(t,s)),this.ss.set(t,s.add(r.key))}}class y0{constructor(){this.rs=new xe(Ot.os),this.us=new xe(Ot.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new Ot(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new Ot(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new N(new ve([])),r=new Ot(t,e),i=new Ot(t,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new N(new ve([])),r=new Ot(t,e),i=new Ot(t,e+1);let s=oe();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ot(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ot{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return N.comparator(e.key,t.key)||te(e.gs,t.gs)}static cs(e,t){return te(e.gs,t.gs)||N.comparator(e.key,t.key)}}class Ice{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new xe(Ot.os)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ys;this.ys++;const o=new a0(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.ps=this.ps.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ts(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ot(t,0),i=new Ot(t,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const a=this.Is(o.gs);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xe(te);return t.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),w.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new N(s),0);let a=new xe(te);return this.ps.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gs)),!0)},o),w.resolve(this.Es(a))}Es(e){const t=[];return e.forEach(r=>{const i=this.Is(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){H(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return w.forEach(t.mutations,i=>{const s=new Ot(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,t){const r=new Ot(t,0),i=this.ps.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Dce{constructor(e){this.Rs=e,this.docs=new Je(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(t))}getEntries(e,t){let r=Mn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Mn();const o=t.path,a=new N(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||VT(hB(l),r)<=0||(i.has(l.key)||Xl(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){V()}Ps(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Tce(this)}getSize(e){return w.resolve(this.size)}}class Tce extends yce{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class Cce{constructor(e){this.persistence=e,this.vs=new ys(t=>bo(t),Ql),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.bs=0,this.Vs=new y0,this.targetCount=0,this.Ss=xo.Vn()}forEachTarget(e,t){return this.vs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),w.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new xo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.xn(t),w.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.Vs.containsKey(t))}}class e${constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Wn(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new Cce(this),this.indexManager=new lce,this.remoteDocumentCache=new Dce(r=>this.referenceDelegate.ks(r)),this.Tt=new M2(t),this.$s=new bce(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ece,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new Ice(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new Sce(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Fs(e,t){return w.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class Sce extends qoe{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.Bs=new y0,this.Ls=null}static qs(e){return new Sg(e)}get Us(){if(this.Ls)return this.Ls;throw V()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),w.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Us,r=>{const i=N.fromPath(r);return this.Ks(e,i).next(s=>{s||t.removeEntry(i,z.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return w.or([()=>w.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class b0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=i}static Ni(e,t){let r=oe(),i=oe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new b0(e,t.fromCache,r,i)}}class n${constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Mi(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Fi(e,t))}Mi(e,t){if(UB(t))return w.resolve(null);let r=_n(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=fg(t,null,"F"),r=_n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Bi(t,a);return this.Li(t,u,o,c.readTime)?this.Mi(e,fg(t,null,"F")):this.qi(e,u,t,c)}))})))}Oi(e,t,r,i){return UB(t)||i.isEqual(z.min())?this.Fi(e,t):this.$i.getDocuments(e,r).next(s=>{const o=this.Bi(t,s);return this.Li(t,o,r,i)?this.Fi(e,t):(PT()<=_e.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ZT(t)),this.qi(e,o,t,function dB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===r?new qe(t+1,0):new qe(t,r));return new qn(i,N.empty(),e)}(i,-1)))})}Bi(e,t){let r=new xe(jB(e));return t.forEach((i,s)=>{Xl(e,s)&&(r=r.add(s))}),r}Li(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fi(e,t){return PT()<=_e.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",ZT(t)),this.$i.getDocumentsMatchingQuery(e,t,qn.min())}qi(e,t,r,i){return this.$i.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Mce{constructor(e,t,r,i){this.persistence=e,this.Ui=t,this.Tt=i,this.Ki=new Je(te),this.Gi=new ys(s=>bo(s),Ql),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J2(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function i$(n,e){return E0.apply(this,arguments)}function E0(){return E0=y(function*(n,e){const t=R(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=oe();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Wi:u,removedBatchIds:o,addedBatchIds:a}))})})}),E0.apply(this,arguments)}function s$(n){const e=R(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function vc(n,e,t){return I0.apply(this,arguments)}function I0(){return I0=y(function*(n,e,t){const r=R(n),i=r.Ki.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!hs(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}),I0.apply(this,arguments)}function Mg(n,e,t){const r=R(n);let i=z.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=R(a),d=l.Gi.get(u);return void 0!==d?w.resolve(l.Ki.get(d)):l.Ns.getTargetData(c,u)}(r,o,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,t?i:z.min(),t?s:oe())).next(a=>(function u$(n,e,t){let r=n.Qi.get(e)||z.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Qi.set(e,r)}(r,function $B(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Yi:s})))}class A0{constructor(){this.activeTargetIds=mg()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h${constructor(){this.Ur=new A0,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new A0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pce{Gr(e){}shutdown(){}}class f${constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ng=null;function x0(){return null===Ng?Ng=268435456+Math.round(2147483648*Math.random()):Ng++,"0x"+Ng.toString(16)}const Fce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lce{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const sn="WebChannelConnection";class Vce extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,i,s){const o=x0(),a=this.fo(e,t);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this._o(c,i,s),this.wo(e,a,c,r).then(u=>(S("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw rc("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}mo(e,t,r,i,s,o){return this.lo(e,t,r,i,s)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+nc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,t){return`${this.co}/v1/${t}:${Fce[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,i){const s=x0();return new Promise((o,a)=>{const c=new Poe;c.setWithCredentials(!0),c.listenOnce(Noe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case OT.NO_ERROR:const l=c.getResponseJson();S(sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case OT.TIMEOUT:S(sn,`RPC '${e}' ${s} timed out`),a(new C(b.DEADLINE_EXCEEDED,"Request time out"));break;case OT.HTTP_ERROR:const d=c.getStatus();if(S(sn,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(m)>=0?m:b.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(b.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(b.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{S(sn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);S(sn,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}yo(e,t,r){const i=x0(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xoe(),a=koe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new Ooe({})),this._o(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const u=s.join("");S(sn,`Creating RPC '${e}' stream ${i}: ${u}`,c);const l=o.createWebChannel(u,c);let d=!1,h=!1;const f=new Lce({Yr:g=>{h?S(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(S(sn,`Opening RPC '${e}' stream ${i} transport.`),l.open(),d=!0),S(sn,`RPC '${e}' stream ${i} sending:`,g),l.send(g))},Zr:()=>l.close()}),p=(g,m,v)=>{g.listen(m,I=>{try{v(I)}catch(_){setTimeout(()=>{throw _},0)}})};return p(l,rg.EventType.OPEN,()=>{h||S(sn,`RPC '${e}' stream ${i} transport opened.`)}),p(l,rg.EventType.CLOSE,()=>{h||(h=!0,S(sn,`RPC '${e}' stream ${i} transport closed`),f.oo())}),p(l,rg.EventType.ERROR,g=>{h||(h=!0,rc(sn,`RPC '${e}' stream ${i} transport errored:`,g),f.oo(new C(b.UNAVAILABLE,"The operation could not be completed")))}),p(l,rg.EventType.MESSAGE,g=>{var m;if(!h){const v=g.data[0];H(!!v);const _=v.error||(null===(m=v[0])||void 0===m?void 0:m.error);if(_){S(sn,`RPC '${e}' stream ${i} received error:`,_);const M=_.status;let U=function(ge){const _t=mt[ge];if(void 0!==_t)return r2(_t)}(M),L=_.message;void 0===U&&(U=b.INTERNAL,L="Unknown error status: "+M+" with message "+_.message),h=!0,f.oo(new C(U,L)),l.close()}else S(sn,`RPC '${e}' stream ${i} received:`,v),f.uo(v)}}),p(a,Roe.STAT_EVENT,g=>{g.stat===sB.PROXY?S(sn,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===sB.NOPROXY&&S(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.ro()},0),f}}function Rg(){return typeof document<"u"?document:null}function gd(n){return new Aae(n,!0)}class k0{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class Uce{constructor(e,t,r,i,s,o,a,c){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new k0(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return y(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return y(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return y(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===b.RESOURCE_EXHAUSTED?(at(t.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.ko.Po()):t&&t.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===t&&this.jo(r,i)},r=>{e(()=>{const i=new C(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.ko.vo(y(function*(){e.state=0,e.start()}))}zo(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bce extends Uce{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.Tt=s}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function kae(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:V(),i=e.targetChange.targetIds||[],s=function(c,u){return c.yt?(H(void 0===u||"string"==typeof u),Ct.fromBase64String(u||"")):(H(void 0===u||u instanceof Uint8Array),Ct.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=void 0===c.code?b.UNKNOWN:r2(c.code);return new C(u,c.message||"")}(o);t=new c2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Xr(n,r.document.name),s=ut(r.document.updateTime),o=r.document.createTime?ut(r.document.createTime):z.min(),a=new Nt({mapValue:{fields:r.document.fields}}),c=Ve.newFoundDocument(i,s,o,a);t=new yg(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Xr(n,r.document),s=r.readTime?ut(r.readTime):z.min(),o=Ve.newNoDocument(i,s);t=new yg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Xr(n,r.document);t=new yg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,s=new vae(r.count||0);t=new a2(r.targetId,s)}}var c;return t}(this.Tt,e),r=function(i){if(!("targetChange"in i))return z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?ut(s.readTime):z.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=sd(this.Tt),t.addTarget=function(i,s){let o;const a=s.target;return o=lg(a)?{documents:_2(i,a)}:{query:s0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=function h2(n,e){return n.yt?e.toBase64():e.toUint8Array()}(i,s.resumeToken):s.snapshotVersion.compareTo(z.min())>0&&(o.readTime=function pc(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=function Rae(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return V()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=sd(this.Tt),t.removeTarget=e,this.qo(t)}}class jce extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new C(b.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(b.UNKNOWN,i.toString())})}mo(e,t,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(b.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class Hce{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(at(t),this.cu=!1):S("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class zce{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(a=>{r.enqueueAndForget(y(function*(){var c;Li(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(c=y(function*(u){const l=R(u);l.mu.add(4),yield wc(l),l.pu.set("Unknown"),l.mu.delete(4),yield md(l)}),function(u){return c.apply(this,arguments)})(o))}))}),this.pu=new Hce(r,i)}}function md(n){return R0.apply(this,arguments)}function R0(){return R0=y(function*(n){if(Li(n))for(const e of n.gu)yield e(!0)}),R0.apply(this,arguments)}function wc(n){return O0.apply(this,arguments)}function O0(){return O0=y(function*(n){for(const e of n.gu)yield e(!1)}),O0.apply(this,arguments)}function Og(n,e){const t=R(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),L0(t)?F0(t):Ec(t).Mo()&&P0(t,e))}function yd(n,e){const t=R(n),r=Ec(t);t.wu.delete(e),r.Mo()&&g$(t,e),0===t.wu.size&&(r.Mo()?r.Bo():Li(t)&&t.pu.set("Unknown"))}function P0(n,e){n.Iu.Ot(e.targetId),Ec(n).Jo(e)}function g$(n,e){n.Iu.Ot(e),Ec(n).Yo(e)}function F0(n){n.Iu=new Dae({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),Ec(n).start(),n.pu.au()}function L0(n){return Li(n)&&!Ec(n).$o()&&n.wu.size>0}function Li(n){return 0===R(n).mu.size}function m$(n){n.Iu=void 0}function qce(n){return V0.apply(this,arguments)}function V0(){return V0=y(function*(n){n.wu.forEach((e,t)=>{P0(n,e)})}),V0.apply(this,arguments)}function Wce(n,e){return U0.apply(this,arguments)}function U0(){return U0=y(function*(n,e){m$(n),L0(n)?(n.pu.fu(e),F0(n)):n.pu.set("Unknown")}),U0.apply(this,arguments)}function Kce(n,e,t){return B0.apply(this,arguments)}function B0(){return B0=y(function*(n,e,t){if(n.pu.set("Online"),e instanceof c2&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.wu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.wu.delete(a),i.Iu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pg(n,r)}else if(e instanceof yg?n.Iu.Qt(e):e instanceof a2?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(z.min()))try{const r=yield s$(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.wu.get(c);u&&i.wu.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const c=i.wu.get(a);if(!c)return;i.wu.set(a,c.withResumeToken(Ct.EMPTY_BYTE_STRING,c.snapshotVersion)),g$(i,a);const u=new vs(c.target,a,1,c.sequenceNumber);P0(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Pg(n,r)}var r}),B0.apply(this,arguments)}function Pg(n,e,t){return $0.apply(this,arguments)}function $0(){return $0=y(function*(n,e,t){if(!hs(e))throw e;n.mu.add(1),yield wc(n),n.pu.set("Offline"),t||(t=()=>s$(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield md(n)}))}),$0.apply(this,arguments)}function w$(n,e){return W0.apply(this,arguments)}function W0(){return W0=y(function*(n,e){const t=R(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Li(t);t.mu.add(3),yield wc(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield md(t)}),W0.apply(this,arguments)}function Q0(){return Q0=y(function*(n,e){const t=R(n);e?(t.mu.delete(2),yield md(t)):e||(t.mu.add(2),yield wc(t),t.pu.set("Unknown"))}),Q0.apply(this,arguments)}function Ec(n){return n.Tu||(n.Tu=function(e,t,r){const i=R(e);return i.ru(),new Bce(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:qce.bind(null,n),no:Wce.bind(null,n),Ho:Kce.bind(null,n)}),n.gu.push(function(){var e=y(function*(t){t?(n.Tu.Fo(),L0(n)?F0(n):n.pu.set("Unknown")):(yield n.Tu.stop(),m$(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class Y0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Y0(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ic(n,e){if(at("AsyncQueue",`${e}: ${n}`),hs(n))return new C(b.UNAVAILABLE,`${e}: ${n}`);throw n}class Dc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||N.comparator(t.key,r.key):(t,r)=>N.comparator(t.key,r.key),this.keyedMap=ed(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Dc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class b${constructor(){this.Au=new Je(N.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):V():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class Tc{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Tc(e,t,Dc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class tue{constructor(){this.Pu=void 0,this.listeners=[]}}class nue{constructor(){this.queries=new ys(e=>BB(e),Yl),this.onlineState="Unknown",this.vu=new Set}}function Z0(){return Z0=y(function*(n,e){const t=R(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new tue),i)try{s.Pu=yield t.onListen(r)}catch(o){const a=Ic(o,`Initialization of query '${ZT(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Pu&&e.Vu(s.Pu)&&tC(t)}),Z0.apply(this,arguments)}function eC(){return eC=y(function*(n,e){const t=R(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),eC.apply(this,arguments)}function rue(n,e){const t=R(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Pu=i}}r&&tC(t)}function iue(n,e,t){const r=R(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function tC(n){n.vu.forEach(e=>{e.next()})}class nC{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class D${constructor(e){this.key=e}}class T${constructor(e){this.key=e}}class C${constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=oe(),this.mutatedKeys=oe(),this.ju=jB(e),this.zu=new Dc(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new b$,i=t?t.zu:this.zu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Xl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Yu(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.ju(f,c)>0||u&&this.ju(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((u,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(u.type,l.type)||this.ju(u.doc,l.doc)),this.Zu(r);const o=t?this.Xu():[],a=0===this.Qu.size&&this.current?1:0,c=a!==this.Gu;return this.Gu=a,0!==s.length||c?{snapshot:new Tc(this.query,e.zu,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new b$,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=oe(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new T$(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new D$(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=oe();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return Tc.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class aue{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cue{constructor(e){this.key=e,this.ic=!1}}class uue{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new ys(a=>BB(a),Yl),this.uc=new Map,this.cc=new Set,this.ac=new Je(N.comparator),this.hc=new Map,this.lc=new y0,this.fc={},this.dc=new Map,this._c=xo.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function lue(n,e){return rC.apply(this,arguments)}function rC(){return rC=y(function*(n,e){const t=function CC(n){const e=R(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=S$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fue.bind(null,e),e.rc.Ho=rue.bind(null,e.eventManager),e.rc.gc=iue.bind(null,e.eventManager),e}(n);let r,i;const s=t.oc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=yield function _c(n,e){const t=R(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ns.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Ns.allocateTargetId(r).next(o=>(i=new vs(e,o,0,r.currentSequenceNumber),t.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ki.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}(t.localStore,_n(e));t.isPrimaryClient&&Og(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function iC(n,e,t,r,i){return sC.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken)}return i}),rC.apply(this,arguments)}function sC(){return sC=y(function*(n,e,t,r,i){n.mc=(d,h,f)=>{return(p=y(function*(g,m,v,I){let _=m.view.Hu(v);_.Li&&(_=yield Mg(g.localStore,m.query,!1).then(({documents:L})=>m.view.Hu(L,_)));const M=I&&I.targetChanges.get(m.targetId),U=m.view.applyChanges(_,g.isPrimaryClient,M);return gC(g,m.targetId,U.tc),U.snapshot}),function(g,m,v,I){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Mg(n.localStore,e,!0),o=new C$(e,s.Yi),a=o.Hu(s.documents),c=rd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=o.applyChanges(a,n.isPrimaryClient,c);gC(n,t,u.tc);const l=new aue(e,t,o);return n.oc.set(e,l),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),u.snapshot}),sC.apply(this,arguments)}function due(n,e){return oC.apply(this,arguments)}function oC(){return oC=y(function*(n,e){const t=R(n),r=t.oc.get(e),i=t.uc.get(r.targetId);if(i.length>1)return t.uc.set(r.targetId,i.filter(s=>!Yl(s,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yd(t.remoteStore,r.targetId),Cc(t,r.targetId)}).catch(ds))):(Cc(t,r.targetId),yield vc(t.localStore,r.targetId,!0))}),oC.apply(this,arguments)}function S$(n,e){return cC.apply(this,arguments)}function cC(){return cC=y(function*(n,e){const t=R(n);try{const r=yield function kce(n,e){const t=R(n),r=e.snapshotVersion;let i=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ji.newChangeBuffer({trackRemovals:!0});i=t.Ki;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Ns.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Ns.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(Ct.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Ns.updateTargetData(s,f))});let c=Mn(),u=oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function o$(n,e,t){let r=oe(),i=oe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Mn();return t.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(z.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Hi:o,Ji:i}})}(s,o,e.documentUpdates).next(l=>{c=l.Hi,u=l.Ji})),!r.isEqual(z.min())){const l=t.Ns.getLastRemoteSnapshotVersion(s).next(d=>t.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.Ki=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.hc.get(s);o&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?H(o.ic):i.removedDocuments.size>0&&(H(o.ic),o.ic=!1))}),yield Vi(t,r,e)}catch(r){yield ds(r)}}),cC.apply(this,arguments)}function A$(n,e,t){const r=R(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.oc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.bu(o)&&(c=!0)}),c&&tC(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fue(n,e,t){return uC.apply(this,arguments)}function uC(){return uC=y(function*(n,e,t){const r=R(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new Je(N.comparator);o=o.insert(s,Ve.newNoDocument(s,z.min()));const a=oe().add(s),c=new nd(z.min(),new Map,new xe(te),o,a);yield S$(r,c),r.ac=r.ac.remove(s),r.hc.delete(e),mC(r)}else yield vc(r.localStore,e,!1).then(()=>Cc(r,e,t)).catch(ds)}),uC.apply(this,arguments)}function Cc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||M$(n,r)})}function M$(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(yd(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),mC(n))}function gC(n,e,t){for(const r of t)r instanceof D$?(n.lc.addReference(r.key,e),yue(n,r)):r instanceof T$?(S("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||M$(n,r.key)):V()}function yue(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(S("SyncEngine","New document in limbo: "+t),n.cc.add(r),mC(n))}function mC(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new N(ve.fromString(e)),r=n._c.next();n.hc.set(r,new cue(t)),n.ac=n.ac.insert(t,r),Og(n.remoteStore,new vs(_n(uc(t.path)),r,2,Wn.at))}}function Vi(n,e,t){return yC.apply(this,arguments)}function yC(){return yC=y(function*(n,e,t){const r=R(n),i=[],s=[],o=[];var a;r.oc.isEmpty()||(r.oc.forEach((a,c)=>{o.push(r.mc(c,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=b0.Ni(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.rc.Ho(i),yield(a=y(function*(c,u){const l=R(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,h=>w.forEach(h.Ci,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.xi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!hs(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ki.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ki=l.Ki.insert(h,g)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,s))}),yC.apply(this,arguments)}function _ue(n,e){return _C.apply(this,arguments)}function _C(){return _C=y(function*(n,e){const t=R(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield i$(t.localStore,e);t.currentUser=e,(i=t).dc.forEach(o=>{o.forEach(a=>{a.reject(new C(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vi(t,r.Wi)}var i}),_C.apply(this,arguments)}function vue(n,e){const t=R(n),r=t.hc.get(e);if(r&&r.ic)return oe().add(r.key);{let i=oe();const s=t.uc.get(e);if(!s)return i;for(const o of s){const a=t.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}class Aue{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.Tt=gd(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return function r$(n,e,t,r){return new Mce(n,e,t,r)}(this.persistence,new n$,e.initialUser,this.Tt)}Tc(e){return new e$(Sg.qs,this.Tt)}Ic(e){return new h$}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class AC{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>A$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=_ue.bind(null,r.syncEngine),yield function K0(n,e){return Q0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nue}createDatastore(e){const t=gd(e.databaseInfo.databaseId),r=new Vce(e.databaseInfo);return new jce(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>A$(this.syncEngine,a,0),o=f$.C()?new f$:new Pce,new zce(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,c,u){const l=new uue(r,i,s,o,a,c);return u&&(l.wc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=y(function*(t){const r=R(t);S("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield wc(r),r.yu.shutdown(),r.pu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Oue{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=uB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ic(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function MC(){return MC=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield i$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),MC.apply(this,arguments)}function xC(){return xC=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function kC(n){return NC.apply(this,arguments)}(n);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>w$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>w$(e.remoteStore,s)),n.onlineComponents=e}),xC.apply(this,arguments)}function NC(){return NC=y(function*(n){return n.offlineComponents||(S("FirestoreClient","Using default OfflineComponentProvider"),yield function R$(n,e){return MC.apply(this,arguments)}(n,new Aue)),n.offlineComponents}),NC.apply(this,arguments)}function RC(){return RC=y(function*(n){return n.onlineComponents||(S("FirestoreClient","Using default OnlineComponentProvider"),yield function O$(n,e){return xC.apply(this,arguments)}(n,new AC)),n.onlineComponents}),RC.apply(this,arguments)}function Sc(n){return FC.apply(this,arguments)}function FC(){return FC=y(function*(n){const e=yield function Lg(n){return RC.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=lue.bind(null,e.syncEngine),t.onUnlisten=due.bind(null,e.syncEngine),t}),FC.apply(this,arguments)}const U$=new Map;function $$(n){if(N.isDocumentKey(n))throw new C(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function me(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new C(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Ug(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":V()}(n);throw new C(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class G${constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new C(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function jue(n,e,t,r){if(!0===e&&!0===r)throw new C(b.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Foe;switch(t.type){case"gapi":return new Boe(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new C(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=U$.get(e);t&&(S("ComponentProvider","Removing Datastore"),U$.delete(e),t.terminate())}(this),Promise.resolve()}}class lt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class Kt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class Jr extends Kt{constructor(e,t,r){super(e,t,uc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new N(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function Hue(n,e,...t){if(n=ss(n),function LC(n,e,t){if(!t)throw new C(b.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("collection","path",e),n instanceof _d){const r=ve.fromString(e,...t);return $$(r),new Jr(n,null,r)}{if(!(n instanceof lt||n instanceof Jr))throw new C(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return $$(r),new Jr(n.firestore,null,r)}}class que{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new k0(this,"async_queue_retry"),this.Hc=()=>{const t=Rg();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=Rg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=Rg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new Tt;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return y(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!hs(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const i=Y0.createAndSchedule(this,e,t,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&V()}verifyOperationInProgress(){}ta(){var e=this;return y(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function VC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Ue extends _d{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new que,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||z$(this),this._firestoreClient.terminate()}}function Kue(n,e){const r="string"==typeof n?n:e||"(default)",i=np("object"==typeof n?n:fF(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aZ("firestore");s&&function Gue(n,e,t,r={}){var i;const s=(n=me(n,_d))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&rc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=kt.MOCK_USER;else{o=function lZ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kf(JSON.stringify({alg:"none",type:"JWT"})),Kf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new kt(c)}n._authCredentials=new Loe(new aB(o,a))}}(i,...s)}return i}function z$(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Joe(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Oue(n._authCredentials,n._appCheckCredentials,n._queue,r)}class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(Ct.fromBase64String(e))}catch(t){throw new C(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new No(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ac{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class UC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const nle=new RegExp("[~\\*/\\[\\]]");function jg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(b.INVALID_ARGUMENT,a+n+c)}class GC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rle extends GC{data(){return super.data()}}function Gg(n,e){return"string"==typeof e?function $g(n,e,t){if(e.search(nle)>=0)throw jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ac(...e.split("."))._internalPath}catch{throw jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof Ac?e._internalPath:e._delegate._internalPath}class sle{convertValue(e,t="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw V()}}convertObject(e,t){const r={};return yo(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new UC(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_B(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const t=fs(e);return new qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ve.fromString(e);H(E2(r));const i=new mo(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(t)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Oo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kc extends GC{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Gg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wg extends kc{data(e={}){return super.data(e)}}class Nc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wg(this._firestore,this._userDataWriter,r.key,r,new Oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new C(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Wg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Wg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:ale(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ale(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class Ds extends sle{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,t)}}!function(n,e=!0){nc=rp,gn(new tn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Ue(new Voe(t.getProvider("auth-internal")),new $oe(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ot(oB,"3.9.0",n),ot(oB,"3.9.0","esm2017")}();var fle={includeMetadataChanges:!1};function WC(n,e){return void 0===e&&(e=fle),new Be(function(t){var r=function cle(n,...e){var t,r,i;n=ss(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||VC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(VC(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,u,l;if(n instanceof lt)u=me(n.firestore,Ue),l=uc(n._key.path),c={next:d=>{e[o]&&e[o](function qC(n,e,t){const r=t.docs.get(e._key),i=new Ds(n);return new kc(n,i,e._key,r,new Oo(t.hasPendingWrites,t.fromCache),e.converter)}(u,n,d))},error:e[o+1],complete:e[o+2]};else{const d=me(n,Kt);u=me(d.firestore,Ue),l=d._query;const h=new Ds(u);c={next:f=>{e[o]&&e[o](new Nc(u,h,d,f))},error:e[o+1],complete:e[o+2]},function ij(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new C(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new Fg(p),m=new nC(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function X0(n,e){return Z0.apply(this,arguments)}(yield Sc(d),m)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(y(function*(){return function J0(n,e){return eC.apply(this,arguments)}(yield Sc(d),m)}))}}(function yt(n){return n._firestoreClient||z$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(u),l,a,c)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function wle(n,e){return void 0===e&&(e={}),function vle(n){return WC(n,{includeMetadataChanges:!0}).pipe(ue(function(e){return e.docs}))}(n).pipe(ue(function(t){return t.map(function(r){return function hj(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Qg{constructor(e){return e}}const mj="firestore",YC=new O("angularfire2.firestore-instances");function Ile(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Qg(r)}}const Dle={provide:class ble{constructor(){return NE(mj)}},deps:[[new ln,YC]]},Tle={provide:Qg,useFactory:function Ele(n,e){const t=function kE(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(mj,n,e);return t&&new Qg(t)},deps:[[new ln,YC],Ka]};let Cle=(()=>{class n{constructor(){ot("angularfire",IE.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({providers:[Tle,Dle]}),n})();function Sle(n,...e){return{ngModule:Cle,providers:[{provide:YC,useFactory:Ile(n),multi:!0,deps:[Se,ir,vL,wL,[new ln,bV],[new ln,HV],...e]}]}}const Ale=lp(wle,!0),Mle=lp(Hue,!0),xle=lp(Kue,!0);let XC;try{XC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{XC=!1}let Td,ZC,Dd=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function o7(n){return n===c1}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!XC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(k(ku))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yg(n){return function kle(){if(null==Td&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Td=!0}))}finally{Td=Td||!1}return Td}()?n:!!n.capture}function Oc(n){return n.composedPath?n.composedPath()[0]:n.target}function _j(n){return wi((e,t)=>n<=t)}function $le(n,e){return n===e}function vj(n){return et((e,t)=>{Nn(n).subscribe(Ke(t,()=>t.complete(),ym)),!t.closed&&e.subscribe(t)})}function Zg(n){return null!=n&&"false"!=`${n}`}function wj(n){return Array.isArray(n)?n:[n]}function Cd(n){return n instanceof Jt?n.nativeElement:n}const bj=new Set;let Pc,zle=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Wle}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function qle(n){if(!bj.has(n))try{Pc||(Pc=document.createElement("style"),Pc.setAttribute("type","text/css"),document.head.appendChild(Pc)),Pc.sheet&&(Pc.sheet.insertRule(`@media ${n} {body{ }}`,0),bj.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(k(Dd))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wle(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Kle=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Zn}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Ej(wj(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Xv(Ej(wj(t)).map(o=>this._registerQuery(o).observable));return s=Cf(s.pipe(Na(1)),s.pipe(_j(1),function Hle(n,e=yL){return et((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function c(){const u=o+n,l=e.now();if(l<u)return i=this.schedule(void 0,u-l),void r.add(i);a()}t.subscribe(Ke(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(ue(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Be(o=>{const a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(HO(r),ue(({matches:o})=>({query:t,matches:o})),vj(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(k(zle),k(Se))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ej(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Cj(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Sj(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const nde=new O("cdk-input-modality-detector-options"),rde={ignoreKeys:[18,17,224,91,16]},Fc=Yg({passive:!0,capture:!0});let ide=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new cr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Oc(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Cj(o)?"keyboard":"mouse"),this._mostRecentTarget=Oc(o))},this._onTouchstart=o=>{Sj(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Oc(o))},this._options={...rde,...s},this.modalityDetected=this._modality.pipe(_j(1)),this.modalityChanged=this.modalityDetected.pipe(function Ble(n,e=$i){return n=n??$le,et((t,r)=>{let i,s=!0;t.subscribe(Ke(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Fc),i.addEventListener("mousedown",this._onMousedown,Fc),i.addEventListener("touchstart",this._onTouchstart,Fc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fc),document.removeEventListener("mousedown",this._onMousedown,Fc),document.removeEventListener("touchstart",this._onTouchstart,Fc))}}return n.\u0275fac=function(t){return new(t||n)(k(Dd),k(Se),k(rt),k(nde,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ode=new O("cdk-focus-monitor-default-options"),Jg=Yg({passive:!0,capture:!0});let ade=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Zn,this._rootNodeFocusAndBlurListener=a=>{for(let u=Oc(a);u;u=u.parentElement)"focus"===a.type?this._onFocus(a,u):this._onBlur(a,u)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=Cd(t);if(!this._platform.isBrowser||1!==i.nodeType)return W(null);const s=function Rle(n){if(function Nle(){if(null==ZC){const n=typeof document<"u"?document.head:null;ZC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ZC}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Zn,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Cd(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Cd(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Oc(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jg)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vj(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(k(Se),k(Dd),k(ide),k(rt,8),k(ode,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mj="cdk-high-contrast-black-on-white",xj="cdk-high-contrast-white-on-black",JC="cdk-high-contrast-active";let cde=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=le(Kle).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(JC,Mj,xj),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(JC,Mj):2===r&&t.add(JC,xj)}}}return n.\u0275fac=function(t){return new(t||n)(k(Dd),k(rt))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({}),n})();const hde=new O("mat-sanity-checks",{providedIn:"root",factory:function dde(){return!0}});let Lc=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Ole(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(k(cde),k(hde,8),k(rt))},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({imports:[kj,kj]}),n})();function fde(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Zg(e)}constructor(...e){super(...e),this._disabled=!1}}}function pde(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function gde(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Zg(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function mde(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function jle(n,e=0){return function Gle(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}class _de{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Oj=Yg({passive:!0,capture:!0});class vde{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Oc(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Oj)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Oj)))}}const Pj={enterDuration:225,exitDuration:150},Fj=Yg({passive:!0,capture:!0}),Lj=["mousedown","touchstart"],Vj=["mouseup","mouseleave","touchend","touchcancel"];class Ad{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Cd(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Pj,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function bde(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,c=t-i.top,u=s.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=a-o+"px",l.style.top=c-o+"px",l.style.height=2*o+"px",l.style.width=2*o+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l);const d=window.getComputedStyle(l),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,g=new _de(this,l,r,p);l.style.transform="scale3d(1, 1, 1)",g.state=0,r.persistent||(this._mostRecentTransientRipple=g);let m=null;return!p&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(g),I=()=>this._destroyRipple(g);l.addEventListener("transitionend",v),l.addEventListener("transitioncancel",I),m={onTransitionEnd:v,onTransitionCancel:I}}),this._activeRipples.set(g,m),(p||!u)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...Pj,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Cd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Lj.forEach(r=>{Ad._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Vj.forEach(t=>{this._triggerElement.addEventListener(t,this,Fj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Cj(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Sj(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Lj.forEach(t=>Ad._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Vj.forEach(t=>e.removeEventListener(t,this,Fj)))}}Ad._eventManager=new vde;const Ede=new O("mat-ripple-global-options");let Ide=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ad(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(D(Jt),D(Se),D(Dd),D(Ede,8),D(qh,8))},n.\u0275dir=$({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Vr("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Dde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({imports:[Lc,Lc]}),n})();const Tde=["*"],Ade=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Mde=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],xde=new O("MAT_CARD_CONFIG");let Uj=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(D(xde,8))},n.\u0275cmp=Gi({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,r){2&t&&Vr("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Tde,decls:1,vars:0,template:function(t,r){1&t&&(vu(),pi(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),Bj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),$j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),jj=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,r){2&t&&Vr("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Gi({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Mde,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,r){1&t&&(vu(Ade),pi(0),nt(1,"div",0),pi(2,1),At(),pi(3,2))},encapsulation:2,changeDetection:0}),n})(),Bde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({imports:[Lc,_v,Lc]}),n})();const $de=["switch"],jde=["*"],Gde=new O("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),Hde={provide:Sr,useExisting:Me(()=>zj),multi:!0};class Hj{constructor(e,t){this.source=e,this.checked=t}}let zde=0;const qde=mde(pde(gde(fde(class{constructor(n){this._elementRef=n}}))));let Wde=(()=>{class n extends qde{get required(){return this._required}set required(t){this._required=Zg(t)}get checked(){return this._checked}set checked(t){this._checked=Zg(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,i,s,o,a,c){super(t),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=o,this._onChange=u=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new $e,this.toggleChange=new $e,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=o.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId=`${c}${++zde}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){qy()},n.\u0275dir=$({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[Ee]}),n})(),zj=(()=>{class n extends Wde{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,r,i,s,o,a){super(t,r,i,s,o,a,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Hj(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new Hj(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(D(Jt),D(ade),D(Ru),function Jc(n){return function Az(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(PA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Vt(),n)}("tabindex"),D(Gde),D(qh,8))},n.\u0275cmp=Gi({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,r){if(1&t&&$N($de,5),2&t){let i;O_(i=function P_(){return function N8(n,e){return n[Rr].queries[e].queryList}(T(),CA())}())&&(r._switchElement=i.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,r){2&t&&(y_("id",r.id),Bn("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Vr("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[Oe([Hde]),Ee],ngContentSelectors:jde,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,r){if(1&t&&(vu(),nt(0,"div",0)(1,"button",1,2),dn("click",function(){return r._handleClick()}),wr(3,"div",3),nt(4,"div",4)(5,"div",5)(6,"div",6),wr(7,"div",7),At(),nt(8,"div",8),wr(9,"div",9),At(),nt(10,"div",10),function NA(){re.lFrame.currentNamespace=mA}(),nt(11,"svg",11),wr(12,"path",12),At(),nt(13,"svg",13),wr(14,"path",14),At()()()()(),function RA(){!function _z(){re.lFrame.currentNamespace=null}()}(),nt(15,"label",15),dn("click",function(s){return s.stopPropagation()}),pi(16),At()()),2&t){const i=function Jx(n){return Qo(function lz(){return re.lFrame.contextLView}(),Le+n)}(2);Vr("mdc-form-field--align-end","before"==r.labelPosition),vr(1),Vr("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),Wi("tabIndex",r.tabIndex)("disabled",r.disabled),Bn("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),vr(8),Wi("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),vr(6),Wi("for",r.buttonId),Bn("id",r._labelId)}},dependencies:[Ide],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({}),n})(),Yde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({imports:[qj,Lc,Dde,_v,qj,Lc]}),n})(),Xde=(()=>{class n{constructor(){this.name="",this.mail="",this.disabledStatus=!1,this.roles=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Gi({type:n,selectors:[["app-user-container"]],inputs:{name:"name",mail:"mail",disabledStatus:"disabledStatus",roles:"roles"},decls:13,vars:6,consts:[[1,"user-container"],[3,"checked","ngModel","ngModelChange"]],template:function(t,r){1&t&&(nt(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),Ia(3),At()(),nt(4,"mat-card-content")(5,"p"),Ia(6),At(),nt(7,"p"),Ia(8),At(),nt(9,"p"),Ia(10),At()(),nt(11,"mat-card-actions")(12,"mat-slide-toggle",1),dn("ngModelChange",function(s){return r.disabledStatus=s}),At()()()),2&t&&(vr(3),Ph(r.name),vr(3),Ph(r.mail),vr(2),bu("Disabled: ",r.disabledStatus,""),vr(2),bu("Roles: ",r.roles,""),vr(2),Wi("checked",r.disabledStatus)("ngModel",r.disabledStatus))},dependencies:[Uj,jj,$j,Gj,Bj,zj,uO,Gv],styles:[".user-container[_ngcontent-%COMP%]{background-color:#fff;width:50%;margin:auto}"]}),n})();function Zde(n,e){if(1&n&&(nt(0,"li"),wr(1,"app-user-container",4),At()),2&n){const t=e.$implicit;vr(1),Nh("name",t.name),Nh("mail",t.mail),Wi("roles",t.roles)("disabledStatus",t.disabled)}}let Jde=(()=>{class n{constructor(){this.firestore=le(Qg);const t=Mle(this.firestore,"users");this.users=Ale(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Gi({type:n,selectors:[["app-root"]],decls:9,vars:3,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"container"],[4,"ngFor","ngForOf"],[3,"name","mail","roles","disabledStatus"]],template:function(t,r){1&t&&(nt(0,"div",0),wr(1,"img",1),nt(2,"h2"),Ia(3,"User Display"),At()(),nt(4,"div",2)(5,"ul"),function Zx(n,e,t,r,i,s,o,a){const c=T(),u=ye(),l=n+Le,d=u.firstCreatePass?function n4(n,e,t,r,i,s,o,a,c){const u=e.consts,l=ha(e,n,4,o||null,Hi(u,a));Jy(e,t,l,Hi(u,c)),nh(e,l);const d=l.tView=Zy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,t,r,i,s,o):u.data[l];Or(d,!1);const h=c[de].createComment("");gh(u,c,h,d),Zt(h,c),Ch(c,c[l]=Nx(h,c,h,d)),Jd(d)&&Yy(u,c,d),null!=o&&Xy(c,d,a)}(6,Zde,2,4,"li",3),function ON(n,e){const t=ye();let r;const i=n+Le;t.firstCreatePass?(r=function m8(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Ns(r.type)),o=er(D);try{const a=ah(!1),c=s();return ah(a),function r4(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,T(),i,c),c}finally{er(o)}}(7,"async"),At()(),wr(8,"router-outlet")),2&t&&(vr(6),Wi("ngForOf",PN(7,1,r.users)))},dependencies:[t1,gw,Xde,o1],styles:[".container[_ngcontent-%COMP%]{width:80%;margin:auto}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:1rem;padding:1rem}h2[_ngcontent-%COMP%]{margin:0}",".toolbar[_ngcontent-%COMP%] {\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n\n\n\n  \n  @media screen and (max-width: 767px) {\n  \n  }\n\n  @media screen and (max-width: 575px) {\n    \n  }"]}),n})();class Wj{}class ehe{}const Ui="*";function Kj(n,e=null){return{type:2,steps:n,options:e}}function Qj(n){return{type:6,styles:n,offset:null}}function Yj(n){Promise.resolve().then(n)}class Md{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Yj(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Xj{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?Yj(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const eS="!";function Zj(n){return new E(3e3,!1)}function Phe(){return typeof window<"u"&&typeof window.document<"u"}function tS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ts(n){switch(n.length){case 0:return new Md;case 1:return n[0];default:return new Xj(n)}}function Jj(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let c=-1,u=null;if(r.forEach(l=>{const d=l.get("offset"),h=d==c,f=h&&u||new Map;l.forEach((p,g)=>{let m=g,v=p;if("offset"!==g)switch(m=e.normalizePropertyName(m,o),v){case eS:v=i.get(g);break;case Ui:v=s.get(g);break;default:v=e.normalizeStyleValue(g,m,v,o)}f.set(m,v)}),h||a.push(f),u=f,c=d}),o.length)throw function Ihe(n){return new E(3502,!1)}();return a}function nS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&rS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&rS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&rS(t,"destroy",n)))}}function rS(n,e,t){const s=iS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function iS(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Kn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function eG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let sS=(n,e)=>!1,tG=(n,e,t)=>[],nG=null;function oS(n){const e=n.parentNode||n.host;return e===nG?null:e}(tS()||typeof Element<"u")&&(Phe()?(nG=(()=>document.documentElement)(),sS=(n,e)=>{for(;e;){if(e===n)return!0;e=oS(e)}return!1}):sS=(n,e)=>n.contains(e),tG=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Fo=null,rG=!1;const iG=sS,sG=tG;let oG=(()=>{class n{validateStyleProperty(t){return function Lhe(n){Fo||(Fo=function Vhe(){return typeof document<"u"?document.body:null}()||{},rG=!!Fo.style&&"WebkitAppearance"in Fo.style);let e=!0;return Fo.style&&!function Fhe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Fo.style,!e&&rG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Fo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return iG(t,r)}getParentElement(t){return oS(t)}query(t,r,i){return sG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new Md(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),aS=(()=>{class n{}return n.NOOP=new oG,n})();const Uhe=1e3,cS="ng-enter",em="ng-leave",tm="ng-trigger",nm=".ng-trigger",cG="ng-animating",uS=".ng-animating";function Bi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lS(parseFloat(e[1]),e[2])}function lS(n,e){return"s"===e?n*Uhe:n}function rm(n,e,t){return n.hasOwnProperty("duration")?n:function $he(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Zj()),{duration:0,delay:0,easing:""};i=lS(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=lS(parseFloat(c),a[4]));const u=a[5];u&&(o=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function the(){return new E(3100,!1)}()),a=!0),s<0&&(e.push(function nhe(){return new E(3101,!1)}()),a=!0),a&&e.splice(c,0,Zj())}return{duration:i,delay:s,easing:o}}(n,e,t)}function xd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function uG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Cs(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function dG(n,e,t){return t?e+":"+t+";":""}function hG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=dG(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=dG(0,zhe(t),n.style[t]));n.setAttribute("style",e)}function ei(n,e,t){n.style&&(e.forEach((r,i)=>{const s=hS(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),tS()&&hG(n))}function Lo(n,e){n.style&&(e.forEach((t,r)=>{const i=hS(r);n.style[i]=""}),tS()&&hG(n))}function kd(n){return Array.isArray(n)?1==n.length?n[0]:Kj(n):n}const dS=new RegExp("{{\\s*(.+?)\\s*}}","g");function fG(n){let e=[];if("string"==typeof n){let t;for(;t=dS.exec(n);)e.push(t[1]);dS.lastIndex=0}return e}function Nd(n,e,t){const r=n.toString(),i=r.replace(dS,(s,o)=>{let a=e[o];return null==a&&(t.push(function ihe(n){return new E(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function im(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Hhe=/-+([a-z0-9])/g;function hS(n){return n.replace(Hhe,(...e)=>e[1].toUpperCase())}function zhe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function she(n){return new E(3004,!1)}()}}function pG(n,e){return window.getComputedStyle(n)[e]}const am="*";function Xhe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Zhe(n,e,t){if(":"==n[0]){const c=function Jhe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function vhe(n){return new E(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function _he(n){return new E(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(gG(i,o));"<"==s[0]&&!(i==am&&o==am)&&e.push(gG(o,i))}(r,t,e)):t.push(n),t}const cm=new Set(["true","1"]),um=new Set(["false","0"]);function gG(n,e){const t=cm.has(n)||um.has(n),r=cm.has(e)||um.has(e);return(i,s)=>{let o=n==am||n==i,a=e==am||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?cm.has(n):um.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?cm.has(e):um.has(e)),o&&a}}const efe=new RegExp("s*:selfs*,?","g");function fS(n,e,t,r){return new tfe(n).build(e,t,r)}class tfe{constructor(e){this._driver=e}build(e,t,r){const i=new ife(t);return this._resetContextStyleTimingState(i),Qn(this,kd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function ahe(){return new E(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(l=>{c.name=l,s.push(this.visitState(c,t))}),c.name=u}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function che(){return new E(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{fG(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(im(s.values()),t.errors.push(function uhe(n,e){return new E(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Qn(this,kd(e.animation),t);return{type:1,matchers:Xhe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Vo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Qn(this,r,t)),options:Vo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Qn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Vo(e.options)}}visitAnimate(e,t){const r=function ofe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pS(rm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=pS(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=rm(t,e);return pS(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Qj({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=Qj(u)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Ui?r.push(a):t.errors.push(new E(3002,!1)):r.push(uG(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const u=t.collectedStyles.get(t.currentQuerySelector),l=u.get(c);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(t.errors.push(function dhe(n,e,t,r,i){return new E(3010,!1)}()),d=!1),s=l.startTime),d&&u.set(c,{startTime:s,endTime:i}),t.options&&function Ghe(n,e,t){const r=e.params||{},i=fG(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function rhe(n){return new E(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hhe(){return new E(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,u=0;const l=e.steps.map(v=>{const I=this._makeStyleAst(v,t);let _=null!=I.offset?I.offset:function sfe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),M=0;return null!=_&&(s++,M=I.offset=_),c=c||M<0||M>1,a=a||M<u,u=M,o.push(M),I});c&&t.errors.push(function fhe(){return new E(3012,!1)}()),a&&t.errors.push(function phe(){return new E(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function ghe(){return new E(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return l.forEach((v,I)=>{const _=h>0?I==f?1:h*I:o[I],M=_*m;t.currentTime=p+g.delay+M,g.duration=M,this._validateStyleAst(v,t),v.offset=_,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:Qn(this,kd(e.animation),t),options:Vo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Vo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Vo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function nfe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(efe,"")),n=n.replace(/@\*/g,nm).replace(/@\w+/g,t=>nm+"-"+t.slice(1)).replace(/:animating/g,uS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Kn(t.collectedStyles,t.currentQuerySelector,new Map);const a=Qn(this,kd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Vo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function mhe(){return new E(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:rm(e.timings,t.errors,!0);return{type:12,animation:Qn(this,kd(e.animation),t),timings:r,options:null}}}class ife{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vo(n){return n?(n=xd(n)).params&&(n.params=function rfe(n){return n?xd(n):null}(n.params)):n={},n}function pS(n,e,t){return{duration:n,delay:e,easing:t}}function gS(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class lm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ufe=new RegExp(":enter","g"),dfe=new RegExp(":leave","g");function mS(n,e,t,r,i,s=new Map,o=new Map,a,c,u=[]){return(new hfe).buildKeyframes(n,e,t,r,i,s,o,a,c,u)}class hfe{buildKeyframes(e,t,r,i,s,o,a,c,u,l=[]){u=u||new lm;const d=new yS(e,t,u,i,s,l,[]);d.options=c;const h=c.delay?Bi(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,c),Qn(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[gS(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Bi(Nd(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Bi(r.duration):null,a=null!=r.delay?Bi(r.delay):null;return 0!==o&&e.forEach(c=>{const u=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Qn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=dm);const o=Bi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Qn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Bi(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Qn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return rm(t.params?Nd(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Bi(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=dm);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,l)=>{t.currentQueryIndex=l;const d=t.createSubContext(e.options,u);s&&d.delayNextStep(s),u===t.element&&(c=d.currentTimeline),Qn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const l=t.currentTimeline;c&&l.delayNextStep(c);const d=l.currentTime;Qn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const dm={};class yS{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new hm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Bi(r.duration)),null!=r.delay&&(i.delay=Bi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Nd(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new yS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=dm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new ffe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(ufe,"."+this._enterClassName)).replace(dfe,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function yhe(n){return new E(3014,!1)}()),a}}class hm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new hm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ui),this._currentKeyframe.set(t,Ui);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function pfe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Ui)}else Cs(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const u=Nd(c,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ui),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const u=Cs(a,new Map,this._backFill);u.forEach((l,d)=>{l===eS?e.add(d):l===Ui&&t.add(d)}),r||u.set("offset",c/this.duration),i.push(u)});const s=e.size?im(e.values()):[],o=t.size?im(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return gS(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class ffe extends hm{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=Cs(e[0]);c.set("offset",0),s.push(c);const u=Cs(e[0]);u.set("offset",_G(a)),s.push(u);const l=e.length-1;for(let d=1;d<=l;d++){let h=Cs(e[d]);const f=h.get("offset");h.set("offset",_G((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return gS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function _G(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class _S{}const gfe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mfe extends _S{normalizePropertyName(e,t){return hS(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(gfe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function ohe(n,e){return new E(3005,!1)}())}return o+s}}function vG(n,e,t,r,i,s,o,a,c,u,l,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:d,errors:h}}const vS={};class wG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function yfe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,u,l){const d=[],h=this.ast.options&&this.ast.options.params||vS,p=this.buildStyles(r,a&&a.params||vS,d),g=c&&c.params||vS,m=this.buildStyles(i,g,d),v=new Set,I=new Map,_=new Map,M="void"===i,U={params:_fe(g,h),delay:this.ast.options?.delay},L=l?[]:mS(e,t,this.ast.animation,s,o,p,m,U,u,d);let ge=0;if(L.forEach(Yn=>{ge=Math.max(Yn.duration+Yn.delay,ge)}),d.length)return vG(t,this._triggerName,r,i,M,p,m,[],[],I,_,ge,d);L.forEach(Yn=>{const xr=Yn.element,PG=Kn(I,xr,new Set);Yn.preStyleProps.forEach(Uo=>PG.add(Uo));const Od=Kn(_,xr,new Set);Yn.postStyleProps.forEach(Uo=>Od.add(Uo)),xr!==t&&v.add(xr)});const _t=im(v.values());return vG(t,this._triggerName,r,i,M,p,m,L,_t,I,_,ge)}}function _fe(n,e){const t=xd(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class vfe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=xd(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Nd(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class bfe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new vfe(i.style,i.options&&i.options.params||{},r))}),bG(this.states,"true","1"),bG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new wG(e,i,this.states))}),this.fallbackTransition=function Efe(n,e,t){return new wG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function bG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ife=new lm;class Dfe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=fS(this._driver,t,r,i);if(r.length)throw function Dhe(n){return new E(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Jj(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=mS(this._driver,t,s,cS,em,new Map,new Map,r,Ife,i),o.forEach(l=>{const d=Kn(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function The(){return new E(3300,!1)}()),o=[]),i.length)throw function Che(n){return new E(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,Ui))})});const u=Ts(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function She(n){return new E(3301,!1)}();return t}listen(e,t,r,i){const s=iS(t,"","","");return nS(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const EG="ng-animate-queued",wS="ng-animate-disabled",Mfe=[],IG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dr="__ng_removed";class bS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Ofe(n){return n??null}(r?e.value:e),r){const s=xd(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Rd="void",ES=new bS(Rd);class kfe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,hr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Ahe(n,e){return new E(3302,!1)}();if(null==r||0==r.length)throw function Mhe(n){return new E(3303,!1)}();if(!function Pfe(n){return"start"==n||"done"==n}(r))throw function xhe(n,e){return new E(3400,!1)}();const s=Kn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Kn(this._engine.statesByElement,e,new Map);return a.has(t)||(hr(e,tm),hr(e,tm+"-"+t),a.set(t,ES)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function khe(n){return new E(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new IS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(hr(e,tm),hr(e,tm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const u=new bS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=ES),u.value!==Rd&&c.value===u.value){if(!function Vfe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,u.params)){const g=[],m=s.matchStyles(c.value,c.params,g),v=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Lo(e,m),ei(e,v)})}return}const h=Kn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(c.value,u.value,e,u.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:u,player:o,isFallbackTransition:p}),p||(hr(e,EG),o.onStart(()=>{Vc(e,EG)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,nm,!0);r.forEach(i=>{if(i[dr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){const l=this.trigger(e,u,Rd,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Ts(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,u=r.get(o)||ES,l=new bS(Rd),d=new IS(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[dr];(!s||s===IG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){hr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=iS(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,nS(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Nfe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kfe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const u=r.indexOf(c);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(fm(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!fm(t))return;const s=t[dr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),hr(e,wS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Vc(e,wS))}removeNode(e,t,r,i){if(fm(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[dr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return fm(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,nm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,uS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ts(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[dr];if(t&&t.setForRemoval){if(e[dr]=IG,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(wS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)hr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ts(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Nhe(n){return new E(3402,!1)}()}_flushAnimations(e,t){const r=new lm,i=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(B=>{l.add(B);const q=this.driver.query(B,".ng-animate-queued",!0);for(let J=0;J<q.length;J++)l.add(q[J])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=CG(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((B,q)=>{const J=cS+g++;p.set(q,J),B.forEach(be=>hr(be,J))});const m=[],v=new Set,I=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){const q=this.collectedLeaveElements[B],J=q[dr];J&&J.setForRemoval&&(m.push(q),v.add(q),J.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(be=>v.add(be)):I.add(q))}const _=new Map,M=CG(h,Array.from(v));M.forEach((B,q)=>{const J=em+g++;_.set(q,J),B.forEach(be=>hr(be,J))}),e.push(()=>{f.forEach((B,q)=>{const J=p.get(q);B.forEach(be=>Vc(be,J))}),M.forEach((B,q)=>{const J=_.get(q);B.forEach(be=>Vc(be,J))}),m.forEach(B=>{this.processLeaveNode(B)})});const U=[],L=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(t).forEach(J=>{const be=J.player,Pt=J.element;if(U.push(be),this.collectedEnterElements.length){const on=Pt[dr];if(on&&on.setForMove){if(on.previousTriggersValues&&on.previousTriggersValues.has(J.triggerName)){const Bo=on.previousTriggersValues.get(J.triggerName),fr=this.statesByElement.get(J.element);if(fr&&fr.has(J.triggerName)){const mm=fr.get(J.triggerName);mm.value=Bo,fr.set(J.triggerName,mm)}}return void be.destroy()}}const ti=!d||!this.driver.containsElement(d,Pt),Xn=_.get(Pt),Ss=p.get(Pt),We=this._buildInstruction(J,r,Ss,Xn,ti);if(We.errors&&We.errors.length)return void L.push(We);if(ti)return be.onStart(()=>Lo(Pt,We.fromStyles)),be.onDestroy(()=>ei(Pt,We.toStyles)),void i.push(be);if(J.isFallbackTransition)return be.onStart(()=>Lo(Pt,We.fromStyles)),be.onDestroy(()=>ei(Pt,We.toStyles)),void i.push(be);const VG=[];We.timelines.forEach(on=>{on.stretchStartingKeyframe=!0,this.disabledNodes.has(on.element)||VG.push(on)}),We.timelines=VG,r.append(Pt,We.timelines),o.push({instruction:We,player:be,element:Pt}),We.queriedElements.forEach(on=>Kn(a,on,[]).push(be)),We.preStyleProps.forEach((on,Bo)=>{if(on.size){let fr=c.get(Bo);fr||c.set(Bo,fr=new Set),on.forEach((mm,CS)=>fr.add(CS))}}),We.postStyleProps.forEach((on,Bo)=>{let fr=u.get(Bo);fr||u.set(Bo,fr=new Set),on.forEach((mm,CS)=>fr.add(CS))})});if(L.length){const B=[];L.forEach(q=>{B.push(function Rhe(n,e){return new E(3505,!1)}())}),U.forEach(q=>q.destroy()),this.reportError(B)}const ge=new Map,_t=new Map;o.forEach(B=>{const q=B.element;r.has(q)&&(_t.set(q,q),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,ge))}),i.forEach(B=>{const q=B.element;this._getPreviousPlayers(q,!1,B.namespaceId,B.triggerName,null).forEach(be=>{Kn(ge,q,[]).push(be),be.destroy()})});const Yn=m.filter(B=>AG(B,c,u)),xr=new Map;TG(xr,this.driver,I,u,Ui).forEach(B=>{AG(B,c,u)&&Yn.push(B)});const Od=new Map;f.forEach((B,q)=>{TG(Od,this.driver,new Set(B),c,eS)}),Yn.forEach(B=>{const q=xr.get(B),J=Od.get(B);xr.set(B,new Map([...Array.from(q?.entries()??[]),...Array.from(J?.entries()??[])]))});const Uo=[],FG=[],LG={};o.forEach(B=>{const{element:q,player:J,instruction:be}=B;if(r.has(q)){if(l.has(q))return J.onDestroy(()=>ei(q,be.toStyles)),J.disabled=!0,J.overrideTotalTime(be.totalTime),void i.push(J);let Pt=LG;if(_t.size>1){let Xn=q;const Ss=[];for(;Xn=Xn.parentNode;){const We=_t.get(Xn);if(We){Pt=We;break}Ss.push(Xn)}Ss.forEach(We=>_t.set(We,Pt))}const ti=this._buildAnimation(J.namespaceId,be,ge,s,Od,xr);if(J.setRealPlayer(ti),Pt===LG)Uo.push(J);else{const Xn=this.playersByElement.get(Pt);Xn&&Xn.length&&(J.parentPlayer=Ts(Xn)),i.push(J)}}else Lo(q,be.fromStyles),J.onDestroy(()=>ei(q,be.toStyles)),FG.push(J),l.has(q)&&i.push(J)}),FG.forEach(B=>{const q=s.get(B.element);if(q&&q.length){const J=Ts(q);B.setRealPlayer(J)}}),i.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<m.length;B++){const q=m[B],J=q[dr];if(Vc(q,em),J&&J.hasAnimation)continue;let be=[];if(a.size){let ti=a.get(q);ti&&ti.length&&be.push(...ti);let Xn=this.driver.query(q,uS,!0);for(let Ss=0;Ss<Xn.length;Ss++){let We=a.get(Xn[Ss]);We&&We.length&&be.push(...We)}}const Pt=be.filter(ti=>!ti.destroyed);Pt.length?Ffe(this,q,Pt):this.processLeaveNode(q)}return m.length=0,Uo.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();const q=this.players.indexOf(B);this.players.splice(q,1)}),B.play()}),Uo}elementContainsData(e,t){let r=!1;const i=t[dr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==Rd;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const u=c.element,l=u!==s,d=Kn(r,u,[]);this._getPreviousPlayers(u,l,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Lo(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,u=[],l=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;l.add(g);const m=g[dr];if(m&&m.removedBeforeQueried)return new Md(p.duration,p.delay);const v=g!==c,I=function Lfe(n){const e=[];return SG(n,e),e}((r.get(g)||Mfe).map(ge=>ge.getRealPlayer())).filter(ge=>!!ge.element&&ge.element===g),_=s.get(g),M=o.get(g),U=Jj(0,this._normalizer,0,p.keyframes,_,M),L=this._buildPlayer(p,U,I);if(p.subTimeline&&i&&d.add(g),v){const ge=new IS(e,a,g);ge.setRealPlayer(L),u.push(ge)}return L});u.forEach(p=>{Kn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Rfe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>hr(p,cG));const f=Ts(h);return f.onDestroy(()=>{l.forEach(p=>Vc(p,cG)),ei(c,t.toStyles)}),d.forEach(p=>{Kn(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Md(e.duration,e.delay)}}class IS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Md,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>nS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Kn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fm(n){return n&&1===n.nodeType}function DG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function TG(n,e,t,r,i){const s=[];t.forEach(c=>s.push(DG(c)));const o=[];r.forEach((c,u)=>{const l=new Map;c.forEach(d=>{const h=e.computeStyle(u,d,i);l.set(d,h),(!h||0==h.length)&&(u[dr]=xfe,o.push(u))}),n.set(u,l)});let a=0;return t.forEach(c=>DG(c,s[a++])),o}function CG(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;const u=a.parentNode;return c=t.has(u)?u:i.has(u)?r:o(u),s.set(a,c),c}return e.forEach(a=>{const c=o(a);c!==r&&t.get(c).push(a)}),t}function hr(n,e){n.classList?.add(e)}function Vc(n,e){n.classList?.remove(e)}function Ffe(n,e,t){Ts(t).onDone(()=>n.processLeaveNode(e))}function SG(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Xj?SG(r.players,e):e.push(r)}}function AG(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class pm{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Nfe(e,t,r),this._timelineEngine=new Dfe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],u=[],l=fS(this._driver,s,c,u);if(c.length)throw function Ehe(n,e){return new E(3404,!1)}();a=function wfe(n,e,t){return new bfe(n,e,t)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=eG(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=eG(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Bfe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ei(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ei(this._element,this._initialStyles),this._endStyles&&(ei(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Lo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Lo(this._element,this._endStyles),this._endStyles=null),ei(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function DS(n){let e=null;return n.forEach((t,r)=>{(function $fe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class MG{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:pG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jfe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return iG(e,t)}getParentElement(e){return oS(e)}query(e,t,r){return sG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const u=new Map,l=o.filter(f=>f instanceof MG);(function qhe(n,e){return 0===n||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function jhe(n){return n.length?n[0]instanceof Map?n:n.map(e=>uG(e)):[]}(t).map(f=>Cs(f));d=function Whe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,pG(n,a)))}}return e}(e,d,u);const h=function Ufe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=DS(e[0]),e.length>1&&(r=DS(e[e.length-1]))):e instanceof Map&&(t=DS(e)),t||r?new Bfe(n,t,r):null}(e,d);return new MG(e,d,c,h)}}let Gfe=(()=>{class n extends Wj{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:pr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Kj(t):t;return xG(this._renderer,null,r,"register",[i]),new Hfe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(k(fu),k(rt))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class Hfe extends ehe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new zfe(this._id,e,t||{},this._renderer)}}class zfe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return xG(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xG(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const kG="@.disabled";let qfe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let l=this._rendererCache.get(s);return l||(l=new NG("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,l)),l}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=l=>{Array.isArray(l)?l.forEach(c):this.engine.registerTrigger(o,a,t,l.name,l)};return r.data.animation.forEach(c),new Wfe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(k(fu),k(pm),k(Se))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class NG{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==kG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Wfe extends NG{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==kG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Kfe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Qfe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Yfe=(()=>{class n extends pm{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(k(rt),k(aS),k(_S),k(Nu))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const RG=[{provide:Wj,useClass:Gfe},{provide:_S,useFactory:function Xfe(){return new mfe}},{provide:pm,useClass:Yfe},{provide:fu,useFactory:function Zfe(n,e,t){return new qfe(n,e,t)},deps:[pf,pm,Se]}],TS=[{provide:aS,useFactory:()=>new jfe},{provide:qh,useValue:"BrowserAnimations"},...RG],OG=[{provide:aS,useClass:oG},{provide:qh,useValue:"NoopAnimations"},...RG];let Jfe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?OG:TS}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=ht({providers:TS,imports:[k1]}),n})();const epe_firebase={projectId:"user-display-app",appId:"1:177478032136:web:654b5c687ea7170dcdaabd",storageBucket:"user-display-app.appspot.com",apiKey:"AIzaSyDh7ezGj3AD_hE7tsyRzgzyaY60A-WpPm0",authDomain:"user-display-app.firebaseapp.com",messagingSenderId:"177478032136",measurementId:"G-JC0T5GM7K0"};let tpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vt({type:n,bootstrap:[Jde]}),n.\u0275inj=ht({imports:[k1,QX,Jfe,Bde,Yde,wne(()=>bne(epe_firebase)),Sle(()=>xle()),bQ]}),n})();i9().bootstrapModule(tpe).catch(n=>console.error(n))}},Ne=>{Ne(Ne.s=908)}]);